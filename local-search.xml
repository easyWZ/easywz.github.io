<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>微前端</title>
    <link href="/2025/12/04/Front-end/JavaScript/weiQianDuan/"/>
    <url>/2025/12/04/Front-end/JavaScript/weiQianDuan/</url>
    
    <content type="html"><![CDATA[<h1 id="微前端"><a href="#微前端" class="headerlink" title="微前端"></a>微前端</h1><p>微前端是一种将前端整体应用拆分为多个更小、更独立模块的架构风格。每个模块（通常称为“微应用”或“子应用”）都可以由不同的团队独立开发、测试、部署，并最终组合成一个完整的应用呈现给用户。</p><p>简单来说，可以把它理解为<strong>前端领域的“微服务”</strong>。</p><h2 id="1-因何产生"><a href="#1-因何产生" class="headerlink" title="1. 因何产生"></a>1. 因何产生</h2><p>在传统的“单体前端”架构中，随着项目变大，会遇到一些典型难题: </p><ul><li><strong>代码库膨胀</strong>：所有功能都在一个项目里，代码变得庞大、复杂，启动和构建速度极慢</li><li><strong>团队协作低效</strong>：多个团队在同一个代码库上工作，技术栈必须统一，上线流程互相掣肘</li><li><strong>升级与维护困难</strong>：想升级整个项目的框架版本（如从Vue 2到Vue 3）风险巨大，牵一发而动全身</li></ul><p>微前端通过“分治”思想来解决这些问题，它的核心特征包括：</p><ul><li><strong>独立开发与部署</strong>：每个子应用有独立的代码仓库、构建流程和发布周期，可以单独上线</li><li><strong>技术栈无关</strong>：主应用不限制子应用的技术栈，React、Vue、Angular、甚至jQuery可以共存</li><li><strong>运行时集成</strong>：子应用通常作为独立的模块，在浏览器运行时动态组合</li></ul><h2 id="2-工作原理"><a href="#2-工作原理" class="headerlink" title="2. 工作原理"></a>2. 工作原理</h2><p>微前端的工作原理，本质上是<strong>主应用作为“调度中心”</strong>，根据路由规则，<strong>动态调度、管理和协调多个完全独立的子应用在浏览器中加载、运行和卸载</strong>。它通过一系列技术手段（沙箱、样式隔离等）确保这些独立应用能无缝、无冲突地共存。</p><ol><li><p><strong>应用隔离（沙箱）</strong></p><ol><li><strong>JS沙箱</strong>：这是核心机制。框架会创建一个隔离的JavaScript运行环境（沙箱），主要做两件事：<ol><li><strong>快照&#x2F;恢复</strong>：在子应用加载前，对 window 等全局对象拍照；在子应用卸载时，还原现场，并清理子应用新增的全局变量。</li><li><strong>代理&#x2F;劫持</strong>：通过 Proxy 等技术，创建一个假的 window 对象给子应用使用。子应用的所有修改实际上作用于这个代理对象，不会真正污染全局。</li></ol></li><li><strong>样式隔离</strong>：常见方案包括：<ol><li>Shadow DOM：利用浏览器原生能力实现严格的样式隔离。</li><li>CSS <strong>Scope</strong>：框架在加载子应用样式时，自动为所有CSS规则添加一个独特的前缀（如 data-qiankun-xxx），确保样式只在该容器内生效。</li></ol></li></ol></li><li><p><strong>应用通信</strong></p><ol><li>基于CustomEvent的发布订阅：主应用作为事件中心，子应用触发和监听自定义事件。</li><li>状态共享：维护一个全局的、约定格式的状态对象（如通过 initGlobalState），主应用和子应用都可以监听和修改。</li><li>将通信降至最低：最佳实践是尽量减少应用间通信，优先考虑通过URL参数或路由状态来传递信息</li></ol></li><li><p><strong>资源加载与执行</strong></p><p> 子应用需要按约定暴露生命周期钩子函数（如 bootstrap, mount, unmount），主应用在恰当的时机（如路由匹配时）通过 fetch 获取子应用的入口文件（通常是一个JavaScript和一个CSS文件），然后动态执行这些脚本，调用其生命周期函数，完成挂载。</p></li><li><p>以qiankun为例：看以下配置</p> <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 主应用 main-app</span><br>import &#123; registerMicroApps, start &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;qiankun&#x27;</span>;<br><br><span class="hljs-comment">// 1. 注册子应用</span><br><span class="hljs-title function_ invoke__">registerMicroApps</span>([<br>  &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;react-app&#x27;</span>, // 子应用名称<br>    <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;//localhost:7100&#x27;</span>, // 子应用独立运行的地址<br>    <span class="hljs-attr">container</span>: <span class="hljs-string">&#x27;#subapp-container&#x27;</span>, // 主应用中用于挂载的容器<br>    <span class="hljs-attr">activeRule</span>: <span class="hljs-string">&#x27;/react&#x27;</span>, // 激活路由规则<br>  &#125;,<br>  &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;vue-app&#x27;</span>,<br>    <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;//localhost:7200&#x27;</span>,<br>    <span class="hljs-attr">container</span>: <span class="hljs-string">&#x27;#subapp-container&#x27;</span>,<br>    <span class="hljs-attr">activeRule</span>: <span class="hljs-string">&#x27;/vue&#x27;</span>,<br>  &#125;<br>]);<br><br><span class="hljs-comment">// 2. 启动微前端框架</span><br><span class="hljs-title function_ invoke__">start</span>();<br></code></pre></td></tr></table></figure><p>访问 <code>/react</code> 路径时，qiankun 会自动加载 <code>//localhost:7100</code> 下的资源，将其挂载到<code>#subapp-container</code> 这个 <code>&lt;div&gt;</code> 中。</p></li></ol><h1 id="微前端框架"><a href="#微前端框架" class="headerlink" title="微前端框架"></a>微前端框架</h1><h2 id="1-市面上主流的微前端框架"><a href="#1-市面上主流的微前端框架" class="headerlink" title="1. 市面上主流的微前端框架"></a>1. 市面上主流的微前端框架</h2><table><thead><tr><th>框架</th><th>核心原理 &#x2F; 特点</th><th>应用隔离能力</th><th>主要优势</th><th>注意事项 &#x2F; 潜在不足</th></tr></thead><tbody><tr><td><strong>qiankun</strong></td><td>基于 Single-SPA 封装，采用“HTML Entry”方式加载子应用</td><td>JS沙箱（多种方案）与CSS样式隔离</td><td>功能完善，生态成熟，社区资料丰富；阿里系生产验证</td><td>对新构建工具（如Vite）需插件支持；其主仓库近期更新较少</td></tr><tr><td><strong>Single-SPA</strong></td><td>微前端“元框架”，主要提供应用生命周期管理（如mount, unmount）和路由集成</td><td>无内置隔离，需自行实现或结合其他方案</td><td>框架无关，灵活度高；可与多种技术方案组合</td><td>上手成本较高，需要自行处理隔离、通信等</td></tr><tr><td><strong>无界 (Wujie)</strong></td><td>基于 WebComponent + iframe 的融合方案。利用iframe实现天然强隔离，通过代理提升体验</td><td>极高（iframe原生隔离）</td><td>开箱即用，接入简单；支持子应用保活；对Vite支持友好</td><td>主要解决iframe的体验问题，但架构相对特殊。腾讯文档等产品有使用</td></tr><tr><td><strong>Micro-App (京东)</strong></td><td>基于 WebComponent 和 CustomElement 实现，将子应用封装为自定义组件</td><td>JS沙箱与CSS隔离，元素隔离</td><td>轻量、接入简单；功能丰富（如资源补全、插件系统）</td><td>社区生态和认知度相对qiankun较小</td></tr><tr><td><strong>模块联邦 (Module Federation)</strong></td><td>Webpack 5原生特性，允许应用在运行时直接共享模块（组件、库等）</td><td>依赖共享而非严格隔离，需注意版本管理</td><td>原生支持，性能较好；实现模块级共享，集成灵活</td><td>更偏向模块化共建，对项目规范和构建工具（Webpack 5+）有要求</td></tr><tr><td><strong>Garfish (字节跳动)</strong></td><td>功能完善的微前端框架，提供完整的应用治理、沙箱、通信等能力</td><td>支持沙箱隔离</td><td>字节内部大规模验证；对Vue3等现代框架支持深入</td><td>整体生态和社区讨论热度相对传统方案略低。</td></tr></tbody></table><h2 id="2-根据需求选择对应的技术框架"><a href="#2-根据需求选择对应的技术框架" class="headerlink" title="2. 根据需求选择对应的技术框架"></a>2. 根据需求选择对应的技术框架</h2><ul><li><strong>追求稳定与生态</strong>：若团队技术栈偏传统（如Webpack+React），需要成熟方案，<strong>qiankun</strong> 仍是可靠选择，但需注意社区动态。</li><li><strong>强调开箱即用与隔离安全</strong>：如果项目涉及嵌入不可控的第三方页面（如SaaS系统），或对子应用保活、样式彻底隔离有强需求，<strong>无界 (Wujie)</strong> 非常合适</li><li><strong>技术栈现代且追求灵活集成</strong>：如果你的主、子应用都基于 Vite + Vue3&#x2F;React 等现代架构，且希望更灵活地共享组件和模块（而非整个应用），<strong>模块联邦</strong> 或 <strong>Micro-App</strong> 是更“原生”和轻量的选择</li><li><strong>需要高度定制化或作为学习基础</strong>：如果你希望对微前端有完全的控制权，或用于研究学习，可以从 <strong>Single-SPA</strong> 开始。</li></ul><h1 id="qiankun"><a href="#qiankun" class="headerlink" title="qiankun"></a>qiankun</h1><p><a href="https://qiankun.umijs.org/zh/guide/getting-started">qiankun官方文档快速上手</a></p><h2 id="1-qiankun-对微前端的定义"><a href="#1-qiankun-对微前端的定义" class="headerlink" title="1. qiankun 对微前端的定义"></a>1. qiankun 对微前端的定义</h2><p>微前端是一种多个团队通过独立发布功能的方式来共同构建现代化 web 应用的技术手段及方法策略。</p><h2 id="2-qiankun-的核心设计理念"><a href="#2-qiankun-的核心设计理念" class="headerlink" title="2. qiankun 的核心设计理念"></a>2. qiankun 的核心设计理念</h2><ul><li><p><strong>简单</strong></p><p>  由于主应用微应用都能做到技术栈无关，qiankun 对于用户而言只是一个类似 jQuery 的库，你需要调用几个 qiankun 的 API 即可完成应用的微前端改造。同时由于 qiankun 的 HTML entry 及沙箱的设计，使得微应用的接入像使用 iframe 一样简单。</p></li><li><p><strong>解耦&#x2F;技术栈无关</strong></p><p>  微前端的核心目标是将巨石应用拆解成若干可以自治的松耦合微应用，而 qiankun 的诸多设计均是秉持这一原则，如 HTML entry、沙箱、应用间通信等。这样才能确保微应用真正具备 独立开发、独立运行 的能力。</p></li></ul><h2 id="3-qiankun-的特性"><a href="#3-qiankun-的特性" class="headerlink" title="3. qiankun 的特性"></a>3. qiankun 的特性</h2><ol><li>基于 single-spa 封装，提供了更加开箱即用的 API。</li><li>技术栈无关，任意技术栈的应用均可 使用&#x2F;接入，不论是 React&#x2F;Vue&#x2F;Angular&#x2F;JQuery 还是其他等框架。</li><li>HTML Entry 接入方式，让你接入微应用像使用 iframe 一样简单。</li><li>​样式隔离，确保微应用之间样式互相不干扰。</li><li>JS 沙箱，确保微应用之间 全局变量&#x2F;事件 不冲突。</li><li>资源预加载，在浏览器空闲时间预加载未打开的微应用资源，加速微应用打开速度。</li><li>umi 插件，提供了 @umijs&#x2F;plugin-qiankun 供 umi 应用一键切换成微前端架构系统。</li></ol><h2 id="4-为什么不使用-iframe"><a href="#4-为什么不使用-iframe" class="headerlink" title="4. 为什么不使用 iframe"></a>4. 为什么不使用 iframe</h2><h3 id="1-qiankun关于iframe的社区回答："><a href="#1-qiankun关于iframe的社区回答：" class="headerlink" title="1. qiankun关于iframe的社区回答："></a>1. qiankun关于iframe的社区回答：</h3><ol><li>url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。</li><li>UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1&#x2F;4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..</li><li>全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。</li><li>慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。</li></ol><h3 id="2-iframe的优劣势"><a href="#2-iframe的优劣势" class="headerlink" title="2. iframe的优劣势"></a>2. iframe的优劣势</h3><ol><li><p><strong>优点</strong>（iframe非常适合集成那些你“不想管也管不了”的独立应用）</p><ol><li><strong>无与伦比的隔离性</strong>：这是其最大的价值。当你需要嵌入一个完全不受信任的第三方页面（比如来自另一家公司的工具），或者嵌入一个使用老旧技术栈、可能产生全局污染的内部系统时，iframe是最安全、最省事的选择，它能确保你的主应用稳如泰山</li><li><strong>极致的技术栈无关性</strong>：无论子应用是用什么技术开发的，只要能独立运行并提供URL，iframe就能嵌入。这使其成为低成本整合遗留系统的最佳途径。</li></ol></li><li><p><strong>劣势</strong></p><ol><li><strong>割裂的用户体验</strong>：<ul><li><strong>路由不同步</strong>：iframe内部的页面跳转不会改变主应用的URL，反之亦然。这导致浏览器的前进&#x2F;后退按钮行为异常，用户也难以复制和分享链接到特定子页面。</li><li><strong>UI&#x2F;UX不一致</strong>：子应用有独立的滚动条、无法覆盖全屏的弹窗、无法跨iframe拖拽元素等，都让用户感觉在使用两个不同的软件。</li></ul></li><li><strong>高昂的性能与状态成本</strong>：每个iframe都是一个完整的文档环境，内存和CPU开销远大于普通的DOM节点。最大的痛点在于状态无法保持：iframe一旦刷新或重新加载，其内部的所有状态（如表单填写内容、弹窗打开状态）都会丢失。</li><li><strong>复杂的开发与通信</strong>：主应用与iframe内子应用的任何交互，都必须通过 window.postMessage API进行消息传递，这是一种异步、事件驱动的通信方式，开发、调试和维护都比直接函数调用要复杂得多</li></ol></li></ol><h3 id="3-现代框架如何解决这些问题"><a href="#3-现代框架如何解决这些问题" class="headerlink" title="3. 现代框架如何解决这些问题"></a>3. 现代框架如何解决这些问题</h3><ol><li>URL同步与路由状态丢失<ul><li>传统iframe问题：iframe的URL与主应用URL独立，刷新或前进后退混乱。</li><li>解决方案：主应用统一接管路由。<ol><li><strong>路由劫持</strong>：主应用监听浏览器URL变化（如Hash或History模式）。当路由匹配到某个子应用时，主动通知该子应用，并传递路由信息（如&#x2F;user&#x2F;123）。</li><li><strong>状态同步</strong>：子应用内部的路由库（如Vue Router, React Router）被改造，使其不再直接监听 <code>window.location</code>，而是接收来自主应用的路由信息并更新内部状态。</li></ol></li><li>效果：浏览器地址栏始终显示主应用URL（如 <code>https://main.com/#/app-vue/user/123</code>），刷新后主应用能根据URL重新激活正确的子应用及其状态，前进后退按钮正常工作。</li></ul></li><li>UI与DOM集成<ul><li>传统iframe问题：弹窗、遮罩被限制在iframe矩形框内，无法实现全局UI。</li><li>解决方案：DOM“搬运”与样式重写。<ol><li>静态资源重写：框架在加载子应用的CSS文件时，会将其所有选择器添加一个特定的前缀（如 <code>div -&gt; [data-qiankun-app1] div</code>），确保样式只作用于主应用为它分配的容器内，不会污染全局。</li><li>动态DOM搬运：对于需要全局显示的组件（如你的居中弹窗），框架可以通过组件化的方式暴露接口。例如，子应用调用 <code>window.mainApp.openModal()</code> 方法，将弹窗的组件定义和所需数据传递给主应用，由主应用在全局容器中渲染。像无界等框架甚至可以自动将子应用创建的Modal等元素“提”至主应用body下，实现视觉突破。</li></ol></li></ul></li><li>全局上下文隔离与通信<ul><li>传统iframe问题：完全隔离导致通信困难，Cookie无法共享。</li><li>解决方案：巧妙的“沙箱”与“代理”。<ul><li>JS沙箱：框架（如qiankun、无界）会为每个子应用创建一个伪造的、被代理的全局对象（如 window、document）。子应用对“全局变量”的修改实际作用于这个代理对象上。当子应用切换或卸载时，这个代理对象会被清空或销毁，从而实现完美隔离和状态重置。</li><li>通信机制：提供优雅的API，如基于CustomEvent的发布订阅，或维护一个全局的、可观察的store，主应用和子应用都可以安全地读写和监听。</li><li>登录态共享（Cookie透传）：这是网络层问题。常用方案是：<ul><li>主应用代理：主应用提供一个&#x2F;api&#x2F;proxy&#x2F;*接口，子应用的所有请求都发给主应用，由主应用（同域名）携带Cookie转发给后端，后端响应再传回子应用。</li><li>SSO与Token：更现代的方案是采用单点登录。主应用登录后，将获取的Token（如JWT）通过安全方式（如沙箱内的全局变量）传递给子应用，子应用用自己的域名请求时，在Authorization头中携带此Token完成认证，完全规避Cookie域名限制。</li></ul></li></ul></li></ul></li><li>慢：上下文重建与资源重载<ul><li>传统iframe问题：每次进入都需重建上下文、重新加载所有资源。</li><li>解决方案：应用保活与预加载。<ul><li>应用保活：这是现代框架的关键优化。<strong>当用户从“子应用A”切换到“子应用B”时，框架并不销毁A的沙箱和DOM，而是将其从视图中隐藏。当切回A时，直接显示，实现瞬间恢复，所有内存状态（如变量、打开的表单）都得以保留</strong>。</li><li>资源预加载：在浏览器空闲时，或根据路由预测，<strong>提前加载</strong>子应用的JS和CSS文件到内存缓存中，当真正激活时直接执行，消除网络延迟。</li></ul></li></ul></li><li>这些能力被整合在 qiankun、无界、Micro-App 等框架中。其中，无界的方案尤为独特：它<strong>底层仍使用iframe以获得最强的原生隔离性，但通过代理iframe的document到主应用，让子应用代码实际上在主应用的DOM树中运行</strong>，从而完美解决了UI割裂、通信困难、URL不同步等问题，可以理解为“一个体验像原生组件、但隔离性像iframe的混合体”。</li></ol><!-- [无界官方文档](https://wujie-micro.github.io/doc/) -->]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>自己动手打造一个UI框架</title>
    <link href="/2025/11/25/Front-end/React/uiFramework/"/>
    <url>/2025/11/25/Front-end/React/uiFramework/</url>
    
    <content type="html"><![CDATA[<blockquote><p>技术栈选择 ：React + TypeScript + Scss + Vite + Jest + Testing Library + Storybook</p></blockquote><h2 id="一-初始化项目"><a href="#一-初始化项目" class="headerlink" title="一. 初始化项目"></a>一. 初始化项目</h2><h3 id="1-使用-Vite-快速初始化一个-React-TypeScript-项目"><a href="#1-使用-Vite-快速初始化一个-React-TypeScript-项目" class="headerlink" title="1. 使用 Vite 快速初始化一个 React + TypeScript 项目"></a>1. 使用 Vite 快速初始化一个 React + TypeScript 项目</h3>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm create vite@latest my-ui-library -- --template react-ts<br></code></pre></td></tr></table></figure>  <figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-built_in">create-vite@8.2.0</span><br><span class="hljs-string">Ok</span> <span class="hljs-string">to</span> <span class="hljs-string">proceed</span>? (<span class="hljs-string">y</span>) <br><br>&gt; <span class="hljs-string">npx</span><br>&gt; <span class="hljs-built_in">create-vite</span> <span class="hljs-string">my-ui-library</span> <span class="hljs-built_in">--template</span> <span class="hljs-string">react-ts</span><br><br>│<br>◇  <span class="hljs-string">Use</span> <span class="hljs-string">rolldown-vite</span> (<span class="hljs-string">Experimental</span>)?:<br>│  <span class="hljs-string">No</span><br>│<br>◇  <span class="hljs-string">Install</span> <span class="hljs-string">with</span> <span class="hljs-string">npm</span> <span class="hljs-string">and</span> <span class="hljs-string">start</span> <span class="hljs-string">now</span>?<br>│  <span class="hljs-string">Yes</span><br>│<br>◇  <span class="hljs-string">Scaffolding</span> <span class="hljs-string">project</span> <span class="hljs-string">in</span> /<span class="hljs-string">Users</span>/<span class="hljs-string">wangzou</span>/<span class="hljs-string">myCode</span>/<span class="hljs-string">loading</span>/<span class="hljs-string">my-ui-library</span>...<br>│<br>◇  <span class="hljs-string">Installing</span> <span class="hljs-string">dependencies</span> <span class="hljs-string">with</span> <span class="hljs-string">npm</span>...<br></code></pre></td></tr></table></figure><h3 id="2-自动安装完成后可以看到默认的启动地址，访问可以看到默认的-React-页面。"><a href="#2-自动安装完成后可以看到默认的启动地址，访问可以看到默认的-React-页面。" class="headerlink" title="2. 自动安装完成后可以看到默认的启动地址，访问可以看到默认的 React 页面。"></a>2. 自动安装完成后可以看到默认的启动地址，访问可以看到默认的 React 页面。</h3><h3 id="3-项目结构设计"><a href="#3-项目结构设计" class="headerlink" title="3. 项目结构设计"></a>3. 项目结构设计</h3><p>参考优秀的开源库，一个好的项目目录结构必不可少</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">my-ui-library/<br>├── src/<br>│   ├── components/                 <span class="hljs-comment"># 组件目录</span><br>│   │   ├── Button/<br>│   │   │   ├── Button.tsx          <span class="hljs-comment"># 组件实现文件</span><br>│   │   │   ├── Button.module.scss  <span class="hljs-comment"># CSS Modules样式文件 局部样式文件</span><br>│   │   │   ├── Button.test.tsx     <span class="hljs-comment"># 组件测试文件</span><br>│   │   │   ├── Button.stories.tsx  <span class="hljs-comment"># Storybook文档</span><br>│   │   │   └── index.ts            <span class="hljs-comment"># 组件入口文件</span><br>│   │   └── index.ts                <span class="hljs-comment"># 统一导出所有组件</span><br>│   ├── styles/<br>│   │   ├── _variables.scss         <span class="hljs-comment"># SCSS全局变量</span><br>│   │   ├── _mixins.scss            <span class="hljs-comment"># SCSS混入</span><br>│   │   └── index.scss              <span class="hljs-comment"># 全局样式入口</span><br>│   ├── types/<br>│   │   └── global.d.ts             <span class="hljs-comment"># 全局类型声明文件</span><br>│   ├── main.tsx                    <span class="hljs-comment"># 入口文件</span><br>│   └── setupTests.ts               <span class="hljs-comment"># Jest测试环境配置</span><br>├── stories/                        <span class="hljs-comment"># Storybook相关文件</span><br>├── vite.config.ts                  <span class="hljs-comment"># Vite配置文件</span><br>├── jest.config.js                  <span class="hljs-comment"># Jest配置文件</span><br>├── tsconfig.json                   <span class="hljs-comment"># TypeScript配置文件</span><br>└── package.json                    <span class="hljs-comment"># 项目配置文件</span><br></code></pre></td></tr></table></figure><h3 id="4-安装项目依赖"><a href="#4-安装项目依赖" class="headerlink" title="4. 安装项目依赖"></a>4. 安装项目依赖</h3><p>在 <code>package.json</code> 中添加以下脚本后，执行 <code>npm install</code> 安装依赖</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;my-ui-library&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;private&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0.0.0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;module&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vite&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;tsc -b &amp;&amp; vite build&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;lint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;eslint .&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;preview&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;vite preview&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jest&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test:watch&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jest --watch&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test:coverage&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jest --coverage&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build:docs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;storybook build&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;storybook&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;storybook dev -p 6006&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build-storybook&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;storybook build&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;dependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;react&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^19.2.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;react-dom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^19.2.0&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;devDependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;@chromatic-com/storybook&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^4.1.3&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@eslint/js&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^9.39.1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@storybook/addon-docs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^10.0.8&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@storybook/addon-onboarding&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^10.0.8&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@storybook/react-vite&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^10.0.8&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@storybook/test&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^8.6.14&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@testing-library/jest-dom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^6.9.1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@testing-library/react&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^16.3.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@testing-library/user-event&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^14.6.1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@types/jest&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^30.0.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@types/node&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^24.10.1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@types/react&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^19.2.5&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@types/react-dom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^19.2.3&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;@vitejs/plugin-react&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^5.1.1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eslint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^9.39.1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eslint-plugin-react-hooks&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^7.0.1&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eslint-plugin-react-refresh&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^0.4.24&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eslint-plugin-storybook&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^10.0.8&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;globals&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^16.5.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;identity-obj-proxy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^3.0.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;jest&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^30.2.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;jest-environment-jsdom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^30.2.0&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;sass&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^1.94.2&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;storybook&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^10.0.8&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;ts-jest&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^29.4.5&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;typescript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^5.9.3&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;typescript-eslint&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^8.46.4&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;vite&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^7.2.4&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;vite-jest&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;^0.1.4&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="5-配置文件"><a href="#5-配置文件" class="headerlink" title="5. 配置文件"></a>5. 配置文件</h3><h4 id="1-在-vite-config-ts-中配置"><a href="#1-在-vite-config-ts-中配置" class="headerlink" title="1. 在 vite.config.ts 中配置"></a>1. 在 <code>vite.config.ts</code> 中配置</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vite&quot;</span>;<br><span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@vitejs/plugin-react&quot;</span>;<br><span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;path&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>()],<br>  <span class="hljs-attr">build</span>: &#123;<br>    <span class="hljs-attr">lib</span>: &#123;<br>      <span class="hljs-attr">entry</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;src/index.ts&quot;</span>), <span class="hljs-comment">// 组件库入口文件</span><br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;MyUILibrary&quot;</span>,<br>      <span class="hljs-attr">fileName</span>: <span class="hljs-function">(<span class="hljs-params">format</span>) =&gt;</span> <span class="hljs-string">`my-ui-library.<span class="hljs-subst">$&#123;format&#125;</span>.js`</span>,<br>    &#125;,<br>    <span class="hljs-attr">rollupOptions</span>: &#123;<br>      <span class="hljs-attr">external</span>: [<span class="hljs-string">&quot;react&quot;</span>, <span class="hljs-string">&quot;react-dom&quot;</span>], <span class="hljs-comment">// 将React等设置为外部依赖</span><br>      <span class="hljs-attr">output</span>: &#123;<br>        <span class="hljs-attr">globals</span>: &#123;<br>          <span class="hljs-attr">react</span>: <span class="hljs-string">&quot;React&quot;</span>,<br>          <span class="hljs-string">&quot;react-dom&quot;</span>: <span class="hljs-string">&quot;ReactDOM&quot;</span>,<br>        &#125;,<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">resolve</span>: &#123;<br>    <span class="hljs-attr">alias</span>: &#123;<br>      <span class="hljs-string">&quot;@&quot;</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;src&quot;</span>), <span class="hljs-comment">// 配置路径别名</span><br>    &#125;,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h4 id="2-在-tsconfig-json-中配置"><a href="#2-在-tsconfig-json-中配置" class="headerlink" title="2. 在 tsconfig.json 中配置"></a>2. 在 <code>tsconfig.json</code> 中配置</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ES2020&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;useDefineForClassFields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;lib&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;ES2020&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;DOM&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;DOM.Iterable&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;module&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ESNext&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;skipLibCheck&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;moduleResolution&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;bundler&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;allowImportingTsExtensions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;resolveJsonModule&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;isolatedModules&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;noEmit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <br>    <span class="hljs-comment">// 关键配置：修复 React 导入和 JSX 问题</span><br>    <span class="hljs-attr">&quot;esModuleInterop&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;allowSyntheticDefaultImports&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;jsx&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react-jsx&quot;</span><span class="hljs-punctuation">,</span><br>    <br>    <span class="hljs-comment">// 严格模式</span><br>    <span class="hljs-attr">&quot;strict&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;noUnusedLocals&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;noUnusedParameters&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;noFallthroughCasesInSwitch&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <br>    <span class="hljs-comment">// 路径映射</span><br>    <span class="hljs-attr">&quot;baseUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;.&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;paths&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;@/*&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;./src/*&quot;</span><span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <br>    <span class="hljs-comment">// 包含 Jest 类型</span><br>    <span class="hljs-attr">&quot;types&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;jest&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;node&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;@testing-library/jest-dom&quot;</span><span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;include&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;src/**/*&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;src/types/**/*&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;src/**/*.d.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;src/vite-env.d.ts&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;src/**/*.test.*&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;src/**/*.stories.*&quot;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;exclude&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;node_modules&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;dist&quot;</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="3-在-jest-config-js-中配置"><a href="#3-在-jest-config-js-中配置" class="headerlink" title="3. 在 jest.config.js 中配置"></a>3. 在 <code>jest.config.js</code> 中配置</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/** <span class="hljs-doctag">@type</span> &#123;<span class="hljs-type">import(&#x27;jest&#x27;).Config</span>&#125; */</span><br><span class="hljs-keyword">const</span> config = &#123;<br>  <span class="hljs-attr">preset</span>: <span class="hljs-string">&#x27;ts-jest&#x27;</span>,<br>  <span class="hljs-attr">testEnvironment</span>: <span class="hljs-string">&#x27;jsdom&#x27;</span>,<br>  <br>  <span class="hljs-comment">// 模块别名配置</span><br>  <span class="hljs-attr">moduleNameMapper</span>: &#123;<br>    <span class="hljs-string">&#x27;\\.(scss|css|less)$&#x27;</span>: <span class="hljs-string">&#x27;identity-obj-proxy&#x27;</span>,<br>    <span class="hljs-string">&#x27;^@/(.*)$&#x27;</span>: <span class="hljs-string">&#x27;&lt;rootDir&gt;/src/$1&#x27;</span><br>  &#125;,<br>  <br>  <span class="hljs-comment">// 设置测试文件匹配模式</span><br>  <span class="hljs-attr">testMatch</span>: [<br>    <span class="hljs-string">&#x27;**/__tests__/**/*.test.(ts|tsx)&#x27;</span>,<br>    <span class="hljs-string">&#x27;**/*.test.(ts|tsx)&#x27;</span><br>  ],<br>  <br>  <span class="hljs-comment">// 模块文件扩展名</span><br>  <span class="hljs-attr">moduleFileExtensions</span>: [<span class="hljs-string">&#x27;ts&#x27;</span>, <span class="hljs-string">&#x27;tsx&#x27;</span>, <span class="hljs-string">&#x27;js&#x27;</span>, <span class="hljs-string">&#x27;jsx&#x27;</span>, <span class="hljs-string">&#x27;json&#x27;</span>],<br>  <br>  <span class="hljs-comment">// 设置测试环境</span><br>  <span class="hljs-attr">setupFilesAfterEnv</span>: [<span class="hljs-string">&#x27;&lt;rootDir&gt;/src/setupTests.ts&#x27;</span>],<br>  <br>  <span class="hljs-comment">// 转换配置</span><br>  <span class="hljs-attr">transform</span>: &#123;<br>    <span class="hljs-string">&#x27;^.+\\.(ts|tsx)$&#x27;</span>: [<span class="hljs-string">&#x27;ts-jest&#x27;</span>, &#123;<br>      <span class="hljs-attr">tsconfig</span>: <span class="hljs-string">&#x27;tsconfig.json&#x27;</span>,<br>      <span class="hljs-attr">useESM</span>: <span class="hljs-literal">true</span><br>    &#125;]<br>  &#125;,<br>  <br>  <span class="hljs-comment">// 收集覆盖率</span><br>  <span class="hljs-attr">collectCoverageFrom</span>: [<br>    <span class="hljs-string">&#x27;src/**/*.&#123;ts,tsx&#125;&#x27;</span>,<br>    <span class="hljs-string">&#x27;!src/**/*.d.ts&#x27;</span>,<br>    <span class="hljs-string">&#x27;!src/main.tsx&#x27;</span>,<br>    <span class="hljs-string">&#x27;!src/vite-env.d.ts&#x27;</span><br>  ]<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> config;<br></code></pre></td></tr></table></figure><h4 id="4-配置-setupTests-ts"><a href="#4-配置-setupTests-ts" class="headerlink" title="4. 配置 setupTests.ts"></a>4. 配置 setupTests.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-comment">// jest-dom 添加自定义 jest 匹配器，用于断言 DOM 节点</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@testing-library/jest-dom&#x27;</span>;<br><br><span class="hljs-comment">// 可选的 Mock 配置</span><br></code></pre></td></tr></table></figure><h4 id="5-配置-global-d-ts"><a href="#5-配置-global-d-ts" class="headerlink" title="5. 配置 global.d.ts"></a>5. 配置 global.d.ts</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.module.scss&#x27;</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-attr">classes</span>: &#123; [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> &#125;;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> classes;<br>&#125;<br><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.scss&#x27;</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-attr">content</span>: &#123; [<span class="hljs-attr">className</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> &#125;;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> content;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6-运行和测试"><a href="#6-运行和测试" class="headerlink" title="6. 运行和测试"></a>6. 运行和测试</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 启动开发服务器</span><br>npm run dev<br><br><span class="hljs-comment"># 运行单元测试</span><br>npm run <span class="hljs-built_in">test</span><br><br><span class="hljs-comment"># 启动 Storybook</span><br>npm run storybook<br><br><span class="hljs-comment"># 构建项目</span><br>npm run build<br></code></pre></td></tr></table></figure><h2 id="二-编写组件"><a href="#二-编写组件" class="headerlink" title="二. 编写组件"></a>二. 编写组件</h2><h3 id="1-Button-组件"><a href="#1-Button-组件" class="headerlink" title="1. Button 组件"></a>1. Button 组件</h3><p>Button.tsx</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./Button.module.scss&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ButtonType</span> = <span class="hljs-string">&quot;primary&quot;</span> | <span class="hljs-string">&quot;default&quot;</span> | <span class="hljs-string">&quot;dashed&quot;</span> | <span class="hljs-string">&quot;text&quot;</span> | <span class="hljs-string">&quot;link&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ButtonSize</span> = <span class="hljs-string">&quot;small&quot;</span> | <span class="hljs-string">&quot;medium&quot;</span> | <span class="hljs-string">&quot;large&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ButtonShape</span> = <span class="hljs-string">&quot;default&quot;</span> | <span class="hljs-string">&quot;circle&quot;</span> | <span class="hljs-string">&quot;round&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ButtonHtmlType</span> = <span class="hljs-string">&quot;button&quot;</span> | <span class="hljs-string">&quot;submit&quot;</span> | <span class="hljs-string">&quot;reset&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ButtonProps</span> &#123;<br>  <span class="hljs-comment">/** 按钮内容 */</span><br>  children?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;<br>  <span class="hljs-comment">/** 设置按钮类型 */</span><br>  <span class="hljs-keyword">type</span>?: <span class="hljs-title class_">ButtonType</span>;<br>  <span class="hljs-comment">/** 设置按钮大小 */</span><br>  size?: <span class="hljs-title class_">ButtonSize</span>;<br>  <span class="hljs-comment">/** 设置按钮形状 */</span><br>  shape?: <span class="hljs-title class_">ButtonShape</span>;<br>  <span class="hljs-comment">/** 设置按钮原生类型 */</span><br>  htmlType?: <span class="hljs-title class_">ButtonHtmlType</span>;<br>  <span class="hljs-comment">/** 设置危险按钮 */</span><br>  danger?: <span class="hljs-built_in">boolean</span>;<br>  <span class="hljs-comment">/** 按钮失效状态 */</span><br>  disabled?: <span class="hljs-built_in">boolean</span>;<br>  <span class="hljs-comment">/** 设置按钮加载状态 */</span><br>  loading?: <span class="hljs-built_in">boolean</span>;<br>  <span class="hljs-comment">/** 设置按钮图标 */</span><br>  icon?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;<br>  <span class="hljs-comment">/** 点击按钮时的回调 */</span><br>  onClick?: <span class="hljs-function">(<span class="hljs-params">event: React.MouseEvent&lt;HTMLButtonElement&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span>;<br>  <span class="hljs-comment">/** 自定义样式 */</span><br>  style?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;<br>  <span class="hljs-comment">/** 自定义类名 */</span><br>  className?: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-comment">/** 按钮宽度是否适应父容器 */</span><br>  block?: <span class="hljs-built_in">boolean</span>;<br>  <span class="hljs-comment">/** 设置幽灵按钮 */</span><br>  ghost?: <span class="hljs-built_in">boolean</span>;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Button</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">ButtonProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">&#123;</span></span><br><span class="hljs-params"><span class="hljs-function">  children,</span></span><br><span class="hljs-params"><span class="hljs-function">  <span class="hljs-keyword">type</span> = <span class="hljs-string">&quot;default&quot;</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  size = <span class="hljs-string">&quot;medium&quot;</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  shape = <span class="hljs-string">&quot;default&quot;</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  htmlType = <span class="hljs-string">&quot;button&quot;</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  danger = <span class="hljs-literal">false</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  disabled = <span class="hljs-literal">false</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  loading = <span class="hljs-literal">false</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  icon,</span></span><br><span class="hljs-params"><span class="hljs-function">  onClick,</span></span><br><span class="hljs-params"><span class="hljs-function">  style,</span></span><br><span class="hljs-params"><span class="hljs-function">  className,</span></span><br><span class="hljs-params"><span class="hljs-function">  block = <span class="hljs-literal">false</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  ghost = <span class="hljs-literal">false</span>,</span></span><br><span class="hljs-params"><span class="hljs-function">  ...restProps</span></span><br><span class="hljs-params"><span class="hljs-function">&#125;</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">event: React.MouseEvent&lt;HTMLButtonElement&gt;</span>) =&gt; &#123;<br>    <span class="hljs-keyword">if</span> (disabled || loading) <span class="hljs-keyword">return</span>;<br>    onClick?.(event);<br>  &#125;;<br><br>  <span class="hljs-comment">// 动态生成 CSS 类名</span><br>  <span class="hljs-keyword">const</span> buttonClasses = [<br>    styles.<span class="hljs-property">button</span>,<br>    styles[<span class="hljs-string">`type-<span class="hljs-subst">$&#123;<span class="hljs-keyword">type</span>&#125;</span>`</span>],<br>    styles[<span class="hljs-string">`size-<span class="hljs-subst">$&#123;size&#125;</span>`</span>],<br>    styles[<span class="hljs-string">`shape-<span class="hljs-subst">$&#123;shape&#125;</span>`</span>],<br>    danger &amp;&amp; styles.<span class="hljs-property">danger</span>,<br>    disabled &amp;&amp; styles.<span class="hljs-property">disabled</span>,<br>    loading &amp;&amp; styles.<span class="hljs-property">loading</span>,<br>    block &amp;&amp; styles.<span class="hljs-property">block</span>,<br>    ghost &amp;&amp; styles.<span class="hljs-property">ghost</span>,<br>    className,<br>  ]<br>    .<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>)<br>    .<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot; &quot;</span>);<br><br>  <span class="hljs-comment">// 渲染加载图标</span><br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">renderLoadingIcon</span> = (<span class="hljs-params"></span>) =&gt; (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;styles.loadingIcon&#125;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">svg</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">viewBox</span>=<span class="hljs-string">&quot;0 0 1024 1024&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">focusable</span>=<span class="hljs-string">&quot;false&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">data-icon</span>=<span class="hljs-string">&quot;loading&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;1em&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">height</span>=<span class="hljs-string">&quot;1em&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;currentColor&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">&quot;true&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">&quot;M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br>  );<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">type</span>=<span class="hljs-string">&#123;htmlType&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;buttonClasses&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">disabled</span>=<span class="hljs-string">&#123;disabled</span> || <span class="hljs-attr">loading</span>&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleClick&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;style&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &#123;<span class="hljs-attr">...restProps</span>&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">      &#123;loading &amp;&amp; renderLoadingIcon()&#125;</span><br><span class="language-xml">      &#123;icon &amp;&amp; !loading &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;styles.icon&#125;</span>&gt;</span>&#123;icon&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>&#125;</span><br><span class="language-xml">      &#123;children &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;styles.content&#125;</span>&gt;</span>&#123;children&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Button</span>;<br></code></pre></td></tr></table></figure><p class="note note-info">预知后事如何 请看下回分解</p>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Sass .scss语法</title>
    <link href="/2025/11/24/Front-end/CSS/SASS/"/>
    <url>/2025/11/24/Front-end/CSS/SASS/</url>
    
    <content type="html"><![CDATA[<h1 id="Sass-专业级CSS扩展语言"><a href="#Sass-专业级CSS扩展语言" class="headerlink" title="Sass:专业级CSS扩展语言"></a>Sass:专业级CSS扩展语言</h1><blockquote><p>Sass 是一款强化 CSS 的辅助工具。它在 CSS 语法的基础上增加了变量 (variables)、嵌套 (nested rules)、混合 (mixins)、导入 (inline imports) ,让开发者以编程的方式书写 CSS 代码，让 CSS 开发更加高效。</p></blockquote><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>需掌握基本的 CSS 知识，了解 HTML 和 JavaScript 的基本使用。</p><h2 id="名为sass怎么用的最多的是-scss"><a href="#名为sass怎么用的最多的是-scss" class="headerlink" title="名为sass怎么用的最多的是 scss"></a>名为sass怎么用的最多的是 scss</h2><p>Sass 有两种语法格式：缩进语法 <strong>Sass</strong>（以.sass后缀为扩展名）和 <strong>Scss</strong> (以.scss后缀为扩展名)。scss 是 sass 的<strong>升级版</strong>，它完全兼容 CSS 语法，并且增加了许多新特性，如变量、嵌套规则等。这使得 scss 在社区中更加流行，并被广泛使用。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// Sass语法</span><br><span class="hljs-comment">// 最初它是为了配合 HAML（一种缩进式 HTML 预编译器）而设计的，因此有着和 HTML 一样的缩进式风格。</span><br><span class="hljs-comment">// 不带大括号( &#123; &#125; )和分号( ; )</span><br><br><span class="hljs-variable">$highlight-color</span>: <span class="hljs-number">#F90</span><br><span class="hljs-variable">$highlight-border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-variable">$highlight-color</span><br>.selected<br>  border: <span class="hljs-variable">$highlight-border</span><br><br>// 编译后的css文件为：<br>.selected &#123;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#F90</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="scss常用语法"><a href="#scss常用语法" class="headerlink" title="scss常用语法"></a>scss常用语法</h2><h3 id="1-变量"><a href="#1-变量" class="headerlink" title="1. 变量"></a>1. 变量</h3><p>使用 $ 符号来定义变量。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// 定义变量</span><br><span class="hljs-variable">$primary-color</span>: <span class="hljs-number">#3498db</span>;<br><span class="hljs-variable">$secondary-color</span>: <span class="hljs-number">#2ecc71</span>;<br><span class="hljs-variable">$font-size</span>: <span class="hljs-number">16px</span>;<br><span class="hljs-variable">$spacing</span>: <span class="hljs-number">1rem</span>;<br><br><span class="hljs-comment">// 使用变量</span><br><span class="hljs-selector-class">.header</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-variable">$primary-color</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-variable">$font-size</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-variable">$spacing</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-嵌套"><a href="#2-嵌套" class="headerlink" title="2. 嵌套"></a>2. 嵌套</h3><p>SCSS允许选择器嵌套，从而减少代码量。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// 传统 CSS</span><br><span class="hljs-selector-tag">nav</span> &#123; <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>; &#125;<br><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">ul</span> &#123; <span class="hljs-attribute">list-style</span>: none; &#125;<br><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> &#123; <span class="hljs-attribute">display</span>: inline-block; &#125;<br><span class="hljs-selector-tag">nav</span> <span class="hljs-selector-tag">ul</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">a</span> &#123; <span class="hljs-attribute">color</span>: white; &#125;<br><br><span class="hljs-comment">// SCSS 嵌套写法</span><br><span class="hljs-selector-tag">nav</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#333</span>;<br>  <br>  <span class="hljs-selector-tag">ul</span> &#123;<br>    <span class="hljs-attribute">list-style</span>: none;<br>    <br>    <span class="hljs-selector-tag">li</span> &#123;<br>      <span class="hljs-attribute">display</span>: inline-block;<br>      <br>      <span class="hljs-selector-tag">a</span> &#123;<br>        <span class="hljs-attribute">color</span>: white;<br>        <span class="hljs-attribute">text-decoration</span>: none;<br>        <br>        &amp;<span class="hljs-selector-pseudo">:hover</span> &#123;<br>          <span class="hljs-attribute">color</span>: <span class="hljs-variable">$primary-color</span>;<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-父选择器"><a href="#3-父选择器" class="headerlink" title="3. 父选择器 &amp;"></a>3. 父选择器 &amp;</h3><p>在嵌套中，&amp; 表示父选择器。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-selector-class">.button</span> &#123;<br>  <span class="hljs-attribute">background</span>: blue;<br>  <br>  <span class="hljs-comment">// &amp;.button--large</span><br>  &amp;<span class="hljs-attr">--large</span> &#123;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;<br>  &#125;<br>  <br>  <span class="hljs-comment">// .button:hover</span><br>  &amp;<span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">darken</span>(blue, <span class="hljs-number">10%</span>);<br>  &#125;<br>  <br>  <span class="hljs-comment">// .button .icon</span><br>  <span class="hljs-selector-class">.icon</span> &#123;<br>    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-混合器-mixin-和-include"><a href="#4-混合器-mixin-和-include" class="headerlink" title="4. 混合器 (@mixin 和 @include)"></a>4. 混合器 (@mixin 和 @include)</h3><p>混合允许定义可复用的样式块，也可以传递参数。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@mixin</span> border-radius(<span class="hljs-variable">$radius</span>) &#123;<br>  -webkit-<span class="hljs-attribute">border-radius</span>: <span class="hljs-variable">$radius</span>;<br>     -moz-<span class="hljs-attribute">border-radius</span>: <span class="hljs-variable">$radius</span>;<br>      -ms-<span class="hljs-attribute">border-radius</span>: <span class="hljs-variable">$radius</span>;<br>          <span class="hljs-attribute">border-radius</span>: <span class="hljs-variable">$radius</span>;<br>&#125;<br><br><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-keyword">@include</span> border-radius(<span class="hljs-number">10px</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-继承-extend"><a href="#5-继承-extend" class="headerlink" title="5. 继承 (@extend)"></a>5. 继承 (@extend)</h3><p>使用 @extend 可以让一个选择器继承另一个选择器的样式。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// 基础样式</span><br>%<span class="hljs-selector-tag">button</span>-base &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">border</span>: none;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.primary-button</span> &#123;<br>  <span class="hljs-keyword">@extend</span> %button-base;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#3498db</span>;<br>  <span class="hljs-attribute">color</span>: white;<br>&#125;<br><br><span class="hljs-selector-class">.secondary-button</span> &#123;<br>  <span class="hljs-keyword">@extend</span> %button-base;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#ecf0f1</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6-模块化-import-和-use"><a href="#6-模块化-import-和-use" class="headerlink" title="6. 模块化 (@import 和 @use)"></a>6. 模块化 (@import 和 @use)</h3><ol><li>可以创建部分SCSS文件，以下划线开头（如：_variables.scss），然后通过 @import 导入。<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// _variables.scss</span><br><span class="hljs-variable">$primary-color</span>: <span class="hljs-number">#3498db</span>;<br><br><span class="hljs-comment">// main.scss</span><br><span class="hljs-keyword">@import</span> <span class="hljs-string">&#x27;variables&#x27;</span>;<br><br><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-variable">$primary-color</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>在新的Sass模块系统中，推荐使用 @use 和 @forward 来替代 @import。<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// _variables.scss</span><br><span class="hljs-variable">$primary-color</span>: <span class="hljs-number">#3498db</span>;<br><span class="hljs-variable">$border-radius</span>: <span class="hljs-number">4px</span>;<br><br><span class="hljs-comment">// _mixins.scss</span><br><span class="hljs-keyword">@mixin</span> flex-center &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>  <span class="hljs-attribute">align-items</span>: center;<br>&#125;<br><br><span class="hljs-comment">// main.scss</span><br><span class="hljs-keyword">@use</span> <span class="hljs-string">&#x27;variables&#x27;</span> as vars;<br><span class="hljs-keyword">@use</span> <span class="hljs-string">&#x27;mixins&#x27;</span>;<br><br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-keyword">@include</span> mixins.flex-center;<br>  <span class="hljs-attribute">background</span>: vars.<span class="hljs-variable">$primary-color</span>;<br>  <span class="hljs-attribute">border-radius</span>: vars.<span class="hljs-variable">$border-radius</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="7-函数-function"><a href="#7-函数-function" class="headerlink" title="7. 函数 (@function)"></a>7. 函数 (@function)</h3><p>SCSS内置了很多函数，同时也可以自定义函数。</p><h4 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h4><ol><li>调整颜色的亮度、饱和度、色相，或混合颜色等 <strong><code>lighten(), darken(), mix(), adjust-hue(), desaturate()</code></strong></li><li>转换百分比、四舍五入、取整、计算极值等 <strong><code>percentage(), round(), ceil(), floor(), min(), max()</code></strong></li><li>处理字符串的引用、截取、大小写转换等 <strong><code>quote(), unquote(), str-slice(), to-upper-case()</code></strong></li><li>获取列表长度、按索引取值、查找索引、合并列表等 <strong><code>length(), nth(), index(), append(), join()</code></strong></li><li>按键取值、合并Map、获取所有键、检查键是否存在 <strong><code>map-get(), map-merge(), map-keys(), map-has-key()</code></strong></li><li>实现条件判断。<code>if()</code><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// 调整颜色亮度：lighten() 和 darken() 函数常用于在交互（如悬停）时微调颜色</span><br>  <span class="hljs-variable">$color</span>: <span class="hljs-number">#3498db</span>;<br>  <span class="hljs-variable">$lightened-color</span>: <span class="hljs-built_in">lighten</span>(<span class="hljs-variable">$color</span>, <span class="hljs-number">10%</span>); <span class="hljs-comment">// 将颜色变亮10%[citation:7]</span><br>  <span class="hljs-variable">$darkened-color</span>: <span class="hljs-built_in">darken</span>(<span class="hljs-variable">$color</span>, <span class="hljs-number">10%</span>);   <span class="hljs-comment">// 将颜色变暗10%[citation:7]</span><br><br><span class="hljs-comment">// 混合颜色：mix() 函数可以将两种颜色按比例混合。</span><br><span class="hljs-variable">$color1</span>: <span class="hljs-number">#ff0000</span>;<br><span class="hljs-variable">$color2</span>: <span class="hljs-number">#00ff00</span>;<br><span class="hljs-variable">$mixed-color</span>: <span class="hljs-built_in">mix</span>(<span class="hljs-variable">$color1</span>, <span class="hljs-variable">$color2</span>); <span class="hljs-comment">// 混合两种颜色生成新颜色[citation:7]</span><br><br><span class="hljs-comment">// 数值与百分比转换：percentage() 函数将无单位数转换为百分比值</span><br><span class="hljs-variable">$value</span>: <span class="hljs-number">0.5</span>;<br><span class="hljs-variable">$percentage</span>: <span class="hljs-built_in">percentage</span>(<span class="hljs-variable">$value</span>); <span class="hljs-comment">// 转换为50%[citation:7]</span><br><br><span class="hljs-comment">// 字符串处理：str-slice() 和 unquote() 函数用于截取字符串和移除引号</span><br><span class="hljs-variable">$string</span>: <span class="hljs-string">&quot;Hello, world!&quot;</span>;<br><span class="hljs-variable">$sliced-string</span>: <span class="hljs-built_in">str-slice</span>(<span class="hljs-variable">$string</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// 截取 &quot;Hello&quot;[citation:7]</span><br><span class="hljs-variable">$unquoted-string</span>: <span class="hljs-built_in">unquote</span>(<span class="hljs-variable">$string</span>);       <span class="hljs-comment">// 移除字符串引号[citation:7]</span><br><br><span class="hljs-comment">// 操作Map：map-get() 用于从Map中取值，map-has-key() 用于检查键是否存在</span><br><span class="hljs-variable">$font-weights</span>: (<span class="hljs-string">&quot;regular&quot;</span>: <span class="hljs-number">400</span>, <span class="hljs-string">&quot;medium&quot;</span>: <span class="hljs-number">500</span>, <span class="hljs-string">&quot;bold&quot;</span>: <span class="hljs-number">700</span>);<br><span class="hljs-variable">$bold-weight</span>: <span class="hljs-built_in">map-get</span>(<span class="hljs-variable">$font-weights</span>, <span class="hljs-string">&quot;bold&quot;</span>); <span class="hljs-comment">// 获取 700</span><br><span class="hljs-keyword">@if</span> map-has-key(<span class="hljs-variable">$font-weights</span>, <span class="hljs-string">&quot;regular&quot;</span>) &#123; ... &#125; <span class="hljs-comment">// 检查键是否存在[citation:4]</span><br></code></pre></td></tr></table></figure></li></ol><h4 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// 自定义函数</span><br><span class="hljs-keyword">@function</span> calculate-rem(<span class="hljs-variable">$pixels</span>) &#123;<br>  <span class="hljs-keyword">@return</span> (<span class="hljs-variable">$pixels</span> / <span class="hljs-number">16</span>) * <span class="hljs-number">1rem</span>;<br>&#125;<br><br><span class="hljs-keyword">@function</span> tint(<span class="hljs-variable">$color</span>, <span class="hljs-variable">$percentage</span>) &#123;<br>  <span class="hljs-keyword">@return</span> mix(white, <span class="hljs-variable">$color</span>, <span class="hljs-variable">$percentage</span>);<br>&#125;<br><br><span class="hljs-comment">// 使用函数</span><br><span class="hljs-selector-class">.heading</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">calculate-rem</span>(<span class="hljs-number">32px</span>); <span class="hljs-comment">// 2rem</span><br>  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">tint</span>(<span class="hljs-number">#3498db</span>, <span class="hljs-number">20%</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="8-条件语句-if-else-if-else"><a href="#8-条件语句-if-else-if-else" class="headerlink" title="8. 条件语句 (@if, @else if, @else)"></a>8. 条件语句 (@if, @else if, @else)</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-keyword">@mixin</span> theme-colors(<span class="hljs-variable">$theme</span>) &#123;<br>  <span class="hljs-keyword">@if</span> <span class="hljs-variable">$theme</span> == <span class="hljs-string">&#x27;dark&#x27;</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#2c3e50</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#ecf0f1</span>;<br>  &#125; <span class="hljs-keyword">@else</span> if <span class="hljs-variable">$theme</span> == <span class="hljs-string">&#x27;light&#x27;</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#ecf0f1</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;<br>  &#125; <span class="hljs-keyword">@else</span> &#123;<br>    <span class="hljs-attribute">background</span>: white;<br>    <span class="hljs-attribute">color</span>: black;<br>  &#125;<br>&#125;<br><br><span class="hljs-selector-class">.theme-dark</span> &#123;<br>  <span class="hljs-keyword">@include</span> theme-colors(<span class="hljs-string">&#x27;dark&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="9-循环-for-while-each"><a href="#9-循环-for-while-each" class="headerlink" title="9. 循环 (@for, @while, @each)"></a>9. 循环 (@for, @while, @each)</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// @for 循环</span><br><span class="hljs-keyword">@for</span> <span class="hljs-variable">$i</span> from <span class="hljs-number">1</span> through <span class="hljs-number">5</span> &#123;<br>  <span class="hljs-selector-class">.col-</span>#&#123;<span class="hljs-variable">$i</span>&#125; &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">20%</span> * <span class="hljs-variable">$i</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// @each 循环</span><br><span class="hljs-variable">$colors</span>: (<br>  <span class="hljs-string">&#x27;primary&#x27;</span>: <span class="hljs-number">#3498db</span>,<br>  <span class="hljs-string">&#x27;success&#x27;</span>: <span class="hljs-number">#2ecc71</span>,<br>  <span class="hljs-string">&#x27;warning&#x27;</span>: <span class="hljs-number">#f39c12</span>,<br>  <span class="hljs-string">&#x27;danger&#x27;</span>: <span class="hljs-number">#e74c3c</span><br>);<br><br><span class="hljs-keyword">@each</span> <span class="hljs-variable">$name</span>, <span class="hljs-variable">$color</span> in <span class="hljs-variable">$colors</span> &#123;<br>  <span class="hljs-selector-class">.text-</span>#&#123;<span class="hljs-variable">$name</span>&#125; &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-variable">$color</span>;<br>  &#125;<br>  <br>  <span class="hljs-selector-class">.bg-</span>#&#123;<span class="hljs-variable">$name</span>&#125; &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-variable">$color</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// @while 循环</span><br><span class="hljs-variable">$i</span>: <span class="hljs-number">1</span>;<br><span class="hljs-keyword">@while</span> <span class="hljs-variable">$i</span> &lt;= <span class="hljs-number">3</span> &#123;<br>  <span class="hljs-selector-class">.item-</span>#&#123;<span class="hljs-variable">$i</span>&#125; &#123;<br>    <span class="hljs-attribute">z-index</span>: <span class="hljs-variable">$i</span>;<br>  &#125;<br>  <span class="hljs-variable">$i</span>: <span class="hljs-variable">$i</span> + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="10-运算"><a href="#10-运算" class="headerlink" title="10. 运算 (+, -, *, &#x2F;, %)"></a>10. 运算 (+, -, *, &#x2F;, %)</h3><p>SCSS支持基本的数学运算（+,-,*,&#x2F;,%）。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span> - <span class="hljs-number">30px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span> / <span class="hljs-number">2</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span> * <span class="hljs-number">1.5</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="11-插值"><a href="#11-插值" class="headerlink" title="11. 插值 (#{})"></a>11. 插值 (#{})</h3><p>使用 #{} 插值语法将变量嵌入到选择器或属性名中。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-variable">$name</span>: foo;<br><span class="hljs-variable">$attr</span>: border;<br><br><span class="hljs-selector-tag">p</span>.#&#123;<span class="hljs-variable">$name</span>&#125; &#123;<br>  #&#123;<span class="hljs-variable">$attr</span>&#125;-<span class="hljs-attribute">color</span>: blue;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="12-注释-和"><a href="#12-注释-和" class="headerlink" title="12. 注释 (&#x2F;&#x2F; 和 &#x2F;* *&#x2F;)"></a>12. 注释 (&#x2F;&#x2F; 和 &#x2F;* *&#x2F;)</h3><p>SCSS支持单行注释（&#x2F;&#x2F;）和多行注释（&#x2F;* *&#x2F;）。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// 这是单行注释，不会出现在编译后的CSS中</span><br><br><span class="hljs-comment">/* 这是多行注释，会出现在编译后的CSS中 */</span><br></code></pre></td></tr></table></figure><h3 id="13-映射-map-get-map-keys等"><a href="#13-映射-map-get-map-keys等" class="headerlink" title="13. 映射 (map-get, map-keys等)"></a>13. 映射 (map-get, map-keys等)</h3><p>映射是键值对的数据结构。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-variable">$colors</span>: (<br>  primary: <span class="hljs-number">#3498db</span>,<br>  success: <span class="hljs-number">#2ecc71</span>,<br>  danger: <span class="hljs-number">#e74c3c</span><br>);<br><br><span class="hljs-comment">// map-get是scss内置函数 从$colors中获取键success对应的值 #2ecc71</span><br><span class="hljs-selector-class">.button-success</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">map-get</span>(<span class="hljs-variable">$colors</span>, success);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="14-列表-nth-join等"><a href="#14-列表-nth-join等" class="headerlink" title="14. 列表 (nth, join等)"></a>14. 列表 (nth, join等)</h3><p>列表是一系列值，用空格或逗号分隔。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-variable">$padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span> <span class="hljs-number">30px</span> <span class="hljs-number">40px</span>;<br><br><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-built_in">nth</span>(<span class="hljs-variable">$padding</span>, <span class="hljs-number">1</span>);<br>  <span class="hljs-attribute">padding-right</span>: <span class="hljs-built_in">nth</span>(<span class="hljs-variable">$padding</span>, <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="15-使用-content-传递内容块"><a href="#15-使用-content-传递内容块" class="headerlink" title="15. 使用 @content 传递内容块"></a>15. 使用 @content 传递内容块</h3><p>混合器可以接收一个内容块，通过 @content 注入。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-comment">// 定义了一个名为 mobile 的混合宏 (mixin)</span><br><span class="hljs-comment">// 这个 mixin 包含一个媒体查询，条件是最大宽度为 600px。在 mixin 内部，使用了 @content 指令，这意味着当混合宏被包含（include）时，可以传递一段样式代码到 @content 的位置</span><br><span class="hljs-keyword">@mixin</span> mobile &#123;<br>  <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>) &#123;<br>    <span class="hljs-keyword">@content</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-keyword">@include</span> mobile &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// 编译后的CSS</span><br><span class="hljs-comment">// 当屏幕宽度小于等于 600px 时，.container 元素的字体大小会变为 14px。</span><br><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>) &#123;<br>  <span class="hljs-selector-class">.container</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="16-警告和错误-warn-error"><a href="#16-警告和错误-warn-error" class="headerlink" title="16. 警告和错误 (@warn, @error)"></a>16. 警告和错误 (@warn, @error)</h3><p>使用 @warn 和 @error 输出警告和错误信息。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-variable">$width</span>: <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">@if</span> <span class="hljs-variable">$width</span> &gt; <span class="hljs-number">100</span> &#123;<br>  <span class="hljs-keyword">@error</span> <span class="hljs-string">&quot;Width is too large&quot;</span>;<br>&#125; <span class="hljs-keyword">@else</span> if <span class="hljs-variable">$width</span> &gt; <span class="hljs-number">50</span> &#123;<br>  <span class="hljs-keyword">@warn</span> <span class="hljs-string">&quot;Width is getting large&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="17-at-root-用于跳出嵌套"><a href="#17-at-root-用于跳出嵌套" class="headerlink" title="17. @at-root 用于跳出嵌套"></a>17. @at-root 用于跳出嵌套</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">color</span>: blue;<br>  <span class="hljs-keyword">@at-root</span> .child &#123;<br>    <span class="hljs-attribute">color</span>: red;<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// 如果没有@at-root，那么编译后的代码会是：</span><br><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">color</span>: blue;<br>&#125;<br><span class="hljs-selector-class">.parent</span> <span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">color</span>: red;<br>&#125;<br><br><span class="hljs-comment">// 使用@at-root后，.child选择器被提升到了根层级，与.parent平级，因此它们之间没有嵌套关系 </span><br><span class="hljs-comment">// 使用@at-root后编译后的代码会是</span><br><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">color</span>: blue;<br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">color</span>: red;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Nginx</title>
    <link href="/2025/09/03/Back-end/nginx/"/>
    <url>/2025/09/03/Back-end/nginx/</url>
    
    <content type="html"><![CDATA[<h3 id="macOS安装"><a href="#macOS安装" class="headerlink" title="macOS安装"></a>macOS安装</h3><ol><li>采用Homebrew安装方式：<code>brew install nginx</code></li><li>启动Nginx服务：<code>brew services start nginx</code></li><li>通过浏览器访问<code>http://localhost</code>，如果看到Nginx的欢迎页面，说明安装成功。</li><li>重启Nginx服务<code>brew services restart nginx</code></li><li>配置文件通常位于<code>/etc/nginx/nginx.conf</code></li></ol><h3 id="在Nginx上配置虚拟主机和域名"><a href="#在Nginx上配置虚拟主机和域名" class="headerlink" title="在Nginx上配置虚拟主机和域名"></a>在Nginx上配置虚拟主机和域名</h3><ol><li>在配置文件中，添加一个新的server块，如下所示：<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs axapta">http &#123;<br>    ...<br>    <span class="hljs-keyword">server</span> &#123;<br>        <span class="hljs-comment">// 监听80端口，用于接收HTTP请求。</span><br>        listen <span class="hljs-number">80</span>;<br>        <span class="hljs-comment">// 定义虚拟主机的域名，可以同时定义多个域名</span><br>        server_name example.com www.example.com;<br>        <span class="hljs-comment">// 定义虚拟主机的根目录，用于存放网站文件</span><br>        root /<span class="hljs-built_in">var</span>/www/example.com;<br>        <span class="hljs-comment">// 定义默认首页文件</span><br>        <span class="hljs-keyword">index</span> <span class="hljs-keyword">index</span>.html <span class="hljs-keyword">index</span>.htm;<br>        <span class="hljs-comment">// 定义虚拟主机的路由规则</span><br>        location / &#123;<br>            <span class="hljs-comment">// 如果请求的文件不存在，返回404错误</span><br>            try_files $uri $uri/ =<span class="hljs-number">404</span>;<br>        &#125;<br>    &#125;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure></li><li>配置完成后，保存配置文件，重启Nginx服务,可以通过浏览器访问<code>example.com</code>和<code>www.example.com</code>，看是否能正确访问网站。</li></ol><h3 id="在Nginx上配置SSL证书和HTTPS"><a href="#在Nginx上配置SSL证书和HTTPS" class="headerlink" title="在Nginx上配置SSL证书和HTTPS"></a>在Nginx上配置SSL证书和HTTPS</h3><ol><li>在Nginx上配置SSL证书和HTTPS，需要先获取SSL证书，然后在Nginx配置文件中进行相应的配置<ol><li>SSL证书：需提前获取证书文件（通常包括 .crt 和 .key 文件），可以是：<ol><li>自签名证书（测试用）</li><li>Let’s Encrypt 免费证书</li><li>商业CA（如DigiCert、GeoTrust）颁发的证书</li></ol></li></ol></li><li>证书放置<ol><li>将证书文件上传到服务器，推荐路径：<br> 注：替换 your_domain 为您的实际域名 <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo mkdir -p <span class="hljs-regexp">/etc/</span>nginx<span class="hljs-regexp">/ssl/</span><br>sudo cp your_domain.crt <span class="hljs-regexp">/etc/</span>nginx<span class="hljs-regexp">/ssl/</span><br>sudo cp your_domain.key <span class="hljs-regexp">/etc/</span>nginx<span class="hljs-regexp">/ssl/</span><br></code></pre></td></tr></table></figure></li></ol></li><li>Nginx配置HTTPS<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123;<br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">443</span> ssl;  <span class="hljs-comment"># 启用SSL监听443端口</span><br>    <span class="hljs-attribute">server_name</span> your_domain.com;<br><br>    <span class="hljs-comment"># 证书路径配置</span><br>    <span class="hljs-attribute">ssl_certificate</span> /etc/nginx/ssl/your_domain.crt;<br>    <span class="hljs-attribute">ssl_certificate_key</span> /etc/nginx/ssl/your_domain.key;<br><br>    <span class="hljs-comment"># SSL优化参数</span><br>    <span class="hljs-attribute">ssl_protocols</span> TLSv1.<span class="hljs-number">2</span> TLSv1.<span class="hljs-number">3</span>;<br>    <span class="hljs-attribute">ssl_ciphers</span> HIGH:!aNULL:!MD5;<br>    <span class="hljs-attribute">ssl_prefer_server_ciphers</span> <span class="hljs-literal">on</span>;<br>    <span class="hljs-attribute">ssl_session_cache</span> shared:SSL:<span class="hljs-number">10m</span>;<br>    <span class="hljs-attribute">ssl_session_timeout</span> <span class="hljs-number">10m</span>;<br><br>    <span class="hljs-comment"># 其他配置（如反向代理）</span><br>    <span class="hljs-section">location</span> / &#123;<br>        <span class="hljs-attribute">proxy_pass</span> http://localhost:3000;<br>        <span class="hljs-attribute">proxy_set_header</span> Host <span class="hljs-variable">$host</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment"># HTTP强制跳转HTTPS（可选）</span><br><span class="hljs-section">server</span> &#123;<br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;<br>    <span class="hljs-attribute">server_name</span> your_domain.com;<br>    <span class="hljs-attribute">return</span> <span class="hljs-number">301</span> https://<span class="hljs-variable">$host</span><span class="hljs-variable">$request_uri</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p class="note note-info">预知后事如何 请看下回分解</p>]]></content>
    
    
    <categories>
      
      <category>后端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>MYSQL 数据库</title>
    <link href="/2025/08/29/Back-end/mysql/"/>
    <url>/2025/08/29/Back-end/mysql/</url>
    
    <content type="html"><![CDATA[<h1 id="一、mysql介绍"><a href="#一、mysql介绍" class="headerlink" title="一、mysql介绍"></a>一、mysql介绍</h1><p>MySQL 是一个 关系型数据库管理系统（RDBMS），使用 结构化查询语言（SQL） 来管理和操作数据。它广泛用于各种应用程序，包括网站、博客和在线商店等。MySQL 是一个开源软件，由瑞典的 MySQL AB 公司开发，现为 Oracle Corporation 的产品之一。</p><p>“关系”在这里指的是二维表格（表 &#x2F; table），每张表由行（row） 和 列（column） 组成，数据以结构化形式存储。</p><table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>数据库（Database）</td><td>数据的集合，一个数据库中可以有多张表</td></tr><tr><td>表（Table）</td><td>类似 Excel 表格，用来存储结构化数据</td></tr><tr><td>行（Row）</td><td>表中的一条记录，例如一个用户信息</td></tr><tr><td>列（Column）</td><td>数据的字段，比如姓名、年龄、邮箱等</td></tr><tr><td>主键（Primary Key）</td><td>每行的唯一标识，不可重复</td></tr><tr><td>外键（Foreign Key）</td><td>引用其他表的主键，用于建立表之间的关系</td></tr></tbody></table><h1 id="二、数据类型"><a href="#二、数据类型" class="headerlink" title="二、数据类型"></a>二、数据类型</h1><h2 id="1-数值类型"><a href="#1-数值类型" class="headerlink" title="1. 数值类型"></a>1. 数值类型</h2><h3 id="1-1-整数类型"><a href="#1-1-整数类型" class="headerlink" title="1.1 整数类型"></a>1.1 整数类型</h3><table><thead><tr><th>类型</th><th>存储空间</th><th>有符号范围</th><th>无符号范围</th></tr></thead><tbody><tr><td>TINYINT</td><td>1字节</td><td>-128~127</td><td>0~255</td></tr><tr><td>SMALLINT</td><td>2字节</td><td>-32,768~32,767</td><td>0~65,535</td></tr><tr><td>MEDIUMINT</td><td>3字节</td><td>-8,388,608~8,388,607</td><td>0~16,777,215</td></tr><tr><td>INT&#x2F;INTEGER</td><td>4字节</td><td>-2,147,483,648~2,147,483,647</td><td>0~4,294,967,295</td></tr><tr><td>BIGINT</td><td>8字节</td><td>-2^63~2^63-1</td><td>0~2^64-1</td></tr></tbody></table><h3 id="1-2-浮点类型"><a href="#1-2-浮点类型" class="headerlink" title="1.2 浮点类型"></a>1.2 浮点类型</h3><table><thead><tr><th>类型</th><th>存储空间</th><th>说明</th></tr></thead><tbody><tr><td>FLOAT</td><td>4字节</td><td>单精度浮点数，约7位有效数字</td></tr><tr><td>DOUBLE</td><td>8字节</td><td>双精度浮点数，约15位有效数字</td></tr><tr><td>DECIMAL(M,D)</td><td>变量</td><td>精确小数（M总位数，D小数位</td></tr></tbody></table><h3 id="1-3-布尔类型"><a href="#1-3-布尔类型" class="headerlink" title="1.3 布尔类型"></a>1.3 布尔类型</h3><table><thead><tr><th>类型</th><th>存储空间</th><th>说明</th></tr></thead><tbody><tr><td>BOOLEAN&#x2F;BOOL</td><td>1字节</td><td>0或1，等同于TINYINT(1)</td></tr></tbody></table><p>BOOLEAN&#x2F;BOOL：实际上是 TINYINT(1) 的别名<br>0表示false，非0表示true</p><h2 id="2-字符串类型"><a href="#2-字符串类型" class="headerlink" title="2. 字符串类型"></a>2. 字符串类型</h2><table><thead><tr><th>类型</th><th>最大长度</th><th>说明</th></tr></thead><tbody><tr><td>CHAR(M)</td><td>M字节（1~255）</td><td>定长字符串，最多255字符</td></tr><tr><td>VARCHAR(M)</td><td>L+1或L+2字节（0~65535）</td><td>变长字符串，最大长度65535</td></tr><tr><td>TEXT</td><td>L+2字节（0~65535）</td><td>长文本数据，最大长度65535</td></tr><tr><td>TINYTEXT</td><td>255字节</td><td>最大255字符</td></tr><tr><td>TEXT</td><td>64KB</td><td>最大65,535字符</td></tr><tr><td>MEDIUMTEXT</td><td>16MB</td><td>最大16,777,215字符</td></tr><tr><td>LONGTEXT</td><td>4GB</td><td>最大4,294,967,295字符</td></tr><tr><td>BINARY(n)</td><td>255字节</td><td>类似CHAR但存储二进制数据</td></tr><tr><td>VARBINARY(n)</td><td>65,535字节</td><td>类似VARCHAR但存储二进制数据</td></tr><tr><td>ENUM</td><td>65,535个值</td><td>枚举类型，从预定义值中选择</td></tr><tr><td>SET</td><td>64个成员</td><td>集合类型，可存储多个预定义值</td></tr></tbody></table><p>CHAR 和 VARCHAR：</p><ul><li>CHAR 是定长的，会预先分配足够的空间来保存最长的值。如果实际内容短于定义的长度，剩余部分会用空格填充。</li><li>VARCHAR 是变长的，只占用必要的空间加上一个额外字节记录长度。</li></ul><p>TEXT：用于存储大量文本数据，如文章、评论等。</p><h2 id="3-日期和时间类型"><a href="#3-日期和时间类型" class="headerlink" title="3. 日期和时间类型"></a>3. 日期和时间类型</h2><table><thead><tr><th>类型</th><th>存储空间</th><th>格式</th></tr></thead><tbody><tr><td>DATE</td><td>3字节</td><td>YYYY-MM-DD</td></tr><tr><td>TIME</td><td>3字节</td><td>HH:MM:SS</td></tr><tr><td>DATETIME</td><td>8字节</td><td>YYYY-MM-DD HH:MM:SS</td></tr><tr><td>TIMESTAMP</td><td>4字节</td><td>YYYYMMDDHHMMSS（与时区相关）</td></tr><tr><td>YEAR</td><td>1字节</td><td>YYYY或YYYY</td></tr></tbody></table><p>DATE、TIME 和 DATETIME：用于表示日期和时间。<br>TIMESTAMP：与时区有关，通常用来记录数据的创建和修改时间。<br>YEAR：仅存储年份，可以是四位数字的完整年份或两位数的缩写形式。</p><h2 id="4-JSON-类型（MySQL-5-7-）"><a href="#4-JSON-类型（MySQL-5-7-）" class="headerlink" title="4. JSON 类型（MySQL 5.7+）"></a>4. JSON 类型（MySQL 5.7+）</h2><p>JSON：专门用于存储JSON格式数据</p><p>支持有效的JSON文档存储</p><p>提供丰富的JSON操作函数</p><h2 id="5-空间数据类型"><a href="#5-空间数据类型" class="headerlink" title="5. 空间数据类型"></a>5. 空间数据类型</h2><table><thead><tr><th>类型</th><th>存储空间</th><th>说明</th></tr></thead><tbody><tr><td>GEOMETRY</td><td>可变长度</td><td>点、线、多边形等几何数据</td></tr><tr><td>POINT</td><td>可变长度</td><td>单个点</td></tr><tr><td>LINESTRING</td><td>可变长度</td><td>线段集合</td></tr><tr><td>POLYGON</td><td>可变长度</td><td>多边形</td></tr></tbody></table><p>用于存储地理空间信息，如地图上的位置。</p><h2 id="常用数据类型选择"><a href="#常用数据类型选择" class="headerlink" title="常用数据类型选择"></a>常用数据类型选择</h2><ul><li><strong>INT</strong> (整数类型)：最常用的整数类型，适用于大多数场景。</li><li><strong>BIGINT</strong>：适用于需要更大范围整数的场景，如大金额或计数器。</li><li>TINYINT、SMALLINT 和 MEDIUMINT：适用于需要较小范围整数的场景，如年龄或状态码。</li><li>FLOAT 和 DOUBLE：用于存储浮点数，DOUBLE 提供了更高的精度。</li><li><strong>DECIMAL</strong>：用于存储精确的小数，适用于财务计算。金额存储（如商品价格）。例如，存储- 商品价格时使用 DECIMAL(10,2) 来确保精确到小数点后两位。</li><li>CHAR 是定长的，会预先分配足够的空间来保存最长的值。如果实际内容短于定义的长度，剩余部分会用空格填充。</li><li><strong>VARCHAR</strong> 是变长的，只占用必要的空间加上一个额外字节记录长度。</li><li><strong>TEXT</strong>：用于存储大量文本数据，如文章、评论等。</li><li>DATE、TIME 和 DATETIME：用于表示日期和时间。</li><li><strong>TIMESTAMP</strong>：与时区有关，通常用来记录数据的创建和修改时间。</li><li>YEAR：仅存储年份，可以是四位数字的完整年份或两位数的缩写形式。</li></ul><h1 id="三、列的完整性约束"><a href="#三、列的完整性约束" class="headerlink" title="三、列的完整性约束"></a>三、列的完整性约束</h1><ul><li><strong>NOT NULL</strong>：非空约束，确保列不能有NULL值。</li><li><strong>DEFAULT</strong>：默认值约束，为列指定一个默认值。</li><li><strong>UNIQUE</strong>：唯一性约束，保证所有行的该列值都是唯一的。</li><li><strong>PRIMARY KEY</strong>：主键约束，组合了 NOT NULL 和 UNIQUE 约束，每行必须唯一且不为空。</li><li><strong>FOREIGN KEY</strong>：外键约束，用于建立表之间的关系。</li><li><strong>CHECK</strong>：检查列值是否满足特定条件。检查约束(CHECK)在5.7及以下版本会被解析但不执行</li><li><strong>添加和删除约束</strong> <ul><li><code>ALTER TABLE table_name ADD CONSTRAINT constraint_name constraint_type;</code><ul><li>ALTER TABLE table_name 表示要修改的表名</li><li>ADD CONSTRAINT 表示要添加约束</li><li>constraint_name 是要添加或删除的约束名称</li><li>constraint_type 是要添加的约束类型，例如 NOT NULL、UNIQUE 等。</li></ul></li><li><code>ALTER TABLE table_name DROP CONSTRAINT constraint_name;</code><ul><li>ALTER TABLE table_name 表示要修改的表名</li><li>DROP CONSTRAINT 表示要删除约束</li><li>constraint_name 是要删除的约束名称。</li><li>如果要删除的约束名称包含特殊字符或空格，需要用引号括起来。例如：<code>ALTER TABLE table_name DROP CONSTRAINT &quot;constraint name&quot;</code>;</li></ul></li></ul></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> customers (<br>    customer_id <span class="hljs-type">INT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY,<br>    email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span>,<br>    phone <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">UNIQUE</span>,<br>    credit_limit <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">CHECK</span> (credit_limit <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>),<br>    status ENUM(<span class="hljs-string">&#x27;active&#x27;</span>, <span class="hljs-string">&#x27;inactive&#x27;</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">&#x27;active&#x27;</span>,<br>    created_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,<br>    updated_at <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span><br>);<br><br><span class="hljs-comment">-- 这里定义了一个名为customers的表，包含多个列和约束。</span><br><span class="hljs-comment">-- customer_id列被设置为自增主键，这意味着每次插入新行时，MySQL会自动为该列生成一个唯一的值。</span><br><span class="hljs-comment">-- email列被设置为非空且唯一，这意味着每个客户的电子邮件地址必须是唯一的。</span><br><span class="hljs-comment">-- phone列也被设置为唯一，但允许为空。</span><br><span class="hljs-comment">-- credit_limit列被定义为DECIMAL类型，并使用CHECK约束确保其值大于0。这通常用于财务数据以确保正值。credit_limit列定义为DECIMAL(10,2)意味着最多可以有10位数字，其中小数点后可有2位</span><br><span class="hljs-comment">-- CHECK (credit_limit &gt; 0) 约束credit_limit必须大于0，否则插入或更新时会失败。</span><br><span class="hljs-comment">-- status列有一个默认值&#x27;active&#x27;，如果没有明确指定该字段的值，则默认为&#x27;active&#x27;。</span><br><span class="hljs-comment">-- created_at和updated_at列分别用于记录数据的创建时间和最后更新时间。</span><br><span class="hljs-comment">-- created_at列在插入数据时自动设置为当前时间，而updated_at列则在每次更新记录时自动更新为当前时间。</span><br></code></pre></td></tr></table></figure><h1 id="四、SQL（结构化查询语言）"><a href="#四、SQL（结构化查询语言）" class="headerlink" title="四、SQL（结构化查询语言）"></a>四、SQL（结构化查询语言）</h1><h2 id="增"><a href="#增" class="headerlink" title="增"></a>增</h2><h3 id="1-基本插入"><a href="#1-基本插入" class="headerlink" title="1. 基本插入"></a>1. 基本插入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> table_name (column1, column2, ...) <br><span class="hljs-keyword">VALUES</span> (value1, value2, ...);<br></code></pre></td></tr></table></figure><p>示例</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 向users表插入一条记录</span><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users (username, email, created_at) <br><span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;john_doe&#x27;</span>, <span class="hljs-string">&#x27;john@example.com&#x27;</span>, NOW());<br><br><span class="hljs-comment">-- 插入多条记录</span><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> products (name, price, stock) <br><span class="hljs-keyword">VALUES</span> <br>    (<span class="hljs-string">&#x27;Laptop&#x27;</span>, <span class="hljs-number">999.99</span>, <span class="hljs-number">50</span>),<br>    (<span class="hljs-string">&#x27;Smartphone&#x27;</span>, <span class="hljs-number">699.99</span>, <span class="hljs-number">100</span>),<br>    (<span class="hljs-string">&#x27;Tablet&#x27;</span>, <span class="hljs-number">399.99</span>, <span class="hljs-number">75</span>);<br></code></pre></td></tr></table></figure><h3 id="2-省略列名的插入-需提供所有列的值"><a href="#2-省略列名的插入-需提供所有列的值" class="headerlink" title="2. 省略列名的插入(需提供所有列的值)"></a>2. 省略列名的插入(需提供所有列的值)</h3>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> table_name <br><span class="hljs-keyword">VALUES</span> (value1, value2, ...);<br></code></pre></td></tr></table></figure><h3 id="3-插入查询结果"><a href="#3-插入查询结果" class="headerlink" title="3. 插入查询结果"></a>3. 插入查询结果</h3>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> table_name (column1, column2, ...) <br><span class="hljs-keyword">SELECT</span> column1, column2, ... <br><span class="hljs-keyword">FROM</span> another_table <br><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">condition</span>;<br></code></pre></td></tr></table></figure><p>   示例<br>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 将活跃用户插入到vip_users表</span><br> <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> vip_users (user_id, username)<br> <span class="hljs-keyword">SELECT</span> id, username <br> <span class="hljs-keyword">FROM</span> users <br> <span class="hljs-keyword">WHERE</span> last_login <span class="hljs-operator">&gt;</span> DATE_SUB(NOW(), <span class="hljs-type">INTERVAL</span> <span class="hljs-number">30</span> <span class="hljs-keyword">DAY</span>);<br> <span class="hljs-comment">-- 将过去30天内活跃的用户ID和用户名插入到vip_users表</span><br> <span class="hljs-comment">-- 解决重复插入问题</span><br> <span class="hljs-keyword">INSERT</span> IGNORE <span class="hljs-keyword">INTO</span> vip_users (user_id, username)<br> <span class="hljs-keyword">SELECT</span> id, username <br> <span class="hljs-keyword">FROM</span> users <br> <span class="hljs-keyword">WHERE</span> last_login <span class="hljs-operator">&gt;</span> DATE_SUB(NOW(), <span class="hljs-type">INTERVAL</span> <span class="hljs-number">30</span> <span class="hljs-keyword">DAY</span>);<br> <span class="hljs-comment">-- 使用INSERT IGNORE忽略重复插入的错误 普通 INSERT 会报错并终止，而 INSERT IGNORE 会跳过冲突记录，继续插入后续数据</span><br></code></pre></td></tr></table></figure></p><h2 id="删"><a href="#删" class="headerlink" title="删"></a>删</h2><h3 id="1-基本删除语法"><a href="#1-基本删除语法" class="headerlink" title="1. 基本删除语法"></a>1. 基本删除语法</h3><h4 id="1-基本删除"><a href="#1-基本删除" class="headerlink" title="1. 基本删除"></a>1. 基本删除</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> table_name <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">condition</span>;<br></code></pre></td></tr></table></figure><p>   示例<br>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 删除特定条件的记录</span><br> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> orders <br> <span class="hljs-keyword">WHERE</span> order_status <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;cancelled&#x27;</span>;<br><br> <span class="hljs-comment">-- 删除30天未登录的用户</span><br> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> users <br> <span class="hljs-keyword">WHERE</span> last_login <span class="hljs-operator">&lt;</span> DATE_SUB(NOW(), <span class="hljs-type">INTERVAL</span> <span class="hljs-number">30</span> <span class="hljs-keyword">DAY</span>)<br> <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;inactive&#x27;</span>;<br><br> <span class="hljs-comment">-- 删除关联数据(需注意外键约束)</span><br> <span class="hljs-keyword">DELETE</span> p <span class="hljs-keyword">FROM</span> products p<br> <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> inventory i <span class="hljs-keyword">ON</span> p.id <span class="hljs-operator">=</span> i.product_id<br> <span class="hljs-keyword">WHERE</span> i.product_id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;  <span class="hljs-comment">-- 删除没有库存的产品</span><br></code></pre></td></tr></table></figure></p><h4 id="2-删除重复记录"><a href="#2-删除重复记录" class="headerlink" title="2. 删除重复记录"></a>2. 删除重复记录</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> table_name <br><span class="hljs-keyword">WHERE</span> id <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MIN</span>(id) <span class="hljs-keyword">FROM</span> table_name <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> column1, column2);<br><span class="hljs-comment">-- 删除重复记录，保留每组的最小ID的记录。</span><br></code></pre></td></tr></table></figure><h4 id="3-清空表"><a href="#3-清空表" class="headerlink" title="3. 清空表"></a>3. 清空表</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">TRUNCATE</span> <span class="hljs-keyword">TABLE</span> table_name;<br><span class="hljs-comment">-- 清空表，但不记录每行删除的日志。比不带WHERE子句的DELETE更快，但会重置自增ID计数器。</span><br></code></pre></td></tr></table></figure><h4 id="4-删除表"><a href="#4-删除表" class="headerlink" title="4. 删除表"></a>4. 删除表</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> table_name;<br><span class="hljs-comment">-- 删除表及其所有数据和结构。</span><br></code></pre></td></tr></table></figure><h4 id="5-删除外键约束"><a href="#5-删除外键约束" class="headerlink" title="5. 删除外键约束"></a>5. 删除外键约束</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">FOREIGN</span> KEY fk_constraint_name;<br><span class="hljs-comment">-- 删除表的外键约束。</span><br></code></pre></td></tr></table></figure><h4 id="6-删除主键约束"><a href="#6-删除主键约束" class="headerlink" title="6. 删除主键约束"></a>6. 删除主键约束</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">PRIMARY</span> KEY;<br><span class="hljs-comment">-- 删除表的主键约束。</span><br></code></pre></td></tr></table></figure><h4 id="7-删除唯一约束"><a href="#7-删除唯一约束" class="headerlink" title="7. 删除唯一约束"></a>7. 删除唯一约束</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name <span class="hljs-keyword">DROP</span> INDEX index_name;<br><span class="hljs-comment">-- 删除表的唯一索引。</span><br></code></pre></td></tr></table></figure><h4 id="8-删除索引"><a href="#8-删除索引" class="headerlink" title="8. 删除索引"></a>8. 删除索引</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DROP</span> INDEX index_name <span class="hljs-keyword">ON</span> table_name;<br><span class="hljs-comment">-- 删除表的索引。</span><br></code></pre></td></tr></table></figure><h4 id="9-删除自增主键"><a href="#9-删除自增主键" class="headerlink" title="9. 删除自增主键"></a>9. 删除自增主键</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name MODIFY id <span class="hljs-type">INT</span>;<br><span class="hljs-comment">-- 删除自增主键约束，将id列的类型改为INT。</span><br></code></pre></td></tr></table></figure><h4 id="10-删除默认值"><a href="#10-删除默认值" class="headerlink" title="10. 删除默认值"></a>10. 删除默认值</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name MODIFY column_name datatype;<br><span class="hljs-comment">-- 删除列的默认值，将column_name的类型改为其原始类型。</span><br></code></pre></td></tr></table></figure><h4 id="11-删除非空约束"><a href="#11-删除非空约束" class="headerlink" title="11. 删除非空约束"></a>11. 删除非空约束</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name MODIFY column_name datatype <span class="hljs-keyword">NULL</span>;<br><span class="hljs-comment">-- 删除列的非空约束，将column_name的类型改为其原始类型并允许NULL值。</span><br></code></pre></td></tr></table></figure><h4 id="12-删除表中的所有数据"><a href="#12-删除表中的所有数据" class="headerlink" title="12. 删除表中的所有数据"></a>12. 删除表中的所有数据</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> table_name;<br><span class="hljs-comment">-- 删除表中的所有数据，但不重置自增ID计数器。</span><br></code></pre></td></tr></table></figure><h4 id="13-删除表但不重置自增ID"><a href="#13-删除表但不重置自增ID" class="headerlink" title="13. 删除表但不重置自增ID"></a>13. 删除表但不重置自增ID</h4>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">TRUNCATE</span> <span class="hljs-keyword">TABLE</span> table_name;<br><span class="hljs-comment">-- 删除表中的所有数据，但不重置自增ID计数器。</span><br></code></pre></td></tr></table></figure><h3 id="2-安全删除实践"><a href="#2-安全删除实践" class="headerlink" title="2. 安全删除实践"></a>2. 安全删除实践</h3><h4 id="1-先查询确认再删除"><a href="#1-先查询确认再删除" class="headerlink" title="1. 先查询确认再删除"></a>1. 先查询确认再删除</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 1. 先查看要删除的数据</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <br><span class="hljs-keyword">WHERE</span> order_date <span class="hljs-operator">&lt;</span> <span class="hljs-string">&#x27;2022-01-01&#x27;</span>;<br><br><span class="hljs-comment">-- 2. 确认无误后执行删除</span><br><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> orders <br><span class="hljs-keyword">WHERE</span> order_date <span class="hljs-operator">&lt;</span> <span class="hljs-string">&#x27;2022-01-01&#x27;</span>;<br></code></pre></td></tr></table></figure><h4 id="2-使用事务"><a href="#2-使用事务" class="headerlink" title="2. 使用事务"></a>2. 使用事务</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">START</span> TRANSACTION;<br><br><span class="hljs-comment">-- 删除操作</span><br><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> temp_data <span class="hljs-keyword">WHERE</span> created_at <span class="hljs-operator">&lt;</span> DATE_SUB(NOW(), <span class="hljs-type">INTERVAL</span> <span class="hljs-number">7</span> <span class="hljs-keyword">DAY</span>);<br><br><span class="hljs-comment">-- 检查受影响行数</span><br><span class="hljs-keyword">SELECT</span> ROW_COUNT();<br><br><span class="hljs-comment">-- 确认无误后提交</span><br><span class="hljs-keyword">COMMIT</span>;<br><span class="hljs-comment">-- 或回滚</span><br><span class="hljs-comment">-- ROLLBACK;</span><br></code></pre></td></tr></table></figure><h2 id="改"><a href="#改" class="headerlink" title="改"></a>改</h2><h3 id="1-基本更新语法"><a href="#1-基本更新语法" class="headerlink" title="1. 基本更新语法"></a>1. 基本更新语法</h3>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">UPDATE</span> table_name<br> <span class="hljs-keyword">SET</span> column1 <span class="hljs-operator">=</span> value1, column2 <span class="hljs-operator">=</span> value2, ...<br> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">condition</span>;<br></code></pre></td></tr></table></figure><p>   示例<br>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 更新用户状态</span><br> <span class="hljs-keyword">UPDATE</span> users <br> <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;inactive&#x27;</span>, last_updated <span class="hljs-operator">=</span> NOW()<br> <span class="hljs-keyword">WHERE</span> last_login <span class="hljs-operator">&lt;</span> DATE_SUB(NOW(), <span class="hljs-type">INTERVAL</span> <span class="hljs-number">90</span> <span class="hljs-keyword">DAY</span>);<br><br> <span class="hljs-comment">-- 基于其他表的值更新</span><br> <span class="hljs-keyword">UPDATE</span> products p<br> <span class="hljs-keyword">JOIN</span> inventory i <span class="hljs-keyword">ON</span> p.id <span class="hljs-operator">=</span> i.product_id<br> <span class="hljs-keyword">SET</span> p.price <span class="hljs-operator">=</span> p.price <span class="hljs-operator">*</span> <span class="hljs-number">1.1</span>  <span class="hljs-comment">-- 涨价10%</span><br> <span class="hljs-keyword">WHERE</span> i.stock <span class="hljs-operator">&lt;</span> <span class="hljs-number">10</span>;<br><br> <span class="hljs-comment">-- 批量更新</span><br> <span class="hljs-comment">-- 使用CASE语句进行条件更新</span><br> <span class="hljs-keyword">UPDATE</span> employees<br> <span class="hljs-keyword">SET</span> salary <span class="hljs-operator">=</span> <span class="hljs-keyword">CASE</span> <br>     <span class="hljs-keyword">WHEN</span> performance_rating <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;A&#x27;</span> <span class="hljs-keyword">THEN</span> salary <span class="hljs-operator">*</span> <span class="hljs-number">1.15</span><br>     <span class="hljs-keyword">WHEN</span> performance_rating <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;B&#x27;</span> <span class="hljs-keyword">THEN</span> salary <span class="hljs-operator">*</span> <span class="hljs-number">1.10</span><br>     <span class="hljs-keyword">ELSE</span> salary <span class="hljs-operator">*</span> <span class="hljs-number">1.05</span><br> <span class="hljs-keyword">END</span>;<br></code></pre></td></tr></table></figure></p><h3 id="2-更新自增字段"><a href="#2-更新自增字段" class="headerlink" title="2. 更新自增字段"></a>2. 更新自增字段</h3>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name MODIFY <span class="hljs-keyword">COLUMN</span> id <span class="hljs-type">INT</span> AUTO_INCREMENT;<br><span class="hljs-comment">-- 将列的类型改为INT并设置AUTO_INCREMENT。</span><br></code></pre></td></tr></table></figure><h3 id="3-重置自增ID"><a href="#3-重置自增ID" class="headerlink" title="3. 重置自增ID"></a>3. 重置自增ID</h3>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> table_name AUTO_INCREMENT <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><span class="hljs-comment">-- 重置表的自增ID计数器为1。</span><br></code></pre></td></tr></table></figure><h2 id="查"><a href="#查" class="headerlink" title="查"></a>查</h2><h3 id="1-基本查询"><a href="#1-基本查询" class="headerlink" title="1. 基本查询"></a>1. 基本查询</h3>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> column1, column2, ... <br><span class="hljs-keyword">FROM</span> table_name <br><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">condition</span>;<br></code></pre></td></tr></table></figure><p>   示例<br>   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 查询所有列</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users;<br><span class="hljs-comment">-- 查询特定条件的用户</span><br><span class="hljs-keyword">SELECT</span> id, username, email <br> <span class="hljs-keyword">FROM</span> users <br> <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;active&#x27;</span> <br> <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;2023-01-01&#x27;</span><br> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span><br> LIMIT <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure></p><h3 id="2-常用查询"><a href="#2-常用查询" class="headerlink" title="2. 常用查询"></a>2. 常用查询</h3><h4 id="1-条件查询"><a href="#1-条件查询" class="headerlink" title="1. 条件查询"></a>1. 条件查询</h4><pre><code class="hljs"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 比较运算符</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> price <span class="hljs-operator">&gt;</span> <span class="hljs-number">100</span>;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> total_amount <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">100</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">500</span>;<br><br><span class="hljs-comment">-- 逻辑运算符</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <br><span class="hljs-keyword">WHERE</span> (status <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;active&#x27;</span> <span class="hljs-keyword">OR</span> last_login <span class="hljs-operator">&gt;</span> <span class="hljs-string">&#x27;2023-06-01&#x27;</span>)<br><span class="hljs-keyword">AND</span> email <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%@example.com&#x27;</span>;<br><br><span class="hljs-comment">-- IN操作符</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> customers <br><span class="hljs-keyword">WHERE</span> country <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;USA&#x27;</span>, <span class="hljs-string">&#x27;Canada&#x27;</span>, <span class="hljs-string">&#x27;UK&#x27;</span>);<br></code></pre></td></tr></table></figure></code></pre><h4 id="2-模糊查询"><a href="#2-模糊查询" class="headerlink" title="2. 模糊查询"></a>2. 模糊查询</h4><pre><code class="hljs"> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"> <span class="hljs-comment">-- LIKE操作符</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <br><span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;%phone%&#x27;</span>;  <span class="hljs-comment">-- 包含phone</span><br><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <br><span class="hljs-keyword">WHERE</span> username <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;user_%&#x27;</span>;  <span class="hljs-comment">-- 以user_开头</span><br></code></pre></td></tr></table></figure></code></pre><h4 id="3-聚合查询"><a href="#3-聚合查询" class="headerlink" title="3. 聚合查询"></a>3. 聚合查询</h4><pre><code class="hljs"> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- COUNT, SUM, AVG, MAX, MIN</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">FROM</span> orders;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">AVG</span>(price) <span class="hljs-keyword">FROM</span> products;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">MAX</span>(salary), <span class="hljs-built_in">MIN</span>(salary) <span class="hljs-keyword">FROM</span> employees;<br><span class="hljs-comment">-- COUNT(*)：聚合函数，统计所有行的数量（包括 NULL 值）。</span><br><span class="hljs-comment">-- AVG(price)：聚合函数，计算平均价格。</span><br><span class="hljs-comment">-- MAX(salary), MIN(salary)：聚合函数，分别计算最高和最低薪资。</span><br><br><span class="hljs-comment">-- GROUP BY</span><br><span class="hljs-keyword">SELECT</span> department, <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> employee_count <br><span class="hljs-keyword">FROM</span> employees <br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> department;<br><span class="hljs-comment">-- 选择两列：department（部门名称）和 COUNT(*)（统计结果）。</span><br><span class="hljs-comment">-- as employee_count 为统计结果列指定别名，使输出更易读。</span><br><span class="hljs-comment">-- 数据来源是 employees 表。</span><br><span class="hljs-comment">-- 按 department 列的值分组，对每个部门单独统计。</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------+---------------+</span><br><span class="hljs-operator">|</span> department <span class="hljs-operator">|</span> employee_count<span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------+---------------+</span><br><span class="hljs-operator">|</span> Sales      <span class="hljs-operator">|</span>            <span class="hljs-number">15</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> Engineering<span class="hljs-operator">|</span>            <span class="hljs-number">22</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> HR         <span class="hljs-operator">|</span>             <span class="hljs-number">5</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------+---------------+</span><br><br><span class="hljs-comment">-- HAVING (对分组结果过滤)</span><br><span class="hljs-keyword">SELECT</span> department, <span class="hljs-built_in">AVG</span>(salary) <span class="hljs-keyword">as</span> avg_salary<br><span class="hljs-keyword">FROM</span> employees<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> department<br><span class="hljs-keyword">HAVING</span> <span class="hljs-built_in">AVG</span>(salary) <span class="hljs-operator">&gt;</span> <span class="hljs-number">5000</span>;<br><span class="hljs-comment">-- 筛选出平均工资超过5000的部门及其平均薪资。</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------+-----------+</span><br><span class="hljs-operator">|</span> department <span class="hljs-operator">|</span> avg_salary<span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------+-----------+</span><br><span class="hljs-operator">|</span> Engineering<span class="hljs-operator">|</span>    <span class="hljs-number">7500.50</span><span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> Management <span class="hljs-operator">|</span>   <span class="hljs-number">12000.00</span><span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------------+-----------+</span><br></code></pre></td></tr></table></figure></code></pre><h4 id="4-连接查询"><a href="#4-连接查询" class="headerlink" title="4. 连接查询"></a>4. 连接查询</h4><pre><code class="hljs"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 1. 内连接</span><br><span class="hljs-keyword">SELECT</span> 列名<br><span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span><br><span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> 表<span class="hljs-number">2</span> <span class="hljs-keyword">ON</span> 表<span class="hljs-number">1.</span>关联字段 <span class="hljs-operator">=</span> 表<span class="hljs-number">2.</span>关联字段;<br><br><span class="hljs-comment">-- 示例</span><br><span class="hljs-comment">-- 连接两张表，只返回有匹配的行。</span><br><span class="hljs-keyword">SELECT</span> o.order_id, u.username, o.total_amount<br><span class="hljs-comment">-- 指定主表为 orders，并赋予别名 o（简化后续引用）。</span><br><span class="hljs-keyword">FROM</span> orders o<br><span class="hljs-comment">-- 通过 JOIN 关联 users 表（别名 u），关联条件是 orders.user_id = users.id。</span><br><span class="hljs-comment">-- 默认是 INNER JOIN，即只返回两表匹配的记录。</span><br><span class="hljs-keyword">JOIN</span> users u <span class="hljs-keyword">ON</span> o.user_id <span class="hljs-operator">=</span> u.id;<br><br><span class="hljs-comment">--  2. 左外连接（LEFT JOIN / LEFT OUTER JOIN）</span><br><span class="hljs-keyword">SELECT</span> 列名<br><span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span><br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> 表<span class="hljs-number">2</span> <span class="hljs-keyword">ON</span> 表<span class="hljs-number">1.</span>关联字段 <span class="hljs-operator">=</span> 表<span class="hljs-number">2.</span>关联字段;<br><span class="hljs-comment">-- 左表数据全部保留，右表无匹配时填充 NULL。</span><br><span class="hljs-comment">-- 适用于需要保留主表数据的场景（如统计用户订单数，包括未下单用户）。</span><br><br><span class="hljs-comment">-- 示例</span><br><span class="hljs-keyword">SELECT</span> p.name, c.category_name<br><span class="hljs-keyword">FROM</span> products p<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> categories c <span class="hljs-keyword">ON</span> p.category_id <span class="hljs-operator">=</span> c.id;<br><br><span class="hljs-comment">-- 3. 右外连接（RIGHT JOIN / RIGHT OUTER JOIN）</span><br><span class="hljs-keyword">SELECT</span> 列名<br><span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span><br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> 表<span class="hljs-number">2</span> <span class="hljs-keyword">ON</span> 表<span class="hljs-number">1.</span>关联字段 <span class="hljs-operator">=</span> 表<span class="hljs-number">2.</span>关联字段;<br><span class="hljs-comment">-- 右表数据全部保留，左表无匹配时填充 NULL。</span><br><span class="hljs-comment">-- 使用场景较少（通常可通过调整表顺序用 LEFT JOIN 替代）</span><br><br><span class="hljs-comment">-- 示例（较少使用，通常用 LEFT JOIN 实现相同效果）</span><br><span class="hljs-comment">-- 查询所有订单及对应的用户（无用户的订单也显示）</span><br><span class="hljs-keyword">SELECT</span> o.order_id, u.username, o.total_amount<br><span class="hljs-keyword">FROM</span> orders o<br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> users u <span class="hljs-keyword">ON</span> o.user_id <span class="hljs-operator">=</span> u.id;<br><br><span class="hljs-comment">-- 4. 全外连接（FULL JOIN / FULL OUTER JOIN）</span><br><br><span class="hljs-comment">-- MySQL 不直接支持 FULL JOIN，需用 UNION 模拟</span><br><span class="hljs-keyword">SELECT</span> 列名 <span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span> <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> 表<span class="hljs-number">2</span> <span class="hljs-keyword">ON</span> 关联条件<br><span class="hljs-keyword">UNION</span><br><span class="hljs-keyword">SELECT</span> 列名 <span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span> <span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> 表<span class="hljs-number">2</span> <span class="hljs-keyword">ON</span> 关联条件<br><span class="hljs-keyword">WHERE</span> 表<span class="hljs-number">2.</span>关联字段 <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;<br><span class="hljs-comment">-- 模拟全外连接，先做左外连接和右外连接的并集。</span><br><span class="hljs-comment">-- 然后排除右外连接中多余的行（通过 WHERE 表2.关联字段 IS NULL 实现）。</span><br><span class="hljs-comment">-- 适用于需要保留两表所有数据的场景。</span><br><br><span class="hljs-comment">-- 示例（模拟全外连接）</span><br><span class="hljs-comment">-- 模拟 FULL JOIN：查询所有用户和订单（包括无订单的用户和无用户的订单）</span><br><span class="hljs-keyword">SELECT</span> u.username, o.order_id, o.total_amount<br><span class="hljs-keyword">FROM</span> users u<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> orders o <span class="hljs-keyword">ON</span> u.id <span class="hljs-operator">=</span> o.user_id<br><span class="hljs-keyword">UNION</span><br><span class="hljs-keyword">SELECT</span> u.username, o.order_id, o.total_amount<br><span class="hljs-keyword">FROM</span> users u<br><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> orders o <span class="hljs-keyword">ON</span> u.id <span class="hljs-operator">=</span> o.user_id<br><span class="hljs-keyword">WHERE</span> u.id <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;<br><br><span class="hljs-comment">-- 5. 交叉连接（CROSS JOIN）</span><br><span class="hljs-keyword">SELECT</span> 列名<br><span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span><br><span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span> 表<span class="hljs-number">2</span>;<br><span class="hljs-comment">-- 或省略 ON 条件（隐式交叉连接）</span><br><span class="hljs-keyword">SELECT</span> 列名 <span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span>, 表<span class="hljs-number">2</span>;<br><span class="hljs-comment">-- 返回两表的笛卡尔积（即所有可能的组合）。</span><br><span class="hljs-comment">-- 适用于需要生成所有组合的场景（如测试或特定查询需求）。</span><br><br><span class="hljs-comment">-- 示例</span><br><span class="hljs-comment">-- 生成用户和产品的所有可能组合</span><br><span class="hljs-keyword">SELECT</span> u.username, p.product_name<br><span class="hljs-keyword">FROM</span> users u<br><span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span> products p;<br><br><span class="hljs-comment">-- 6. 自连接（SELF JOIN）</span><br><span class="hljs-keyword">SELECT</span> a.列名, b.列名<br><span class="hljs-keyword">FROM</span> 表 a<br><span class="hljs-keyword">JOIN</span> 表 b <span class="hljs-keyword">ON</span> a.关联字段 <span class="hljs-operator">=</span> b.关联字段;<br><span class="hljs-comment">-- 适用于表自身有父子或关联关系的情况。</span><br><span class="hljs-comment">-- 表与自身连接，常用于处理层级数据（如员工-经理关系）。</span><br><br><span class="hljs-comment">-- 示例</span><br><span class="hljs-comment">-- 查询员工及其经理姓名</span><br><span class="hljs-keyword">SELECT</span> e.name <span class="hljs-keyword">AS</span> employee, m.name <span class="hljs-keyword">AS</span> manager<br><span class="hljs-keyword">FROM</span> employees e<br><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees m <span class="hljs-keyword">ON</span> e.manager_id <span class="hljs-operator">=</span> m.id;<br><br><br><span class="hljs-comment">-- 7. 自然连接（NATURAL JOIN）</span><br><span class="hljs-keyword">SELECT</span> 列名<br><span class="hljs-keyword">FROM</span> 表<span class="hljs-number">1</span><br><span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> 表<span class="hljs-number">2</span>;<br><span class="hljs-comment">-- 自动根据相同名称的列进行连接。</span><br><span class="hljs-comment">-- 适用于列名完全相同且无需指定连接条件的场景。</span><br><span class="hljs-comment">-- 注意：可能导致列名冲突，需谨慎使用。</span><br><span class="hljs-comment">-- 示例</span><br><span class="hljs-comment">-- 假设 users 和 orders 都有 id 列</span><br><span class="hljs-keyword">SELECT</span> username, order_id<br><span class="hljs-keyword">FROM</span> users<br><span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">JOIN</span> orders;<br><br><br><span class="hljs-comment">-- 8. 多表连接</span><br><span class="hljs-comment">-- 连接多个表时，确保每个 JOIN 后都有明确的 ON 或 USING 子句。</span><br><span class="hljs-comment">-- 示例</span><br><span class="hljs-keyword">SELECT</span> o.order_id, u.username, p.name, o.quantity<br><span class="hljs-keyword">FROM</span> orders o<br><span class="hljs-keyword">JOIN</span> users u <span class="hljs-keyword">ON</span> o.user_id <span class="hljs-operator">=</span> u.id<br><span class="hljs-keyword">JOIN</span> order_items oi <span class="hljs-keyword">ON</span> o.id <span class="hljs-operator">=</span> oi.order_id<br><span class="hljs-keyword">JOIN</span> products p <span class="hljs-keyword">ON</span> oi.product_id <span class="hljs-operator">=</span> p.id;<br><span class="hljs-comment">-- 查询订单详情，包括用户、产品及购买数量。</span><br><span class="hljs-comment">-- 注意：JOIN 顺序影响性能，通常先连接较小的表。</span><br></code></pre></td></tr></table></figure></code></pre><h3 id="CRUD操作"><a href="#CRUD操作" class="headerlink" title="CRUD操作"></a>CRUD操作</h3><ol><li>批量操作优化<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 使用多值插入(比多次单值插入快很多)</span><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> logs (user_id, action, created_at)<br><span class="hljs-keyword">VALUES</span> <br>    (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;login&#x27;</span>, NOW()),<br>    (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;view_product&#x27;</span>, NOW()),<br>    (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;add_to_cart&#x27;</span>, NOW());<br></code></pre></td></tr></table></figure>批量更新优化<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 使用临时表批量更新</span><br><span class="hljs-keyword">CREATE</span> TEMPORARY <span class="hljs-keyword">TABLE</span> temp_price_updates (<br>    product_id <span class="hljs-type">INT</span>,<br>    new_price <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)<br>);<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> temp_price_updates <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-number">19.99</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">29.99</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">39.99</span>);<br><br><span class="hljs-keyword">UPDATE</span> products p<br><span class="hljs-keyword">JOIN</span> temp_price_updates t <span class="hljs-keyword">ON</span> p.id <span class="hljs-operator">=</span> t.product_id<br><span class="hljs-keyword">SET</span> p.price <span class="hljs-operator">=</span> t.new_price;<br></code></pre></td></tr></table></figure></li><li>分页查询优化<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 传统分页(大数据量时性能差)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> order_date <span class="hljs-keyword">DESC</span> <br>LIMIT <span class="hljs-number">10000</span>, <span class="hljs-number">10</span>;  <span class="hljs-comment">-- 跳过10000条取10条</span><br><br><span class="hljs-comment">-- 优化分页(使用索引列)</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <br><span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&gt;</span> last_seen_id  <span class="hljs-comment">-- 记录上次查询的最后ID</span><br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id <br>LIMIT <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure></li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> 列名<br><span class="hljs-keyword">FROM</span> 表名<br>[<span class="hljs-keyword">WHERE</span> 条件]<br>[<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 排序列]<br>LIMIT 每页记录数 <span class="hljs-keyword">OFFSET</span> 偏移量;<br><span class="hljs-comment">-- 或简写为：</span><br>LIMIT 偏移量, 每页记录数;  <span class="hljs-comment">-- MySQL特有语法</span><br><br><br><span class="hljs-comment">-- 查询第2页数据，每页10条（偏移量=(2-1)*10=10）</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span><br>LIMIT <span class="hljs-number">10</span> <span class="hljs-keyword">OFFSET</span> <span class="hljs-number">10</span>;<br><br><span class="hljs-comment">-- MySQL简写形式</span><br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span><br>LIMIT <span class="hljs-number">10</span>, <span class="hljs-number">10</span>;  <span class="hljs-comment">-- 跳过前10条，取接下来的10条</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>后端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>PHP</title>
    <link href="/2025/08/26/Back-end/phpStart/"/>
    <url>/2025/08/26/Back-end/phpStart/</url>
    
    <content type="html"><![CDATA[<h1 id="1-php安装"><a href="#1-php安装" class="headerlink" title="1. php安装"></a>1. php安装</h1><ol><li>macOS 下安装 Homebrew 安装<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs perl">brew install php                    <span class="hljs-comment"># 安装最新稳定版</span><br>brew install php@8.<span class="hljs-number">0</span>                <span class="hljs-comment"># 安装指定版本</span><br>brew uninstall php                  <span class="hljs-comment"># 卸载</span><br>ps aux | <span class="hljs-keyword">grep</span> php-fpm               <span class="hljs-comment"># 查看php-fpm服务状态</span><br>brew services list | <span class="hljs-keyword">grep</span> php       <span class="hljs-comment"># 查看php服务状态</span><br>brew services start php@8.<span class="hljs-number">3</span>         <span class="hljs-comment"># 启动php服务</span><br>brew services stop php              <span class="hljs-comment"># 关闭php服务</span><br>brew services stop php@7.<span class="hljs-number">4</span>          <span class="hljs-comment"># 指定版本关闭</span><br>brew services restart php@8.<span class="hljs-number">3</span>       <span class="hljs-comment"># 重启php服务</span><br></code></pre></td></tr></table></figure></li><li>强制切换本地php版本<ol><li>安装php自己想要的版本</li><li><code>vim ~/.zshrc</code>中添加 <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment"># Homebrew PHP 7.0 的路径</span><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-string">&quot;/opt/homebrew/opt/php@7.0/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br><span class="hljs-built_in">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-string">&quot;/opt/homebrew/opt/php@7.0/sbin:<span class="hljs-variable">$PATH</span>&quot;</span><br></code></pre></td></tr></table></figure></li><li><code>source ~/.zshrc</code>更新文件</li><li><code>php -v</code>查看版本是否切换</li></ol></li><li>安装 phpbrew，管理和切换多个 PHP 版本<ol><li>在终端中执行以下命令以下载 phpbrew 的 PHAR 文件：<br>  <code>curl -L -O https://github.com/phpbrew/phpbrew/releases/latest/download/phpbrew.phar</code></li><li>或者使用 Gitee 的镜像地址（如果 GitHub 访问不畅）<br> <code>curl -L -O https://gitee.com/mirrors/PHPBrew/raw/master/phpbrew.phar</code></li><li>设置可执行权限并移动:为下载的文件添加可执行权限，并将其移动到系统可识别的目录（例如 &#x2F;usr&#x2F;local&#x2F;bin）： <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> +x phpbrew.phar<br>sudo <span class="hljs-built_in">mv</span> phpbrew.phar /usr/local/bin/phpbrew<br></code></pre></td></tr></table></figure></li><li>初始化 phpbrew,在终端中运行：<code>phpbrew init</code></li><li>.bashrc 或 .zshrc 文件增加如下行：<code>[[ -e ~/.phpbrew/bashrc ]] &amp;&amp; source ~/.phpbrew/bashrc</code><ol><li><code>vim ~/.zshrc</code>按 i 进入插入模式，然后进行编辑。编辑完成后，按 Esc 退出插入模式，然后输入 :wq 保存并退出</li></ol></li><li>基本用法：<ol><li>列出已知的PHP版本 <code>phpbrew known</code></li><li>更新phpbrew<code>phpbrew self-update</code></li><li>使用phpbrew安装PHP7.4（如果还没有安装）：<code>phpbrew install 7.4.33 +default</code></li><li>切换到PHP7.4：<code>phpbrew switch 7.4.33</code></li></ol></li></ol></li><li>解析php文件<ol><li>例如，创建一个名为hello.php的文件 <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Hello, World!&quot;</span>;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure></li><li>输入以下命令来运行PHP文件<br> <code>php hello.php</code><br> 看到输出：<code>Hello, World!</code></li></ol></li></ol><h1 id="2-php在nginx中配置"><a href="#2-php在nginx中配置" class="headerlink" title="2. php在nginx中配置"></a>2. php在nginx中配置</h1><ol><li>命令行安装&#x2F;启动&#x2F;关闭&#x2F;重启<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs perl">brew list | <span class="hljs-keyword">grep</span> nginx              <span class="hljs-comment">#检查是否通过 Homebrew 安装</span><br>brew install nginx                  <span class="hljs-comment">#安装nginx</span><br>brew info nginx                     <span class="hljs-comment">#查看nginx安装信息 /opt/homebrew/Cellar/nginx/1.29.1</span><br>brew uninstall nginx                <span class="hljs-comment">#卸载nginx</span><br>brew services start nginx php       <span class="hljs-comment">#启动nginx服务 访问 http://localhost:8080（默认端口），看到欢迎页面即成功。</span><br>brew services list | <span class="hljs-keyword">grep</span> nginx     <span class="hljs-comment">#查看nginx服务状态</span><br>ps aux | <span class="hljs-keyword">grep</span> nginx                 <span class="hljs-comment">#查看nginx进程状态</span><br>brew services stop nginx            <span class="hljs-comment">#关闭nginx服务</span><br>brew services restart nginx         <span class="hljs-comment">#重启nginx服务</span><br>sudo nginx -s reload                <span class="hljs-comment">#重新加载nginx配置文件</span><br></code></pre></td></tr></table></figure></li><li>编辑nginx配置文件<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo <span class="hljs-keyword">vi</span> /<span class="hljs-keyword">opt</span>/homebrew/etc/nginx/nginx.<span class="hljs-keyword">conf</span><br></code></pre></td></tr></table></figure></li><li>完整配置文件<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">worker_processes</span>  <span class="hljs-number">1</span>;<br><br><span class="hljs-section">events</span> &#123;<br>    <span class="hljs-attribute">worker_connections</span>  <span class="hljs-number">1024</span>;<br>&#125;<br><br><span class="hljs-section">http</span> &#123;<br>    <span class="hljs-attribute">include</span>       mime.types;<br>    <span class="hljs-attribute">default_type</span>  application/octet-stream;<br>    <span class="hljs-attribute">sendfile</span>        <span class="hljs-literal">on</span>;<br>    <span class="hljs-attribute">keepalive_timeout</span>  <span class="hljs-number">65</span>;<br><br>    <span class="hljs-section">server</span> &#123;<br>        <span class="hljs-attribute">listen</span>       <span class="hljs-number">8080</span>;<br>        <span class="hljs-attribute">server_name</span>  localhost;<br>        <span class="hljs-attribute">root</span> /opt/homebrew/var/www;  <span class="hljs-comment"># 网站根目录</span><br>        <span class="hljs-attribute">index</span> index.php index.html index.htm;<br><br>        <span class="hljs-section">location</span> / &#123;<br>            <span class="hljs-attribute">root</span>   html;<br>            <span class="hljs-attribute">index</span>  index.html index.htm;<br>        &#125;<br><br>        <span class="hljs-comment"># redirect server error pages to the static page /50x.html</span><br>        <span class="hljs-attribute">error_page</span>   <span class="hljs-number">500</span> <span class="hljs-number">502</span> <span class="hljs-number">503</span> <span class="hljs-number">504</span>  /50x.html;<br>        <span class="hljs-section">location</span> = /50x.html &#123;<br>            <span class="hljs-attribute">root</span>   html;<br>        &#125;<br><br>        <span class="hljs-comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br>        <span class="hljs-section">location</span> <span class="hljs-regexp">~ \.php$</span> &#123;<br>          <span class="hljs-attribute">root</span>           /opt/homebrew/var/www;<br>          <span class="hljs-attribute">fastcgi_pass</span>   <span class="hljs-number">127.0.0.1:9000</span>;<br>          <span class="hljs-attribute">fastcgi_index</span>  index.php;<br>          <span class="hljs-attribute">fastcgi_param</span> SCRIPT_FILENAME <span class="hljs-variable">$document_root</span><span class="hljs-variable">$fastcgi_script_name</span>;<br>          <span class="hljs-attribute">include</span> /opt/homebrew/etc/nginx/fastcgi_params;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-attribute">include</span> servers/*;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>重启nginx服务 <code>brew services restart nginx</code></li><li>访问<code> http://localhost:8080/test.php</code>，即可看到文件输出</li></ol><!-- # php在apache中配置 --><!-- 1. 安装 --><!-- ``` --><!-- brew install httpd                   # 安装apache --><!-- sudo vi /opt/homebrew/etc/httpd/httpd.conf --><!-- brew services list | grep httpd      #查看apache服务状态(通过 Homebrew 安装的 Apache) --><!-- ps aux | grep httpd                  #查看apache服务状态(使用系统命令) --><!-- #如果输出中包含 httpd 进程，说明 Apache 正在运行。若无输出，则 Apache 未启动。 --><!-- httpd -v                             #查看apache版本 --><!-- ``` --><!-- 2. 配置（待补充） --><h1 id="3-安装mysql"><a href="#3-安装mysql" class="headerlink" title="3. 安装mysql"></a>3. 安装mysql</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew list | grep mysql              <span class="hljs-comment">#查看安装的mysql 有输出即为安装 无输出即为未安装</span><br>brew services list | grep mysql     <span class="hljs-comment">#查看mysql服务状态 stopped/started 表示服务状态</span><br>brew install mysql                  <span class="hljs-comment">#安装mysql</span><br>mysql --version                     <span class="hljs-comment">#查看mysql版本</span><br>brew services start mysql           <span class="hljs-comment">#启动mysql服务</span><br>brew services stop mysql            <span class="hljs-comment">#停止mysql服务</span><br><br><span class="hljs-built_in">ls</span> /opt/homebrew/Cellar/mysql       <span class="hljs-comment"># 检查Homebrew的安装路径</span><br><span class="hljs-built_in">which</span> mysql                         <span class="hljs-comment"># 查看mysql的安装路径</span><br><br>mysql -u root -p                    <span class="hljs-comment">#进入mysql 密码默认为空/123456/root</span><br><br>brew services start mysql@8.0       <span class="hljs-comment">#启动指定版本的mysql服务</span><br>brew services restart mysql@8.0     <span class="hljs-comment"># 重启</span><br></code></pre></td></tr></table></figure><p>修改用户认证方式:MySQL 8.0默认使用caching_sha2_password认证插件，而某些系统可能使用的是较老的PHP客户端库，不支持这种新认证方式。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">&#x27;your_username&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="hljs-keyword">WITH</span> mysql_native_password <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;your_password&#x27;</span>;<br>FLUSH <span class="hljs-keyword">PRIVILEGES</span>;<br></code></pre></td></tr></table></figure><p>同时存在两个 MySQL 服务 怎么解决</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash"> <span class="hljs-comment"># 停止所有MySQL相关服务</span><br>brew services stop mysql<br>brew services stop mysql@8.0<br><span class="hljs-comment"># 强制终止残留进程（如果存在）</span><br>pkill -f mysqld<br><span class="hljs-comment"># 删除冲突的plist文件（谨慎操作）</span><br><span class="hljs-built_in">rm</span> -f ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist<br><span class="hljs-built_in">rm</span> -f ~/Library/LaunchAgents/homebrew.mxcl.mysql@8.0.plist<br><br><span class="hljs-comment"># 重新创建服务文件</span><br>brew services cleanup<br><br><span class="hljs-comment"># 方案1：使用mysql@8.0（推荐）</span><br>brew <span class="hljs-built_in">unlink</span> mysql 2&gt;/dev/null  <span class="hljs-comment"># 移除旧版本链接</span><br>brew <span class="hljs-built_in">link</span> --force mysql@8.0<br>brew services start mysql@8.0<br><br><span class="hljs-comment"># 检查服务状态（应只有1个started）</span><br>brew services list | grep mysql<br><br><span class="hljs-comment"># 检查端口占用（应为3306）</span><br>lsof -i :3306<br><br><span class="hljs-comment"># 检查日志（无错误信息）</span><br><span class="hljs-built_in">tail</span> -f /opt/homebrew/var/mysql/$(<span class="hljs-built_in">whoami</span>).err<br></code></pre></td></tr></table></figure><h1 id="4-Filament-后台安装"><a href="#4-Filament-后台安装" class="headerlink" title="4. Filament 后台安装"></a>4. Filament 后台安装</h1><ol><li>通过 Composer<ol><li>在终端中运行：<code>composer create-project kanekescom/filamentum your-project-name</code>。</li><li>进入项目目录：<code>cd your-project-name</code>。</li></ol></li><li>配置环境文件<ol><li>在 .env 文件中配置数据库连接信息（如 DB_DATABASE, DB_USERNAME, DB_PASSWORD）。</li></ol></li><li>生成应用密钥<ol><li>在终端中运行<code>php artisan key:generate</code>。创建一个安全的加密密钥。</li></ol></li><li>运行数据库迁移<ol><li><code>php artisan migrate</code></li></ol></li><li>如果出现错误 从检查路由开始排查<ol><li><code>php artisan route:list</code></li><li><code>php artisan --version</code> 验证Laravel版本</li><li>对于 Laravel 11 及更高版本，建议安装 Filament v4 <code>composer require filament/filament:&quot;^4.0&quot; -W</code> 这里的 -W 参数允许Composer更新所有相关依赖的版本，对于解决潜在的依赖冲突非常有帮助</li><li><code>php artisan filament:install --panels</code> 安装 Filament 面板,一般紧跟上面步骤</li><li>清除所有缓存并重新尝试 <figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-meta"># 清除所有缓存</span><br>php artisan config:<span class="hljs-keyword">clear</span><br>php artisan cache:<span class="hljs-keyword">clear</span><br>php artisan route:<span class="hljs-keyword">clear</span><br>php artisan <span class="hljs-built_in">view</span>:<span class="hljs-keyword">clear</span><br><br><span class="hljs-meta"># 重新生成自动加载</span><br>composer dump-autoload<br><br><span class="hljs-meta"># 再次检查路由</span><br>php artisan route:list<br></code></pre></td></tr></table></figure></li></ol></li><li>创建初始用户<ol><li>数据库默认创建几个特定权限的角色 <code>php artisan db:seed</code></li><li>重新初始化数据库和用户数据 <code>php artisan migrate:fresh --seed</code></li><li>手动创建一个全新的管理员账户<code>php artisan make:filament-user</code> 根据命令提示，输入用户名、邮箱和密码，即可创建一个新的用户</li></ol></li><li>启动开发服务器<ol><li><code>php artisan serve</code></li><li>根据提示信息访问连接，一般默认为<code>http://127.0.0.1:8000/admin</code></li></ol></li><li>可选配置(.env 文件中进行修改)<ol><li><code>FILAMENTUM_PATH=app</code>修改访问后台的URL路径，例如改为 admin 或 dashboard</li><li><code>FILAMENTUM_REGISTRATION=false FILAMENTUM_PASSWORD_RESET=true</code>控制用户注册、密码重置等功能是否开启</li></ol></li><li>进入后台之后默认只显示Dashboard模块，要丰富后台内容，需要创建资源来管理模型，或者自定义页面</li></ol><h1 id="5-thinkAdmin后台搭建"><a href="#5-thinkAdmin后台搭建" class="headerlink" title="5. thinkAdmin后台搭建"></a>5. thinkAdmin后台搭建</h1><ol><li>通过源码安装：（ 默认安装 admin、wechat 两个模块 ）<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs clean">### 下载项目（ 需要在英文目录下面执行 ）<br># git clone https:<span class="hljs-comment">//github.com/zoujingli/ThinkAdmin</span><br>git clone https:<span class="hljs-comment">//gitee.com/zoujingli/ThinkAdmin</span><br><br>### 进入项目根目录<br>cd ThinkAdmin<br><br>### 安装项目依赖组件<br>composer install --optimize-autoloader<br><br>### 数据库初始化并安装<br>### 默认使用 Sqlite 数据库，若使用其他数据库请修改配置后再执行<br>php think migrate:run<br><br>### 开启PHP内置WEB服务<br>### 默认后台登录账号及密码都是 admin<br>php think run --host <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><br></code></pre></td></tr></table></figure></li><li>nginx配置启动 访问 <a href="http://localhost/">http://localhost/</a> 即可访问后台<br><code>http://localhost/admin/login.html</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs bash">worker_processes  1;<br><br>events &#123;<br>    worker_connections  1024;<br>&#125;<br><br>http &#123;<br>    include       mime.types;<br>    default_type  application/octet-stream;<br>    sendfile        on;<br>    keepalive_timeout  65;<br><br>    server &#123;<br>        listen       80;<br>        server_name  localhost;<br>        root /opt/homebrew/var/www/ThinkAdmin/public;  <span class="hljs-comment"># 网站根目录</span><br>        index index.php index.html index.htm;<br><br>        location / &#123;<br>            try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.php?<span class="hljs-variable">$query_string</span>;<br>    <br>            <span class="hljs-comment"># ThinkPHP专用规则</span><br>            <span class="hljs-keyword">if</span> (!-e <span class="hljs-variable">$request_filename</span>) &#123;<br>                  rewrite ^(.*)$ /index.php?s=<span class="hljs-variable">$1</span> last;<br>                  <span class="hljs-built_in">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment"># redirect server error pages to the static page /50x.html</span><br>        <span class="hljs-comment">#</span><br>        error_page   500 502 503 504  /50x.html;<br>        location = /50x.html &#123;<br>            root   html;<br>        &#125;<br><br>        <span class="hljs-comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br>        <span class="hljs-comment">#</span><br>        location ~ \.php$ &#123;<br>          <span class="hljs-comment"># root            /opt/homebrew/var/www;</span><br>          fastcgi_pass    127.0.0.1:9000;<br>          fastcgi_index   index.php;<br>          fastcgi_param   SCRIPT_FILENAME $document_root<span class="hljs-variable">$fastcgi_script_name</span>;<br>          include         fastcgi_params;<br>          <span class="hljs-comment"># include /opt/homebrew/etc/nginx/fastcgi_params;</span><br><br>          <span class="hljs-comment"># ThinkPHP特殊配置</span><br>          fastcgi_split_path_info ^(.+\.php)(/.+)$;<br>          fastcgi_param PATH_INFO <span class="hljs-variable">$fastcgi_path_info</span>;<br>        &#125;<br><br>        <span class="hljs-comment"># 静态资源缓存</span><br>        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ &#123;<br>            expires 1y;<br>            add_header Cache-Control <span class="hljs-string">&quot;public&quot;</span>;<br>        &#125;<br>    &#125;<br>    include servers/*;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h1 id="6-yamecent-admin后台系统安装"><a href="#6-yamecent-admin后台系统安装" class="headerlink" title="6. yamecent-admin后台系统安装"></a>6. yamecent-admin后台系统安装</h1><ol><li>克隆代码库 <code>git clone https://github.com/woann/yamecent-admin.git</code></li><li>进入项目目录并安装 Laravel 框架及其依赖库：<ol><li>运行<code>composer --version</code>查看composer版本，检查是否和现有php冲突</li><li><code>php -v</code>查看php版本,若有冲突，注意更新composer : <code>sudo composer self-update</code>,然后再安装,截止2025&#x2F;10&#x2F;31当前指定版本php7.4 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> yamecent-admin<br>composer install<br></code></pre></td></tr></table></figure></li><li>关于 Composer 安装速度：如果觉得慢，可以考虑使用国内镜像。可以使用阿里云的 Composer 镜像 ：<code>composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/</code></li><li>如果遇到<code>Undefined index: name</code>报错，可以尝试删除composer.lock和vendor后重新安装<code>composer clear-cache</code></li></ol></li><li>初始化配置 <figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript">composer <span class="hljs-built_in">run</span>-<span class="hljs-keyword">script</span> post-root-package-install<br>composer <span class="hljs-built_in">run</span>-<span class="hljs-keyword">script</span> post-create-project-cmd<br></code></pre></td></tr></table></figure></li><li>配置 Web 服务器: 将你的 Web 服务器（如 Nginx 或 Apache）的根目录（DocumentRoot）指向项目的 public 目录<ol><li>注意，当前php启动版本切换<code>brew services start php@7.4</code></li><li>nginx配置网站根目录为<code>root /opt/homebrew/var/www/yamecent-admin/public</code></li><li>浏览器访问<code>http://localhost/index.php</code> 即可进入数据库配置安装界面</li><li>重新安装，只需删除 &lt;应用目录&gt;&#x2F;storage&#x2F;app&#x2F;install.lock 文件，然后重新访问网址</li></ol></li></ol><p class="note note-info">预知后事如何 请看下回分解</p>]]></content>
    
    
    <categories>
      
      <category>后端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>tailwindcss</title>
    <link href="/2024/09/25/Front-end/CSS/tailwindcss/"/>
    <url>/2024/09/25/Front-end/CSS/tailwindcss/</url>
    
    <content type="html"><![CDATA[<h3 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h3><p>Tailwind CSS 的工作原理是扫描所有 HTML 文件、JavaScript 组件以及模板中的 CSS 类（class）名，然后生成相应的样式代码并写入到一个静态 CSS 文件中。</p><p><a href="https://www.tailwindcss.cn/docs/installation">官网</a></p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="CLI"><a href="#CLI" class="headerlink" title="CLI"></a>CLI</h4><ol><li>npm安装 <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmake">npm <span class="hljs-keyword">install</span> -D tailwindcss<br>npx tailwindcss init<br></code></pre></td></tr></table></figure></li><li>配置模板文件的路径,创建 <code>tailwind.config.js</code> <figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-comment">/** @type &#123;import(&#x27;tailwindcss&#x27;).Config&#125; */</span><br>module.<span class="hljs-attr">exports</span> <span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">  content:</span> [<span class="hljs-string">&quot;./src/**/*.&#123;html,js&#125;&quot;</span>],<br><span class="hljs-symbol">  theme:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    extend:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span>,<br>  <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-symbol">  plugins:</span> [],<br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure></li><li>在你的主 CSS 文件中通过 @tailwind 指令添加每一个 Tailwind 功能模块,创建src&#x2F;input.css  <figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@tailwind</span> base;<br><span class="hljs-variable">@tailwind</span> components;<br><span class="hljs-variable">@tailwind</span> utilities;<br></code></pre></td></tr></table></figure></li><li>运行cli <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">npx tailwindcss -<span class="hljs-selector-tag">i</span> ./<span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">input</span><span class="hljs-selector-class">.css</span> -o ./<span class="hljs-attribute">src</span>/output<span class="hljs-selector-class">.css</span> <span class="hljs-attr">--watch</span><br></code></pre></td></tr></table></figure></li><li>html 实例 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./output.css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-3xl font-bold underline&quot;</span>&gt;</span><br>    Hello world!<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h4 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h4><ol><li>script 引入 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.tailwindcss.com&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-3xl font-bold underline&quot;</span>&gt;</span><br>    Hello world!<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>自定义配置 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.tailwindcss.com&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    tailwind.<span class="hljs-property">config</span> = &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">theme</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">extend</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">colors</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">clifford</span>: <span class="hljs-string">&#x27;#da373d&#x27;</span>,</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text-3xl font-bold underline text-clifford&quot;</span>&gt;</span><br>    Hello world!<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>自定义css <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.tailwindcss.com&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/tailwindcss&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-keyword">@layer</span> utilities &#123;</span><br><span class="language-css">      <span class="hljs-selector-class">.content-auto</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">content-visibility</span>: auto;</span><br><span class="language-css">        <span class="hljs-attribute">color</span>: red;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;lg:content-auto&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ... --&gt;</span><br>    customCSS<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>使用插件 (表单,排版) <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp,container-queries&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;prose&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ... --&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="编辑器设置"><a href="#编辑器设置" class="headerlink" title="编辑器设置"></a>编辑器设置</h3><p>Visual Studio Code 安装官方 <strong>Tailwind CSS IntelliSense</strong> 扩展</p><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p><strong>注：一个单位 &#x3D; 0.25rem 如：p-4 代表 padding: 1rem</strong></p><ol><li>基础语法 (格式：属性名-值 缩写形式)</li></ol><h4 id="宽高"><a href="#宽高" class="headerlink" title="宽高"></a>宽高</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td><strong>width</strong></td><td>-</td></tr><tr><td>w-full</td><td>width:100%</td></tr><tr><td>w-screen</td><td>width:100vw</td></tr><tr><td>w-1&#x2F;2</td><td>width:50%</td></tr><tr><td>w-4</td><td>width:1rem</td></tr><tr><td>min-w-{size}</td><td>-</td></tr><tr><td>max-w-{size}</td><td>-</td></tr><tr><td><strong>height</strong></td><td>-</td></tr><tr><td>h-full</td><td>height:100%</td></tr><tr><td>h-screen</td><td>height:100vh</td></tr><tr><td>h-</td><td>同上</td></tr></tbody></table><h4 id="间距"><a href="#间距" class="headerlink" title="间距"></a>间距</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td><strong>margin</strong></td><td>-</td></tr><tr><td>m-2</td><td>margin:0.5rem</td></tr><tr><td>mt-2</td><td>margin-top:0.5rem</td></tr><tr><td>ml-2</td><td>margin-left:0.5rem</td></tr><tr><td>mr-2</td><td>margin-right:0.5rem</td></tr><tr><td>mb-2</td><td>margin-bottom:0.5rem</td></tr><tr><td><strong>padding</strong></td><td>-</td></tr><tr><td>p-</td><td>同margin</td></tr></tbody></table><h4 id="边框"><a href="#边框" class="headerlink" title="边框"></a>边框</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>border-2</td><td>border-width: 2px</td></tr><tr><td>border-gray-500</td><td>border-color:</td></tr><tr><td>border-dashed &#x2F; solid &#x2F; dotted &#x2F; none</td><td>border-style: dashed &#x2F; solid &#x2F; dotted &#x2F; none</td></tr><tr><td>border-t-2</td><td>border-top-width: 2px</td></tr><tr><td>border-l-2</td><td>指定单一方向的边框宽度</td></tr><tr><td>border-r-2</td><td>-</td></tr><tr><td>border-b-2</td><td>-</td></tr></tbody></table><h4 id="圆角"><a href="#圆角" class="headerlink" title="圆角"></a>圆角</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>rounded-{size}</td><td>{size} 可以是 none、sm、md、lg、xl、2xl、3xl 或 full</td></tr><tr><td>rounded-{t｜r｜b｜l}-{size}</td><td>指定顶部、右侧、底部或左侧的圆角大小</td></tr><tr><td>rounded-sm</td><td>border-radius: 0.125rem</td></tr><tr><td>rounded-md</td><td>border-radius: 0.375rem</td></tr><tr><td>rounded-lg</td><td>border-radius: 0.5rem</td></tr><tr><td>rounded-xl</td><td>border-radius: 0.75rem</td></tr><tr><td>rounded-2xl</td><td>border-radius: 1rem</td></tr><tr><td>rounded-3xl</td><td>border-radius: 1.5rem</td></tr><tr><td>rounded-full</td><td>border-radius: 9999px</td></tr></tbody></table><h4 id="阴影"><a href="#阴影" class="headerlink" title="阴影"></a>阴影</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>shadow-{size}</td><td>{size} 可以是 sm、md、lg 或 xl</td></tr><tr><td>shadow-none</td><td>-</td></tr><tr><td>shadow-{color}</td><td>阴影颜色，如 shadow-blue-500</td></tr></tbody></table><h4 id="响应式设计"><a href="#响应式设计" class="headerlink" title="响应式设计"></a>响应式设计</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>sm:</td><td>小屏幕（≥ 640px）</td></tr><tr><td>md:</td><td>中等屏幕（≥ 768px）</td></tr><tr><td>lg:</td><td>大屏幕（≥ 1024px）</td></tr><tr><td>xl:</td><td>超大屏幕（≥ 1280px）</td></tr><tr><td>2xl:</td><td>超大屏幕（≥ 1536px）</td></tr></tbody></table><h4 id="字体大小"><a href="#字体大小" class="headerlink" title="字体大小"></a>字体大小</h4><table><thead><tr><th>-</th><th>-</th></tr></thead><tbody><tr><td>text-{size} 字体大小</td><td>{size} 可以是以下值之一</td></tr><tr><td>12px</td><td>xs：超小字体</td></tr><tr><td>14px</td><td>sm：小字体</td></tr><tr><td>16px</td><td>base：基础字体大小（默认值）</td></tr><tr><td>18px</td><td>lg：大字体</td></tr><tr><td>20px</td><td>xl：超大字体</td></tr><tr><td>24px</td><td>2xl：更大字体</td></tr><tr><td>28px</td><td>3xl：更大一些的字体</td></tr><tr><td>32px</td><td>4xl：非常大的字体</td></tr><tr><td>36&#x2F;40px</td><td>5xl：巨大的字体</td></tr><tr><td>48px+</td><td>6xl：超大的字体</td></tr><tr><td>font-{weight} 字体粗细</td><td>font-bold、font-light</td></tr><tr><td>text-{alignment} 文本对齐</td><td>text-left、text-center、text-right</td></tr><tr><td>leading-{size}：行高</td><td>leading-tight、leading-loose</td></tr></tbody></table><h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>text-{color}</td><td>-</td></tr><tr><td>bg-{color}</td><td>-</td></tr><tr><td>text-red-600</td><td>-</td></tr><tr><td>bg-green-500</td><td>-</td></tr></tbody></table><h4 id="伪元素和状态变体"><a href="#伪元素和状态变体" class="headerlink" title="伪元素和状态变体"></a>伪元素和状态变体</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>hover:</td><td>鼠标悬停时的样式。例如，<code>hover:text-red-500</code> 表示当鼠标悬停在元素上时文本颜色变为红色。</td></tr><tr><td>focus:</td><td>元素获得焦点时的样式。例如，<code>focus:outline-none</code> 表示当元素被聚焦时去除其默认的轮廓线。</td></tr><tr><td>group-hover:</td><td>父元素悬停时的子元素的样式。例如，<code>group-hover:text-red-500</code> 表示当父元素被鼠标悬停时其内部的文本颜色变为红色。</td></tr><tr><td>active:</td><td>元素被激活（如点击）时的样式。例如，<code>active:bg-gray-300</code> 表示当元素被激活时背景颜色变为灰色。</td></tr></tbody></table><h4 id="容器（Container）"><a href="#容器（Container）" class="headerlink" title="容器（Container）"></a>容器（Container）</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>container</td><td><code>.container &#123;width: 100%;&#125;</code> <br> <code>@media (min-width: 1024px) &#123; </code> <br> <code>.container &#123;max-width: 1024px;&#125; </code> <br> <code>&#125;</code></td></tr><tr><td>container-md</td><td><a href="#container">结合不同断点使用容器类</a></td></tr></tbody></table><h4 id="弹性盒子（Flexbox）"><a href="#弹性盒子（Flexbox）" class="headerlink" title="弹性盒子（Flexbox）"></a>弹性盒子（Flexbox）</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>flex</td><td>display:flex</td></tr><tr><td>flex-1</td><td>flex:1 1 0%</td></tr><tr><td>flex-row</td><td>flex-direction: row</td></tr><tr><td>flex-col</td><td>flex-direction: column</td></tr><tr><td>flex-wrap</td><td>flex-wrap: wrap</td></tr><tr><td>flex-nowrap</td><td>flex-wrap: nowrap</td></tr><tr><td>items-start</td><td>align-items: flex-start</td></tr><tr><td>items-center</td><td>align-items: center</td></tr><tr><td>items-end</td><td>align-items:  flex-end</td></tr><tr><td>justify-start</td><td>justify-content: flex-start</td></tr><tr><td>justify-center</td><td>justify-content: center</td></tr><tr><td>justify-end</td><td>justify-content: flex-end</td></tr><tr><td>justify-between</td><td>justify-content: space-between</td></tr><tr><td>justify-around</td><td>justify-content: space-around</td></tr><tr><td>gap-{size} &#x2F; row-gap-{size} &#x2F; col-gap-{size}</td><td>设置弹性盒子项之间的间距</td></tr></tbody></table><h4 id="定位（position）"><a href="#定位（position）" class="headerlink" title="定位（position）"></a>定位（position）</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>static &#x2F; relative &#x2F; absolute &#x2F; fixed &#x2F; sticky</td><td>设置定位方式</td></tr><tr><td>top-{size} &#x2F; right-{size} &#x2F; bottom-{size} &#x2F; left-{size}</td><td>设置定位偏移量。</td></tr><tr><td>inset-{x｜y}-{size}</td><td>同时设置相对四个方向的定位偏移量。</td></tr></tbody></table><h4 id="显示与隐藏（Display）"><a href="#显示与隐藏（Display）" class="headerlink" title="显示与隐藏（Display）"></a>显示与隐藏（Display）</h4><table><thead><tr><th>语法</th><th>等价于css写法</th></tr></thead><tbody><tr><td>block &#x2F; inline-block &#x2F; inline &#x2F; flex &#x2F; grid &#x2F; hidden</td><td>设置元素的显示方式</td></tr></tbody></table><h3 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h3><p><a id="container">结合不同断点使用容器类</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Tailwind Multi-Breakpoint Container Example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container-sm&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>这是一个小屏幕及以上的容器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>在小屏幕（如手机）及以上设备上，此容器具有最大宽度并居中显示。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mt-8 container-md&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>这是一个中等屏幕及以上的容器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>在中等屏幕及以上设备上，此容器具有另一个最大宽度并居中显示。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mt-8 container-lg&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>这是一个大屏幕及以上的容器<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>在大屏幕（如桌面）及以上设备上，此容器具有更大的最大宽度并居中显示。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="自定义配置"><a href="#自定义配置" class="headerlink" title="自定义配置"></a>自定义配置</h3><p>Tailwind 允许通过 tailwind.config.js 文件进行自定义配置，例如添加自定义颜色、断点、字体等。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// tailwind.config.js</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">theme</span>: &#123;<br>    <span class="hljs-attr">extend</span>: &#123;<br>      <span class="hljs-attr">colors</span>: &#123;<br>        <span class="hljs-string">&#x27;custom-blue&#x27;</span>: <span class="hljs-string">&#x27;#1fb6ff&#x27;</span>,<br>      &#125;,<br>      <span class="hljs-attr">spacing</span>: &#123;<br>        <span class="hljs-string">&#x27;72&#x27;</span>: <span class="hljs-string">&#x27;18rem&#x27;</span>,<br>        <span class="hljs-string">&#x27;84&#x27;</span>: <span class="hljs-string">&#x27;21rem&#x27;</span>,<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">variants</span>: &#123;&#125;,<br>  <span class="hljs-attr">plugins</span>: [],<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="实现定制化UI"><a href="#实现定制化UI" class="headerlink" title="实现定制化UI"></a>实现定制化UI</h3><ol><li>善用“任意值”功能：对于设计稿中非常规的尺寸、颜色，直接使用类似 <strong><code>w-[123px]、bg-[#bada55]</code></strong> 的任意值类。</li><li>提取与封装组件：将重复使用的复杂样式组合通过 @apply 指令或框架的组件功能（如在 React 中）提取为自定义类或组件，避免冗长的 HTML 和重复代码。</li><li>深度定制主题：在 tailwind.config.js 中扩展或覆盖默认的主题配置，定义项目专用的颜色、字体、间距、阴影等，确保全局一致且易于修改。</li><li>结合 CSS 或 CSS-in-JS：对于极其复杂或动态样式，不必排斥传统 CSS。Tailwind 可以与普通 CSS 或 CSS-in-JS 方案良好共存。</li><li>利用合适的插件和工具：像 daisyUI 这样的插件可以提供一些基础组件，但你仍然可以对其进行深度定制来符合设计稿。</li></ol>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Three.js</title>
    <link href="/2024/09/10/Front-end/JavaScript/threeJs/"/>
    <url>/2024/09/10/Front-end/JavaScript/threeJs/</url>
    
    <content type="html"><![CDATA[<p><a href="https://threejs.org/">three.js官网</a></p><h3 id="启动three-js"><a href="#启动three-js" class="headerlink" title="启动three.js"></a>启动three.js</h3><ol><li>打开 <a href="https://github.com/mrdoob/three.js">https://github.com/mrdoob/three.js</a></li><li>选择clone 或者 下载压缩包</li><li>安装： 使用npm &#x2F; cnpm &#x2F; pnpm &#x2F; yarn + install 安装<ol><li>puppeteer可能安装缓慢 建议单独安装 <code>cnpm install puppeteer</code></li></ol></li><li>启动： <code>npm run start</code></li><li>启动后在本地浏览器访问会出现文件目录<ol><li>docs&#x2F; 打开为文档介绍，可调整语言，默认为en</li><li>editor&#x2F; 编译器，可进行项目的可视化编辑</li></ol></li></ol><h3 id="脚手架创建项目"><a href="#脚手架创建项目" class="headerlink" title="脚手架创建项目"></a>脚手架创建项目</h3><ol><li>使用vite<ol><li><code>npm init vite@latest</code></li><li>输入项目名称</li><li>选择 Vanilla 即不指定框架 使用原生方式开发</li><li>选择JS&#x2F;TS 开始选择JS简单化处理</li><li><code>cnpm install</code>安装</li><li>安装three.js <code>cnpm install three</code></li><li><code>yarn dev</code> 启动项目</li></ol></li><li>three.js创建第一个3d页面<br>css<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-selector-tag">canvas</span> &#123;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">position</span>: fixed;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;<br>&#125;<br></code></pre></td></tr></table></figure>JS<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;three&#x27;</span><br><br><span class="hljs-comment">// 创建场景</span><br><span class="hljs-keyword">const</span> secene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();<br><br><span class="hljs-comment">// 创建相机</span><br><span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(<br>  <span class="hljs-number">45</span>, <span class="hljs-comment">// 视角 越大视野越大看到的越多</span><br>  <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>, <span class="hljs-comment">// 宽高比</span><br>  <span class="hljs-number">0.1</span>, <span class="hljs-comment">// 近平面</span><br>  <span class="hljs-number">1000</span> <span class="hljs-comment">// 远平面</span><br>);<br><br><span class="hljs-comment">// 创建渲染器</span><br><span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>();<br>renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);<br><br><span class="hljs-comment">// 创建几何体</span><br><span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BoxGeometry</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><span class="hljs-comment">// 创建材质</span><br><span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span><br>&#125;);<br><span class="hljs-comment">// 创建网格</span><br><span class="hljs-keyword">const</span> cube = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(geometry, material);<br><br><span class="hljs-comment">// 将网格添加到场景中</span><br>secene.<span class="hljs-title function_">add</span>(cube);<br><br><span class="hljs-comment">// 设置相机位置</span><br>camera.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">5</span>;<br><span class="hljs-comment">// 默认看向圆点</span><br>camera.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><br><span class="hljs-comment">// 渲染函数 </span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-title function_">requestAnimationFrame</span>(animate);<br>  <span class="hljs-comment">// 旋转</span><br>  cube.<span class="hljs-property">rotation</span>.<span class="hljs-property">x</span> += <span class="hljs-number">0.01</span>;<br>  cube.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> += <span class="hljs-number">0.01</span>;<br>  <span class="hljs-comment">// 渲染</span><br>  renderer.<span class="hljs-title function_">render</span>(secene, camera);<br>&#125;<br><span class="hljs-title function_">animate</span>();<br></code></pre></td></tr></table></figure></li></ol><h3 id="浏览器是否兼容WebGL"><a href="#浏览器是否兼容WebGL" class="headerlink" title="浏览器是否兼容WebGL"></a>浏览器是否兼容WebGL</h3><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs aspectj"><span class="hljs-keyword">import</span> WebGL from <span class="hljs-string">&#x27;three/addons/capabilities/WebGL.js&#x27;</span>;<br><br><span class="hljs-keyword">if</span> (WebGL.isWebGL2Available()) &#123;<br>  <span class="hljs-comment">// Initiate function or other initializations here</span><br>  animate();<br><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-keyword">warning</span> = WebGL.getWebGL2ErrorMessage();<br>  document.getElementById(<span class="hljs-string">&#x27;container&#x27;</span>).appendChild(<span class="hljs-keyword">warning</span>);<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="坐标辅助器与轨道控制器"><a href="#坐标辅助器与轨道控制器" class="headerlink" title="坐标辅助器与轨道控制器"></a>坐标辅助器与轨道控制器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;three&#x27;</span><br><span class="hljs-comment">// 导入轨道控制器</span><br><span class="hljs-keyword">import</span> &#123;<br>  <span class="hljs-title class_">OrbitControls</span><br>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;three/examples/jsm/controls/OrbitControls.js&quot;</span><br><br><span class="hljs-comment">// 创建场景</span><br><span class="hljs-keyword">const</span> secene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();<br><br><span class="hljs-comment">// 创建相机</span><br><span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(<br>  <span class="hljs-number">45</span>, <span class="hljs-comment">// 视角 越大视野越大看到的越多</span><br>  <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>, <span class="hljs-comment">// 宽高比</span><br>  <span class="hljs-number">0.1</span>, <span class="hljs-comment">// 近平面</span><br>  <span class="hljs-number">1000</span> <span class="hljs-comment">// 远平面</span><br>);<br><br><span class="hljs-comment">// 创建渲染器</span><br><span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>();<br>renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);<br><br><span class="hljs-comment">// 创建几何体</span><br><span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BoxGeometry</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><span class="hljs-comment">// 创建材质</span><br><span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span><br>&#125;);<br><span class="hljs-comment">// 创建网格</span><br><span class="hljs-keyword">const</span> cube = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(geometry, material);<br><br><span class="hljs-comment">// 将网格添加到场景中</span><br>secene.<span class="hljs-title function_">add</span>(cube);<br><br><span class="hljs-comment">// 设置相机位置</span><br>camera.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">5</span>;<br>camera.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-number">2</span>;<br>camera.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> = <span class="hljs-number">2</span>;<br><span class="hljs-comment">// 默认看向圆点</span><br>camera.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><br><span class="hljs-comment">// 添加世界坐标辅助器</span><br><span class="hljs-keyword">const</span> axesHelper = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AxesHelper</span>(<span class="hljs-number">5</span>);<br>secene.<span class="hljs-title function_">add</span>(axesHelper);<br><br><span class="hljs-comment">// 添加轨道控制器</span><br><span class="hljs-comment">// const controls = new OrbitControls(camera, renderer.domElement);</span><br><span class="hljs-comment">// 换绑定对象为body 注意body需设置宽高</span><br><span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>);<br><br><span class="hljs-comment">// 设置带阻尼的惯性</span><br>controls.<span class="hljs-property">enableDamping</span> = <span class="hljs-literal">true</span>;<br><span class="hljs-comment">// 设置阻尼系数</span><br>controls.<span class="hljs-property">dampingFactor</span> = <span class="hljs-number">0.05</span>;<br><span class="hljs-comment">// 设置自动旋转</span><br>controls.<span class="hljs-property">autoRotate</span> = <span class="hljs-literal">true</span>;<br><br><span class="hljs-comment">// 渲染函数 </span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"></span>) &#123;<br>  controls.<span class="hljs-title function_">update</span>();<br>  <span class="hljs-title function_">requestAnimationFrame</span>(animate);<br>  <span class="hljs-comment">// 旋转</span><br>  <span class="hljs-comment">// cube.rotation.x += 0.01;</span><br>  <span class="hljs-comment">// cube.rotation.y += 0.01;</span><br>  <span class="hljs-comment">// 渲染</span><br>  renderer.<span class="hljs-title function_">render</span>(secene, camera);<br>&#125;<br><span class="hljs-title function_">animate</span>();<br></code></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="位移"><a href="#位移" class="headerlink" title="位移"></a>位移</h3><ol><li>三维向量（Vector3）<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs maxima">// x轴位移<br>// <span class="hljs-built_in">cube</span>.<span class="hljs-built_in">position</span>.x = <span class="hljs-number">2</span>; 等同于下列表达式<br><span class="hljs-built_in">cube</span>.<span class="hljs-built_in">position</span>.set(<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure><img src="/img/js/threeJs/threeJs-weiyi.jpg"><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 父元素材质-红色</span><br><span class="hljs-keyword">const</span> parentMaterial = <span class="hljs-keyword">new</span> THREE.MeshBasicMaterial(&#123;<br>  color: <span class="hljs-number">0xff0000</span><br>&#125;);<br><span class="hljs-comment">// 将父元素添加到场景中</span><br><span class="hljs-keyword">let</span> parentCube = <span class="hljs-keyword">new</span> THREE.Mesh(geometry, parentMaterial);<br><span class="hljs-comment">// 父元素里添加cube</span><br>parentCube.<span class="hljs-keyword">add</span>(cube);<br><span class="hljs-comment">// 父元素位置</span><br>parentCube.position.<span class="hljs-keyword">set</span>(<span class="hljs-number">-3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<br><br><span class="hljs-comment">// x轴位移</span><br><span class="hljs-comment">// cube.position.x = 2; 等同于下列表达式</span><br>cube.position.<span class="hljs-keyword">set</span>(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><br><span class="hljs-comment">// 将网格添加到场景中</span><br>secene.<span class="hljs-keyword">add</span>(parentCube);<br></code></pre></td></tr></table></figure></li></ol><h3 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h3><ol><li>scale （官方文档对应位置&#x2F;docs&#x2F;#api&#x2F;zh&#x2F;core&#x2F;Object3D）<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs openscad"><span class="hljs-comment">// 放大立方体, 都放大两倍</span><br><span class="hljs-built_in">cube</span>.<span class="hljs-built_in">scale</span>.set(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>);<br><span class="hljs-comment">// 单独放大父元素 子元素也会放大</span><br>parentCube.<span class="hljs-built_in">scale</span>.set(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure><img src="/img/js/threeJs/threeJs-suofang.jpg"></li></ol><h3 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h3><ol><li>rotation 使用 欧拉角（Euler）参数形式<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs openscad"><span class="hljs-comment">// 子元素绕着x轴旋转</span><br><span class="hljs-built_in">cube</span>.rotation.x = Math.<span class="hljs-literal">PI</span> / <span class="hljs-number">4</span>;<br><span class="hljs-comment">//  父元素旋转后 子元素也会叠加</span><br>parentCube.rotation.x = Math.<span class="hljs-literal">PI</span> / <span class="hljs-number">4</span>;<br></code></pre></td></tr></table></figure><img src="/img/js/threeJs/threeJs-xuanzhuan.jpg"></li></ol><h3 id="画布自适应窗口的变化与全屏控制"><a href="#画布自适应窗口的变化与全屏控制" class="headerlink" title="画布自适应窗口的变化与全屏控制"></a>画布自适应窗口的变化与全屏控制</h3><ol><li>自适应<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mel"><span class="hljs-comment">// 监听窗口变化</span><br><span class="hljs-keyword">window</span>.addEventListener(<span class="hljs-string">&quot;resize&quot;</span>,()=&gt;&#123;<br>  <span class="hljs-comment">// 重置渲染器宽高比</span><br>  <span class="hljs-keyword">renderer</span>.setSize(<span class="hljs-keyword">window</span>.innerWidth, <span class="hljs-keyword">window</span>.innerHeight);<br>  <span class="hljs-comment">// 重置相机宽高比</span><br>  <span class="hljs-keyword">camera</span>.aspect = <span class="hljs-keyword">window</span>.innerWidth / <span class="hljs-keyword">window</span>.innerHeight;<br>  <span class="hljs-comment">// 更新相机投影矩阵</span><br>  <span class="hljs-keyword">camera</span>.updateProjectionMatrix();<br>&#125;)<br></code></pre></td></tr></table></figure></li><li>点击全屏<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 全屏需要注意这里不能是document.body</span><br><span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, renderer.<span class="hljs-property">domElement</span>);<br><br><span class="hljs-keyword">var</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;button&quot;</span>);<br>btn.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;点击全屏&quot;</span>;<br>btn.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">&quot;absolute&quot;</span>;<br>btn.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">&quot;10px&quot;</span>;<br>btn.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">&quot;10px&quot;</span><br>btn.<span class="hljs-property">style</span>.<span class="hljs-property">zIndex</span> = <span class="hljs-string">&quot;999&quot;</span><br>btn.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// 全屏</span><br>  renderer.<span class="hljs-property">domElement</span>.<span class="hljs-title function_">requestFullscreen</span>();<br>&#125;<br><span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(btn);<br></code></pre></td></tr></table></figure></li></ol><h3 id="GUI调试开发3D效果"><a href="#GUI调试开发3D效果" class="headerlink" title="GUI调试开发3D效果"></a>GUI调试开发3D效果</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">// 导入lil.gui<br><span class="hljs-keyword">import</span> &#123;<br>  GUI<br>&#125; <span class="hljs-keyword">from</span> &quot;three/examples/jsm/libs/lil-gui.module.min.js&quot;<br><br>let eventObj = &#123;<br>  Fullscreen: <span class="hljs-keyword">function</span> () &#123;<br>    renderer.domElement.requestFullscreen();<br>  &#125;<br>&#125;<br>// 创建GUI<br>const gui = <span class="hljs-built_in">new</span> GUI();<br>// 添加按钮<br>gui.<span class="hljs-keyword">add</span>(eventObj, <span class="hljs-string">&#x27;Fullscreen&#x27;</span>).name(<span class="hljs-string">&#x27;全屏&#x27;</span>);<br><br>// 控制立方体的位置<br>gui.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">cube</span>.position, <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-number">-5</span>, <span class="hljs-number">5</span>).name(<span class="hljs-string">&#x27;立方体x轴位置&#x27;</span>);<br><br>// 链式<br>gui.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">cube</span>.position, <span class="hljs-string">&#x27;x&#x27;</span>).min(<span class="hljs-number">-10</span>).max(<span class="hljs-number">10</span>).step(<span class="hljs-number">1</span>).name(<span class="hljs-string">&#x27;立方体x轴位置&#x27;</span>);<br>gui.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">cube</span>.position, <span class="hljs-string">&#x27;y&#x27;</span>).min(<span class="hljs-number">-10</span>).max(<span class="hljs-number">10</span>).step(<span class="hljs-number">1</span>).name(<span class="hljs-string">&#x27;立方体y轴位置&#x27;</span>);<br>gui.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">cube</span>.position, <span class="hljs-string">&#x27;z&#x27;</span>).min(<span class="hljs-number">-10</span>).max(<span class="hljs-number">10</span>).step(<span class="hljs-number">1</span>).name(<span class="hljs-string">&#x27;立方体z轴位置&#x27;</span>);<br><br>// 类似文件夹<br>let folder = gui.addFolder(<span class="hljs-string">&#x27;立方体位置&#x27;</span>);<br>// 改变事件<br>folder.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">cube</span>.position, <span class="hljs-string">&#x27;x&#x27;</span>).min(<span class="hljs-number">-10</span>).max(<span class="hljs-number">10</span>).step(<span class="hljs-number">1</span>).name(<span class="hljs-string">&#x27;立方体x轴位置&#x27;</span>).onChange((val) =&gt; &#123;<br>  console.log(`output-&gt;x val`, val)<br>&#125;);<br>// 结束后才打印<br>folder.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">cube</span>.position, <span class="hljs-string">&#x27;y&#x27;</span>).min(<span class="hljs-number">-10</span>).max(<span class="hljs-number">10</span>).step(<span class="hljs-number">1</span>).name(<span class="hljs-string">&#x27;立方体y轴位置&#x27;</span>).onFinishChange((val) =&gt; &#123;<br>  console.log(`output-&gt;y val`, val)<br>&#125;);<br>folder.<span class="hljs-keyword">add</span>(<span class="hljs-keyword">cube</span>.position, <span class="hljs-string">&#x27;z&#x27;</span>).min(<span class="hljs-number">-10</span>).max(<span class="hljs-number">10</span>).step(<span class="hljs-number">1</span>).name(<span class="hljs-string">&#x27;立方体z轴位置&#x27;</span>);<br><br>// 设置父元素材质为线框模式(注：正式代码环境下需放置至渲染之前)<br>parentMaterial.wireframe = <span class="hljs-keyword">true</span>;<br><br>// 改变<span class="hljs-type">boolean</span><br>gui.<span class="hljs-keyword">add</span>(parentMaterial, <span class="hljs-string">&#x27;wireframe&#x27;</span>).name(<span class="hljs-string">&#x27;父元素线框模式&#x27;</span>);<br><br>// 调试颜色<br>let colorParams = &#123;<br>  cubeColor: <span class="hljs-string">&#x27;#00ff00&#x27;</span><br>&#125;;<br>gui.addColor(colorParams, <span class="hljs-string">&#x27;cubeColor&#x27;</span>).name(<span class="hljs-string">&#x27;立方体颜色&#x27;</span>).onChange((val) =&gt; &#123;<br>  <span class="hljs-keyword">cube</span>.material.color.<span class="hljs-keyword">set</span>(val);<br>&#125;)<br></code></pre></td></tr></table></figure><p><img src="/img/js/threeJs/threeJs-gui.jpg"></p><h3 id="几何体-顶点-索引-面-BufferGeometry"><a href="#几何体-顶点-索引-面-BufferGeometry" class="headerlink" title="几何体(顶点,索引,面)BufferGeometry"></a>几何体(顶点,索引,面)BufferGeometry</h3><ol><li>在threejs中 所有的几何体都是由三角形构成</li><li>继承geome类<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 创建几何体</span><br><span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> THREE.BufferGeometry();<br><span class="hljs-comment">// 创建三角形顶点数据 顶点是有顺序的 逆时针为正面</span><br><span class="hljs-keyword">const</span> vertices = <span class="hljs-keyword">new</span> Float32Array([<br>  <span class="hljs-number">-1.0</span>, <span class="hljs-number">-1.0</span>, <span class="hljs-number">0.0</span>,<br>  <span class="hljs-number">1.0</span>, <span class="hljs-number">-1.0</span>, <span class="hljs-number">0.0</span>,<br>  <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>  <span class="hljs-comment">// 另外一个面</span><br>  <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0</span>,<br>  <span class="hljs-number">-1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0</span>,<br>  <span class="hljs-number">-1.0</span>, <span class="hljs-number">-1.0</span>, <span class="hljs-number">0</span><br>])<br><span class="hljs-comment">// 创建顶点属性</span><br>geometry.setAttribute(<span class="hljs-string">&#x27;position&#x27;</span>, <span class="hljs-keyword">new</span> THREE.BufferAttribute(vertices, <span class="hljs-number">3</span>))<br><span class="hljs-comment">// 创建材质</span><br><span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> THREE.MeshBasicMaterial(&#123;<br>  color: <span class="hljs-number">0x00ff00</span>,<br>  <span class="hljs-comment">// 设置两个面都能看到</span><br>  <span class="hljs-comment">// side: THREE.DoubleSide,</span><br>  <span class="hljs-comment">// 设置线框</span><br>  wireframe: <span class="hljs-literal">true</span><br>&#125;);<br><span class="hljs-comment">// 创建网格</span><br><span class="hljs-keyword">const</span> cube = <span class="hljs-keyword">new</span> THREE.Mesh(geometry, material);<br><span class="hljs-comment">// 将网格添加到场景中</span><br>secene.<span class="hljs-keyword">add</span>(cube);<br></code></pre></td></tr></table></figure>共用顶点设置<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 创建几何体</span><br><span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();<br><span class="hljs-comment">// 使用索引绘制</span><br><span class="hljs-keyword">const</span> vertices = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<br>  -<span class="hljs-number">1.0</span>, -<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>  <span class="hljs-number">1.0</span>, -<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>  <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>  -<span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>])<br><span class="hljs-comment">// 创建顶点属性</span><br>geometry.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;position&#x27;</span>, <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferAttribute</span>(vertices, <span class="hljs-number">3</span>));<br><span class="hljs-comment">// 创建索引</span><br><span class="hljs-keyword">const</span> indices = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>]);<br><span class="hljs-comment">// 创建索引属性</span><br>geometry.<span class="hljs-title function_">setIndex</span>(<span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferAttribute</span>(indices, <span class="hljs-number">1</span>));<br><span class="hljs-comment">// 创建材质</span><br><span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span>,<br>  <span class="hljs-comment">// 设置两个面都能看到</span><br>  <span class="hljs-comment">// side: THREE.DoubleSide,</span><br>  <span class="hljs-comment">// 设置线框</span><br>  <span class="hljs-attr">wireframe</span>: <span class="hljs-literal">true</span><br>&#125;);<br><span class="hljs-comment">// 创建网格</span><br><span class="hljs-keyword">const</span> cube = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(geometry, material);<br><span class="hljs-comment">// 将网格添加到场景中</span><br>secene.<span class="hljs-title function_">add</span>(cube);<br></code></pre></td></tr></table></figure><img src="/img/js/threeJs/threeJs-jiheti.jpg"></li></ol><h3 id="几何体划分顶点组设置不同材质"><a href="#几何体划分顶点组设置不同材质" class="headerlink" title="几何体划分顶点组设置不同材质"></a>几何体划分顶点组设置不同材质</h3><p>addGroup</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment">// 创建几何体</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">geometry</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">BufferGeometry</span>();<br><span class="hljs-comment">// 使用索引绘制</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">vertices</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<br>  -<span class="hljs-number">1.0</span>, -<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>  <span class="hljs-number">1.0</span>, -<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>  <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>  -<span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,<br>])<br><span class="hljs-comment">// 创建顶点属性</span><br>geometry.<span class="hljs-title function_ invoke__">setAttribute</span>(<span class="hljs-string">&#x27;position&#x27;</span>, <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">BufferAttribute</span>(vertices, <span class="hljs-number">3</span>));<br><span class="hljs-comment">// 创建索引</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">indices</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint16Array</span>([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>]);<br><span class="hljs-comment">// 创建索引属性</span><br>geometry.<span class="hljs-title function_ invoke__">setIndex</span>(<span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">BufferAttribute</span>(indices, <span class="hljs-number">1</span>));<br><br><span class="hljs-comment">// 设置两个顶点组，形成2个材质</span><br>geometry.<span class="hljs-title function_ invoke__">addGroup</span>(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>);<br>geometry.<span class="hljs-title function_ invoke__">addGroup</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>);<br><br><span class="hljs-comment">// 创建材质</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">material</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span>,<br>  // 设置两个面都能看到<br>  <span class="hljs-attr">side</span>: THREE.DoubleSide,<br>  // 设置线框<br>  // <span class="hljs-attr">wireframe</span>: <span class="hljs-literal">true</span><br>&#125;);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">material1</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0xff0000</span>,<br>  // 设置两个面都能看到<br>  <span class="hljs-attr">side</span>: THREE.DoubleSide,<br>&#125;);<br><span class="hljs-comment">// 创建一个立方体</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cubeGeometry</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">BoxGeometry</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cubmaterial0</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span><br>&#125;);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cubmaterial1</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0xff0000</span><br>&#125;);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cubmaterial2</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0x0000ff</span><br>&#125;);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cubmaterial3</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0xffff00</span><br>&#125;);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cubmaterial4</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0xff0000</span><br>&#125;);<br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cubmaterial5</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">MeshBasicMaterial</span>(&#123;<br>  <span class="hljs-attr">color</span>: <span class="hljs-number">0xff00ff</span><br>&#125;);<br><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cube</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">Mesh</span>(cubeGeometry, [cubmaterial0, cubmaterial1, cubmaterial2, cubmaterial3, cubmaterial4, cubmaterial5]);<br><br>cube.position.x = <span class="hljs-number">2</span>;<br>secene.<span class="hljs-title function_ invoke__">add</span>(cube);<br><br><span class="hljs-comment">// 创建网格</span><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">plane</span> = <span class="hljs-keyword">new</span> THREE.<span class="hljs-title function_ invoke__">Mesh</span>(geometry, [material, material1]);<br><span class="hljs-comment">// 将网格添加到场景中</span><br>secene.<span class="hljs-title function_ invoke__">add</span>(plane);<br></code></pre></td></tr></table></figure><p><img src="/img/js/threeJs/threeJs-caizhi.jpg"></p><h3 id="常见几何体"><a href="#常见几何体" class="headerlink" title="常见几何体"></a>常见几何体</h3><ol><li><a href="https://threejs.org/docs/index.html?q=geometry#api/zh/geometries/BoxGeometry">文档搜索 geometry</a><ol><li>立方缓冲几何体（BoxGeometry）</li><li>胶囊图形类 CapsuleGeometry</li><li>圆形缓冲几何体（CircleGeometry）</li><li>圆锥缓冲几何体（ConeGeometry）</li><li>圆柱缓冲几何体（CylinderGeometry）</li><li>十二面缓冲几何体（DodecahedronGeometry）</li><li>边缘几何体（EdgesGeometry）</li><li>挤压缓冲几何体（ExtrudeGeometry）</li><li>二十面缓冲几何体（IcosahedronGeometry）</li><li>车削缓冲几何体（LatheGeometry）</li><li>八面缓冲几何体（OctahedronGeometry）</li><li>平面缓冲几何体（PlaneGeometry）</li><li>多面缓冲几何体（PolyhedronGeometry）</li><li>圆环缓冲几何体（RingGeometry）</li><li>形状缓冲几何体（ShapeGeometry）</li><li>球缓冲几何体（SphereGeometry）</li><li>四面缓冲几何体（TetrahedronGeometry）</li><li>圆环缓冲几何体（TorusGeometry）</li><li>圆环缓冲扭结几何体（TorusKnotGeometry）</li><li>管道缓冲几何体（TubeGeometry）</li><li>网格几何体（WireframeGeometry）</li></ol></li></ol><h3 id="基础材质"><a href="#基础材质" class="headerlink" title="基础材质"></a>基础材质</h3><p class="note note-info">预知后事如何 请看下回分解</p>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>CSS3动画 @keyframes</title>
    <link href="/2024/08/30/Front-end/CSS/CSS3transform/"/>
    <url>/2024/08/30/Front-end/CSS/CSS3transform/</url>
    
    <content type="html"><![CDATA[<h1 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h1><!-- |  关键字   | 函数值  ||  ----  | ----  ||   | transform: none; ||   | transform: matrix(1, 2, 3, 4, 5, 6); ||   | transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); ||   | perspective(17px); ||   | rotate(0.5turn); ||   | rotate3d(1, 2, 3, 10deg); ||   | rotateX(10deg); ||   | rotateY(10deg); ||   | rotateZ(10deg); ||   | transform: translate(12px, 50%); ||   | transform: translate3d(12px, 50%, 3em); ||   | transform: translateX(2em); ||   | transform: translateY(3in); ||   | transform: translateZ(2px); ||   | transform: scale(2, 0.5); ||   | transform: scale3d(2.5, 1.2, 0.3); ||   | transform: scaleX(2); ||   | transform: scaleY(0.5); ||   | transform: scaleZ(0.3); ||   | transform: skew(30deg, 20deg); ||   | transform: skewX(30deg); ||   | transform: skewY(1.07rad); ||   | 多个函数值 ||   | transform: translateX(10px) rotate(10deg) translateY(5px); ||   | transform: perspective(500px) translate(10px, 0, 20px) rotateY(3deg); ||   | 全局值 ||   | transform: inherit; ||   | transform: initial; ||   | transform: revert; ||   | transform: revert-layer; ||   | transform: unset; | --><h3 id="（平移）translate"><a href="#（平移）translate" class="headerlink" title="（平移）translate"></a>（平移）translate</h3><p>平移<br>参考自己的位置来平移</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">div &#123;<br>    <span class="hljs-comment">&lt;!--args(水平方向位移量，垂直方向位移量)--&gt;</span><br>    transform: translate(10px,10px);<br>    <span class="hljs-comment">&lt;!--也可使用百分比 --&gt;</span><br>    transform: translate(50%, 50%);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="（旋转）rotate"><a href="#（旋转）rotate" class="headerlink" title="（旋转）rotate"></a>（旋转）rotate</h3><p>旋转</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">div &#123;<br>    <span class="hljs-comment">&lt;!--参数传入角度 正数顺时针旋转 负数逆时针旋转--&gt;</span><br>    transform: rotate(30deg);<br>&#125;<br></code></pre></td></tr></table></figure><p>默认以元素自身中心为旋转圆点，可由transform-origin属性修改圆点<br>设置为top left 即以左上角为圆点旋转</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">div</span>&#123;<br>    <span class="hljs-attribute">transform</span>:<span class="hljs-built_in">rotate</span>(<span class="hljs-number">30deg</span>);<br>    <span class="hljs-attribute">transform-origin</span>: top left;<br>&#125;<br><br><span class="hljs-selector-tag">div</span>&#123;<br>    <span class="hljs-attribute">transform-origin</span>: center;<br>    <span class="hljs-attribute">transform-origin</span>: top left;<br>    <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50px</span> <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">transform-origin</span>: bottom right <span class="hljs-number">60px</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="（缩放）scale"><a href="#（缩放）scale" class="headerlink" title="（缩放）scale"></a>（缩放）scale</h3><p>只传入一个参数，则宽高都缩放到指定的倍数</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.6</span>);<br></code></pre></td></tr></table></figure><p>两个参数，则分别对应宽高指定倍数</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">transform</span>: scale(<span class="hljs-number">0</span>.<span class="hljs-number">6</span>, <span class="hljs-number">0</span>.<span class="hljs-number">8</span>);<br></code></pre></td></tr></table></figure><p>同旋转一致，默认已元素中心作为基点实现缩放，可由transform-origin修改基点</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">0.8</span>);<br><span class="hljs-attribute">transform-origin</span>: top left;<br></code></pre></td></tr></table></figure><h3 id="（倾斜）skew"><a href="#（倾斜）skew" class="headerlink" title="（倾斜）skew"></a>（倾斜）skew</h3><p>同缩放属性 可传参数个数指定水平方向 垂直方向的倾斜角度<br>同样以transform-origin修改基点</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">skew</span>(<span class="hljs-number">30deg</span>);<br><br><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">skew</span>(<span class="hljs-number">30deg</span>, <span class="hljs-number">10deg</span>);<br><br><span class="hljs-attribute">transform-origin</span>: top left;<br></code></pre></td></tr></table></figure><h3 id="（矩阵）matrix"><a href="#（矩阵）matrix" class="headerlink" title="（矩阵）matrix"></a>（矩阵）matrix</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span> d 控制元素缩放<br><span class="hljs-selector-tag">b</span> c 控制元素倾斜或斜切<br>e f 控制元素的平移<br><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">matrix</span>(a, b, c, d, e, f);<br></code></pre></td></tr></table></figure><h1 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h1><p>添加过渡效果<br>下述实例中demo2的放大更自然些</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.demo1</span><span class="hljs-selector-pseudo">:hover</span>,<br><span class="hljs-selector-class">.demo2</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.5</span>);<br>&#125;<br><br><span class="hljs-selector-class">.demo2</span> &#123;<br>    <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.5s</span> ease;<br>&#125;<br></code></pre></td></tr></table></figure><p>参数格式</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-attribute">transition</span>:<br>(<br><span class="hljs-attribute">transition-property</span>,<br><span class="hljs-attribute">transition-duration</span>,<br><span class="hljs-attribute">transition-timing-function</span>,<br><span class="hljs-attribute">transition-delay</span><br>)<br></code></pre></td></tr></table></figure><ol><li>transition-property: 指定要过渡的 CSS 属性的名称。例如，color、background-color 等。 <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.demo1</span><span class="hljs-selector-pseudo">:hover</span>,<br><span class="hljs-selector-class">.demo2</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: red;<br>&#125;<br><br><span class="hljs-selector-class">.demo2</span> &#123;<br>    <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">2s</span> ease;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>transition-duration: 指定过渡效果持续的时间，以秒或毫秒为单位。</li><li><strong>transition-timing-function</strong>: 指定过渡效果的速度曲线。它可以是 linear（线性）、ease（渐入渐出）、ease-in（渐入）、ease-out（渐出）、ease-in-out（先渐入后渐出）等等。<ol><li>贝塞尔缓动函数 <code>cubic-bezier(&lt;x1&gt;，&lt;y1&gt;，&lt;x2&gt;，&lt;y2&gt;)</code><ol><li><strong>ease</strong>     <ol><li><strong>缓慢开始，陡然加速，再逐渐减速至结束</strong> 实际函数是 cubic-bezier(0.25,0.1,0.25,1.0)</li></ol></li><li><strong>ease-in</strong>  <ol><li><strong>缓慢开始，再逐渐加速至结束，最终突然停止</strong> 实际函数是 cubic-bezier(0.42,0.0,1.0,1.0)</li></ol></li><li><strong>ease-out</strong> <ol><li><strong>突然开始，再逐渐减速至结束</strong> 实际函数是 cubic-bezier(0.0,0.0,0.58,1.0)</li></ol></li><li><strong>ease-in-out</strong><ol><li><strong>缓慢开始，然后加速，再减速至结束</strong> 实际函数是 cubic-bezier(0.42,0.0,0.58,1.0)</li></ol></li></ol></li><li>线性缓动函数 <code>linear(&lt;point-list&gt;)</code><ol><li><strong>linear</strong> <strong>从开始到结束都是固定的速度</strong>，实际函数是linear(0,1)</li><li><strong>linear(0，0.25，1)</strong> <strong>开始较慢的速度匀速变化，后面速度突然变快</strong></li></ol></li><li>阶跃缓动函数<code>steps(&lt;number-of-steps&gt;，&lt;direction&gt;)</code><ol><li>根据传入的步骤和策略，分步完成过渡 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml">.demo2 &#123;<br>        transition: width 2s ease;<br>        transition: width 2s linear;<br>        transition: width 2s steps(5, end);<br>        <span class="hljs-comment">&lt;!--多个属性同时设置--&gt;</span><br>        transition: width 2s ease, background-color 2s ease;<br>    &#125;<br></code></pre></td></tr></table></figure></li></ol></li></ol></li><li>transition-delay: 指定过渡效果开始之前的延迟时间，以秒或毫秒为单位。</li></ol><h1 id="animation"><a href="#animation" class="headerlink" title="animation"></a>animation</h1><h3 id="keyframes"><a href="#keyframes" class="headerlink" title="@keyframes"></a>@keyframes</h3><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mel">name               关键帧列表的名字，全局唯一<br><span class="hljs-keyword">keyframe</span>-selector  关键帧选择器 百分比指定<br>css-styles         关键帧的样式 css样式<br><br>@keyframes name &#123;<br>    <span class="hljs-keyword">keyframe</span>-selector &#123;<br>        css-styles;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>示例</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@keyframes</span> addWidth &#123;<br>    <span class="hljs-number">0%</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>    &#125;<br><br>    <span class="hljs-number">100%</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;<br>    &#125;<br>&#125;<br><br>&lt;!--也可使用 <span class="hljs-selector-tag">from</span> <span class="hljs-selector-tag">to</span>--&gt;<br><span class="hljs-keyword">@keyframes</span> addWidth &#123;<br>    <span class="hljs-selector-tag">from</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>    &#125;<br><br>    <span class="hljs-selector-tag">to</span> &#123;<br>        <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-selector-class">.demo3</span> &#123;<br>    <span class="hljs-attribute">animation-name</span>: addWidth;<br>    <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">2s</span>;<br>    <span class="hljs-attribute">animation-timing-function</span>: linear;<br>    <span class="hljs-attribute">animation-iteration-count</span>: infinite;<br>    <span class="hljs-comment">/* 简写 */</span><br>    <span class="hljs-attribute">animation</span>: addWidth <span class="hljs-number">2s</span> linear infinite;<br>&#125;<br></code></pre></td></tr></table></figure><p>配置属性</p><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><strong>animation-name</strong></td><td>规定 @keyframes 动画的名称。</td></tr><tr><td><strong>animation-duration</strong></td><td>规定动画完成一个周期所花费的秒或毫秒。默认是 0。</td></tr><tr><td><strong>animation-timing-function</strong></td><td>规定动画的速度曲线。默认是 “ease”。</td></tr><tr><td><strong>animation-iteration-count</strong></td><td>规定动画被播放的次数。默认是 1。0.5代表播放一半动画</td></tr><tr><td>animation-fill-mode</td><td>规定当动画不播放时（当动画完成时，或当动画有一个延迟未开始播放时），要应用到元素的样式。</td></tr><tr><td><strong>animation-delay</strong></td><td>规定动画何时开始。默认是 0。</td></tr><tr><td>animation-direction</td><td>规定动画是否在下一周期逆向地播放。默认是 “normal”。</td></tr><tr><td>animation-play-state</td><td>规定动画是否正在运行或暂停。默认是 “running”。</td></tr></tbody></table><h3 id="animation-direction-配置属性"><a href="#animation-direction-配置属性" class="headerlink" title="animation-direction 配置属性"></a>animation-direction 配置属性</h3><pre><code class="hljs">示例： `animation-direction: normal;`</code></pre><table><thead><tr><th>属性值</th><th>描述</th></tr></thead><tbody><tr><td>normal</td><td>动画在每个循环中正向播放。换句话说，每次动画循环时，动画将重置为起始状态并重新开始。这是默认值。</td></tr><tr><td>reverse</td><td>动画在每个循环中反向播放。换句话说，每次动画循环时，动画将重置为结束状态并重新开始。动画步骤将反向执行，并且时间函数也将被反转。例如，ease-in 时间函数变为 ease-out。</td></tr><tr><td><strong>alternate</strong></td><td>动画在每个循环中正反交替播放，第一次迭代是正向播放。确定循环是奇数还是偶数的计数从 1 开始。</td></tr><tr><td>alternate-reverse</td><td>动画在每个循环中正反交替播放，第一次迭代是反向播放。确定循环是奇数还是偶数的计数从 1 开始。</td></tr></tbody></table><h3 id="animation-fill-mode-保留最后状态"><a href="#animation-fill-mode-保留最后状态" class="headerlink" title="animation-fill-mode 保留最后状态"></a>animation-fill-mode 保留最后状态</h3><pre><code class="hljs">示例： `animation-fill-mode: normal;`</code></pre><table><thead><tr><th>属性值</th><th>描述</th></tr></thead><tbody><tr><td>none</td><td>当动画未执行时，动画将不会将任何样式应用于目标，而是已经赋予给该元素的 CSS 规则来显示该元素。这是默认值。</td></tr><tr><td><strong>forwards</strong></td><td>目标将保留由执行期间遇到的最后一个关键帧计算值。最后一个关键帧取决于animation-direction和animation-iteration-count的值</td></tr><tr><td>backwards</td><td>动画将在应用于目标时立即应用第一个关键帧中定义的值，并在animation-delay期间保留此值。第一个关键帧取决于animation-direction的值</td></tr><tr><td>both</td><td>动画将遵循forwards和backwards的规则，从而在两个方向上扩展动画属性</td></tr></tbody></table><h3 id="animation-play-state-暂停"><a href="#animation-play-state-暂停" class="headerlink" title="animation-play-state 暂停"></a>animation-play-state 暂停</h3><p>恢复暂停的动画将从暂停时停止的位置开始播放，而不是从动画序列的开头重新开始播放。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">animation-play-state</span>: paused;<br><br><span class="hljs-attribute">animation-play-state</span>: running;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>现代前端技术栈核心要点</title>
    <link href="/2024/04/20/Interview/EveryDayStudy/"/>
    <url>/2024/04/20/Interview/EveryDayStudy/</url>
    
    <content type="html"><![CDATA[<ol><li><a href="/2024/02/19/Interview/frontInterviewQuestion/">前端八股文</a> </li><li><a href="/2025/03/25/Interview/OftenMeetTest/">常见问题合集</a></li><li><a href="/2024/03/07/Front-end/JavaScript/JsEventLoop/">JsEventLoop（JavaScript 事件循环）</a></li><li><a href="/2024/01/02/Front-end/JavaScript/WebKuayu/">跨域</a></li><li><a href="/2025/09/09/Front-end/JavaScript/SetMap/">js数据结构-Map和Set详解</a></li><li><a href="/2024/04/08/Interview/JS-1/">JS-数据类型、Promise、延迟加载、null和undefined、&#x3D;&#x3D;和&#x3D;&#x3D;&#x3D;、微任务和宏任务、作用域</a></li><li><a href="/2025/07/15/Interview/react-0/">React</a><a href="/2024/04/10/Interview/React-1/">、 React-1</a><a href="/2024/02/28/Interview/React-2/">、React-2</a><a href="/2024/04/13/Interview/React-3/">、React-3</a><a href="/2024/03/13/Interview/React-4/">、React-4</a><a href="/2024/01/23/Front-end/React/ReactStart/">、React-个人学习归纳</a></li><li><a href="/2024/03/06/Front-end/Vue/VueNextTick/">Vue nextTick、</a><a href="/2024/03/06/Front-end/Vue/VueComponmentCommmunication/">Vue组件通讯、</a><a href="/2025/07/14/Interview/vue-0/">vue2&#x2F;3、</a><a href="/2024/04/20/Interview/Vue-1/">vue2&#x2F;3运行原理和区别、</a><a href="/2024/02/28/Interview/Vue-2/">vue-百道题</a></li><li><a href="/2025/07/21/Interview/wxMini/">微信小程序</a><a href="/2024/04/10/Interview/DayStudy-3/">、微信小程序-2</a></li><li><a href="/2025/07/21/Interview/uniapp/">uniapp</a></li><li><a href="/2025/07/25/Interview/echarts/">echarts</a></li><li><a href="/2024/03/04/Interview/httpInterviewQuestion/">HTTP</a></li><li><a href="/2024/03/01/Interview/GitInterviewQuestion/">Git</a></li><li><a href="/2024/02/29/Interview/WebpackInterviewQuestion/">webpack</a></li></ol><p class="note note-success">持续整合中</p>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>TypeScript</title>
    <link href="/2023/12/01/Front-end/JavaScript/TypeScriptBaseType/"/>
    <url>/2023/12/01/Front-end/JavaScript/TypeScriptBaseType/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.tslang.cn/docs/home.html">TypeScript官方中文文档地址</a></p><h1 id="上手"><a href="#上手" class="headerlink" title="上手"></a>上手</h1><ol><li><code>npm install -g typescript</code></li><li>使用.ts扩展名创建TypeScript文件 例<code>greeter.ts</code></li><li>编译代码 <code>tsc greeter.ts</code> 输出结果为一个 <code>greeter.js</code>文件</li></ol><h1 id="基础类型"><a href="#基础类型" class="headerlink" title="基础类型"></a>基础类型</h1><h2 id="1、布尔值（boolean）"><a href="#1、布尔值（boolean）" class="headerlink" title="1、布尔值（boolean）"></a>1、布尔值（boolean）</h2><ol><li><code>let isBoolean: boolean = false;</code></li></ol><h2 id="2、数字（number）"><a href="#2、数字（number）" class="headerlink" title="2、数字（number）"></a>2、数字（number）</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">let</span> decLiteral: number = <span class="hljs-number">6</span>;<br><span class="hljs-built_in">let</span> hexLiteral: number = <span class="hljs-number">0xf00d</span>;<br><span class="hljs-built_in">let</span> binaryLiteral: number = <span class="hljs-number">0b1010</span>;<br><span class="hljs-built_in">let</span> octalLiteral: number = <span class="hljs-number">0o744</span>;<br></code></pre></td></tr></table></figure><h2 id="3、字符串（string）"><a href="#3、字符串（string）" class="headerlink" title="3、字符串（string）"></a>3、字符串（string）</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// 双引号（ &quot;）或单引号（&#x27;）表示字符串</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;bob&quot;</span>;<br>name = <span class="hljs-string">&quot;smith&quot;</span>;<br><br><span class="hljs-comment">//使用模版字符串，它可以定义多行文本和内嵌表达式。 </span><br><span class="hljs-comment">//这种字符串是被反引号包围（ `），并且以$&#123; expr &#125;这种形式嵌入表达式</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Gene`</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">37</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">sentence</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`Hello, my name is <span class="hljs-subst">$&#123;name&#125;</span>.I&#x27;ll be <span class="hljs-subst">$&#123;age + <span class="hljs-number">1</span>&#125;</span> years old next month.`</span>;<br><br><span class="hljs-comment">//这与下面定义sentence的方式效果相同：</span><br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">sentence</span>: <span class="hljs-built_in">string</span> =<br>  <span class="hljs-string">&quot;Hello, my name is &quot;</span> +<br>  name +<br>  <span class="hljs-string">&quot;.\n\n&quot;</span> +<br>  <span class="hljs-string">&quot;I&#x27;ll be &quot;</span> +<br>  (age + <span class="hljs-number">1</span>) +<br>  <span class="hljs-string">&quot; years old next month.&quot;</span>;<br></code></pre></td></tr></table></figure><h2 id="4、数组（-）"><a href="#4、数组（-）" class="headerlink" title="4、数组（[]）"></a>4、数组（[]）</h2><p>有两种方式可以定义数组</p><ol><li>在元素类型后面接上 []:<code>let list: number[] = [1, 2, 3];</code></li><li>使用数组泛型，Array&lt;元素类型&gt;:<code>let list: Array&lt;number&gt; = [1, 2, 3];</code></li></ol><h2 id="5、元组（-string-number-）"><a href="#5、元组（-string-number-）" class="headerlink" title="5、元组（[string, number]）"></a>5、元组（[string, number]）</h2><ol><li>元组类型允许表示一个已知元素数量和类型的数组，各元素的类型不必相同。 比如，你可以定义一对值分别为 string和number类型的元组。<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// Declare a tuple type</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">x</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>];<br><span class="hljs-comment">// Initialize it</span><br>x = [<span class="hljs-string">&#x27;hello&#x27;</span>, <span class="hljs-number">10</span>]; <span class="hljs-comment">// OK</span><br><span class="hljs-comment">// Initialize it incorrectly</span><br>x = [<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;hello&#x27;</span>]; <span class="hljs-comment">// Error</span><br></code></pre></td></tr></table></figure>当访问一个已知索引的元素，会得到正确的类型：<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(x[<span class="hljs-number">0</span>].substr(<span class="hljs-number">1</span>)); <span class="hljs-comment">// OK</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(x[<span class="hljs-number">1</span>].substr(<span class="hljs-number">1</span>)); <span class="hljs-comment">// Error, &#x27;number&#x27; does not have &#x27;substr&#x27;</span><br></code></pre></td></tr></table></figure>当访问一个越界的元素，会使用联合类型替代：<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xquery">x[<span class="hljs-number">3</span>] = <span class="hljs-string">&#x27;world&#x27;</span>; // OK, 字符串可以赋值给<span class="hljs-built_in">(string</span> |<span class="hljs-built_in"> number</span>)类型<br><br>console.log(x[<span class="hljs-number">5</span>].toString()); // OK, <span class="hljs-string">&#x27;string&#x27;</span> 和 <span class="hljs-string">&#x27;number&#x27;</span> 都有 toString<br><br>x[<span class="hljs-number">6</span>] =<span class="hljs-built_in"> true</span>; // Error, 布尔不是<span class="hljs-built_in">(string</span> |<span class="hljs-built_in"> number</span>)类型<br></code></pre></td></tr></table></figure></li></ol><h2 id="6、枚举（enum）"><a href="#6、枚举（enum）" class="headerlink" title="6、枚举（enum）"></a>6、枚举（enum）</h2><p>enum类型是对JavaScript标准数据类型的一个补充<br>默认情况下，从0开始为元素编号.</p><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs fsharp"><span class="hljs-built_in">enum</span> <span class="hljs-keyword">colorEnum</span> &#123;<br>  red <span class="hljs-operator">=</span> <span class="hljs-number">3</span>,<br>  yellow <span class="hljs-operator">=</span> <span class="hljs-number">6</span>,<br>  blue <span class="hljs-operator">=</span> <span class="hljs-number">9</span><br>&#125;<br><span class="hljs-keyword">let</span> color<span class="hljs-operator">:</span> colorEnum <span class="hljs-operator">=</span> colorEnum.blue;<br><span class="hljs-keyword">let</span> color2<span class="hljs-operator">:</span> <span class="hljs-type">string</span> <span class="hljs-operator">=</span> colorEnum[<span class="hljs-number">6</span>]; <br>console.log(color,color2,colorEnum);<span class="hljs-comment">// 9 yellow</span><br></code></pre></td></tr></table></figure><h2 id="7、any（any）"><a href="#7、any（any）" class="headerlink" title="7、any（any）"></a>7、any（any）</h2><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nim"><span class="hljs-keyword">let</span> list: <span class="hljs-type">any</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-literal">true</span>, <span class="hljs-string">&quot;free&quot;</span>];<br><span class="hljs-keyword">let</span> notSure: <span class="hljs-type">any</span> = <span class="hljs-number">4</span>;<br></code></pre></td></tr></table></figure><h2 id="8、void（void）"><a href="#8、void（void）" class="headerlink" title="8、void（void）"></a>8、void（void）</h2><ol><li>某种程度上来说，void类型像是与any类型相反，它表示没有任何类型。 当一个函数没有返回值时，你通常会见到其返回值类型是 void：<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">warnUser</span>(<span class="hljs-params"></span>): <span class="hljs-title function_">void</span> &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;This is my warning message&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li><li>声明一个void类型的变量没有什么大用，因为你只能为它赋予undefined和null：<code>let unusable: void = undefined;</code></li></ol><h2 id="9、undefined和null"><a href="#9、undefined和null" class="headerlink" title="9、undefined和null"></a>9、undefined和null</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// Not much else we can assign to these variables!</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">u</span>: <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">n</span>: <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<br></code></pre></td></tr></table></figure><p>默认情况下null和undefined是所有类型的子类型。 就是说你可以把 null和undefined赋值给number类型的变量。</p><h2 id="10、never"><a href="#10、never" class="headerlink" title="10、never"></a>10、never</h2><ol><li>never类型表示的是那些永不存在的值的类型。 例如， never类型是那些总是会抛出异常或根本就不会有返回值的函数表达式或箭头函数表达式的返回值类型； 变量也可能是 never类型，当它们被永不为真的类型保护所约束时。</li><li>never类型是任何类型的子类型，也可以赋值给任何类型；然而，没有类型是never的子类型或可以赋值给never类型（除了never本身之外）。 即使 any也不可以赋值给never。<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-comment">// 返回never的函数必须存在无法达到的终点</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">error</span><span class="hljs-params">(message: string)</span>: never &#123;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error(message);<br>&#125;<br><br><span class="hljs-comment">// 推断的返回值类型为never</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fail</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> error(<span class="hljs-string">&quot;Something failed&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">// 返回never的函数必须存在无法达到的终点</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">infiniteLoop</span><span class="hljs-params">()</span>: never &#123;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h2 id="11、Object"><a href="#11、Object" class="headerlink" title="11、Object"></a>11、Object</h2><p>object表示非原始类型，也就是除number，string，boolean，symbol，null或undefined之外的类型。</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">o: <span class="hljs-built_in">object</span> | <span class="hljs-literal">null</span></span>): <span class="hljs-built_in">void</span>;<br><br><span class="hljs-title function_">create</span>(&#123; <span class="hljs-attr">prop</span>: <span class="hljs-number">0</span> &#125;); <span class="hljs-comment">// OK</span><br><span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">// OK</span><br><br><span class="hljs-title function_">create</span>(<span class="hljs-number">42</span>); <span class="hljs-comment">// Error</span><br><span class="hljs-title function_">create</span>(<span class="hljs-string">&quot;string&quot;</span>); <span class="hljs-comment">// Error</span><br><span class="hljs-title function_">create</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// Error</span><br><span class="hljs-title function_">create</span>(<span class="hljs-literal">undefined</span>); <span class="hljs-comment">// Error</span><br></code></pre></td></tr></table></figure><p><a href="https://www.bookstack.cn/read/wangdoc-typescript-tutorial/docs-declare.md">declare关键字详解</a></p><h2 id="12、类型断言"><a href="#12、类型断言" class="headerlink" title="12、类型断言"></a>12、类型断言</h2><p>类型断言有两种形式。 其一是“尖括号”语法：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">someValue</span>: <span class="hljs-built_in">any</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">strLength</span>: <span class="hljs-built_in">number</span> = (&lt;<span class="hljs-built_in">string</span>&gt;someValue).<span class="hljs-property">length</span>;<br></code></pre></td></tr></table></figure><p>另一个为as语法：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">someValue</span>: <span class="hljs-built_in">any</span> = <span class="hljs-string">&quot;this is a string&quot;</span>;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">strLength</span>: <span class="hljs-built_in">number</span> = (someValue <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).<span class="hljs-property">length</span>;<br></code></pre></td></tr></table></figure><h1 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h1><h2 id="解构"><a href="#解构" class="headerlink" title="解构"></a>解构</h2><h3 id="1-数组解构"><a href="#1-数组解构" class="headerlink" title="1. 数组解构"></a>1. 数组解构</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let input: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br><br><span class="hljs-comment">//   创建了2个命名变量 first 和 second</span><br>let [<span class="hljs-built_in">first</span>, <span class="hljs-built_in">second</span>] = input;<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">`output-&gt;first`</span>, <span class="hljs-built_in">first</span>); <span class="hljs-comment">// 1</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">`output-&gt;second`</span>, <span class="hljs-built_in">second</span>); <span class="hljs-comment">// 2</span><br><br><span class="hljs-comment">//   在数组里使用...语法创建剩余变量：</span><br>let [one, ...others] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">`output-&gt;one`</span>, one); <span class="hljs-comment">// 1</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">`output-&gt;others`</span>, others); <span class="hljs-comment">// [2,3,4,5]</span><br><br><span class="hljs-comment">//   由于是JavaScript, 你可以忽略你不关心的尾随元素：</span><br>let [firstOne] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">`output-&gt;firstOne`</span>, firstOne); <span class="hljs-comment">// 1</span><br><br>let [, two, , four] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">`output-&gt;two`</span>, two); <span class="hljs-comment">// 2</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">`output-&gt;four`</span>, four); <span class="hljs-comment">// 4</span><br></code></pre></td></tr></table></figure><h3 id="2-对象解构"><a href="#2-对象解构" class="headerlink" title="2. 对象解构"></a>2. 对象解构</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> o = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-string">&quot;demo&quot;</span>,<br>  <span class="hljs-attr">b</span>: <span class="hljs-number">11</span>,<br>  <span class="hljs-attr">c</span>: <span class="hljs-literal">true</span>,<br>&#125;;<br><span class="hljs-comment">// 通过 o.a and o.b 创建了 a 和 b 。 注意，如果你不需要 c 你可以忽略它。</span><br><span class="hljs-keyword">let</span> &#123; a, b &#125; = o;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;a`</span>, a); <span class="hljs-comment">// demo</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;b`</span>, b); <span class="hljs-comment">// 11</span><br><br><span class="hljs-comment">// 就像数组解构，你可以用没有声明的赋值：</span><br><span class="hljs-comment">// 注意，我们需要用括号将它括起来，因为Javascript通常会将以 &#123; 起始的语句解析为一个块。</span><br>(&#123; a, b &#125; = &#123; <span class="hljs-attr">a</span>: <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">10</span> &#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;one`</span>, a); <span class="hljs-comment">// 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;two`</span>, b); <span class="hljs-comment">// 10</span><br><br><span class="hljs-comment">//   可以在对象里使用...语法创建剩余变量：</span><br><span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">a</span>: newA, ...other &#125; = o;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;other`</span>, other); <span class="hljs-comment">// &#123; b:11,c:true &#125;</span><br><br><span class="hljs-comment">//   属性重命名</span><br><span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">a</span>: newNameA, <span class="hljs-attr">b</span>: newNameB &#125; = o;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;newNameA`</span>, newNameA); <span class="hljs-comment">// demo</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;newNameB`</span>, newNameB); <span class="hljs-comment">// 11</span><br><br><span class="hljs-comment">//   指定类型</span><br><span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">a</span>: new1, <span class="hljs-attr">b</span>: new2 &#125;: &#123; <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span> &#125; = o;<br><br><span class="hljs-comment">//   默认值</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">setDefault</span>(<span class="hljs-params">params: &#123; a: <span class="hljs-built_in">string</span>; b?: <span class="hljs-built_in">number</span> &#125;</span>) &#123;<br>  <span class="hljs-keyword">let</span> &#123; a, b &#125; = params;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;a`</span>, a);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;b`</span>, b);<br>&#125;<br><span class="hljs-title function_">setDefault</span>(&#123; <span class="hljs-attr">a</span>: <span class="hljs-string">&quot;110&quot;</span> &#125;); <span class="hljs-comment">// 110 undefind</span><br><span class="hljs-title function_">setDefault</span>(&#123; <span class="hljs-attr">a</span>: <span class="hljs-string">&quot;110&quot;</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">11</span> &#125;); <span class="hljs-comment">// 110  11</span><br></code></pre></td></tr></table></figure><h3 id="3-函数声明"><a href="#3-函数声明" class="headerlink" title="3.函数声明"></a>3.函数声明</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 解构也能用于函数声明</span><br>type C = &#123;<br>  <span class="hljs-attr">a</span>: string;<br>  b?: number;<br>&#125;;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">&#123; a, b &#125;: C</span>): <span class="hljs-keyword">void</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;a`</span>, a);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;b`</span>, b);<br>&#125;<br><br><span class="hljs-title function_">f</span>(&#123; <span class="hljs-attr">a</span>: <span class="hljs-string">&quot;11&quot;</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">1</span> &#125;); <span class="hljs-comment">// 11 1</span><br><br><span class="hljs-comment">// 通常情况下更多的是指定默认值，解构默认值有些棘手。 首先，你需要在默认值之前设置其格式。</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">g</span>(<span class="hljs-params">&#123; a = <span class="hljs-string">&quot;&quot;</span>, b = <span class="hljs-number">0</span> &#125; = &#123;&#125;</span>): <span class="hljs-keyword">void</span> &#123;&#125;<br><span class="hljs-comment">// 上面的代码是一个类型推断的例子</span><br><br><span class="hljs-comment">// 在解构属性上给予一个默认或可选的属性用来替换主初始化列表</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">h</span>(<span class="hljs-params">&#123; a, b = <span class="hljs-number">0</span> &#125; = &#123; a: <span class="hljs-string">&quot;&quot;</span> &#125;</span>): <span class="hljs-keyword">void</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;a`</span>, a);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;b`</span>, b);<br>&#125;<br><br><span class="hljs-title function_">h</span>(&#123; <span class="hljs-attr">a</span>: <span class="hljs-string">&quot;1&quot;</span> &#125;); <span class="hljs-comment">// 1 0</span><br><span class="hljs-title function_">h</span>(); <span class="hljs-comment">// &quot;&quot; 0</span><br><span class="hljs-comment">// h(&#123;&#125;); error &#x27;a&#x27; is required if you supply an argument</span><br></code></pre></td></tr></table></figure><h2 id="展开"><a href="#展开" class="headerlink" title="展开"></a>展开</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// 展开操作符正与解构相反。 它允许你将一个数组展开为另一个数组，或将一个对象展开为另一个对象</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">first</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br><span class="hljs-keyword">let</span> <span class="hljs-attr">second</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-keyword">let</span> both = [<span class="hljs-number">0</span>, ...first, ...second, <span class="hljs-number">5</span>];<br><span class="hljs-comment">// 浅拷贝</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;both`</span>, both); <span class="hljs-comment">//[0,1,2,3,4,5]</span><br><br><span class="hljs-comment">// 展开对象</span><br><span class="hljs-keyword">let</span> originObj = &#123; <span class="hljs-attr">person</span>: <span class="hljs-string">&quot;xiaoming&quot;</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">&quot;eat&quot;</span>, <span class="hljs-attr">what</span>: <span class="hljs-string">&quot;rice&quot;</span> &#125;;<br><span class="hljs-keyword">let</span> statusObj = &#123; ...originObj, <span class="hljs-attr">status</span>: <span class="hljs-string">&quot;full&quot;</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">&quot;drink&quot;</span> &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;statusObj`</span>, statusObj); <span class="hljs-comment">//&#123;person: &#x27;xiaoming&#x27;, behavior: &#x27;drink&#x27;, what: &#x27;rice&#x27;, status: &#x27;full&#x27;&#125;</span><br><span class="hljs-comment">// 像数组展开一样，它是从左至右进行处理，但结果仍为对象。 这就意味着出现在展开对象后面的属性会覆盖前面的属性。</span><br><span class="hljs-keyword">let</span> fgstatusObj = &#123; <span class="hljs-attr">behavior</span>: <span class="hljs-string">&quot;play&quot;</span>, ...originObj &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;fgstatusObj`</span>, fgstatusObj); <span class="hljs-comment">// &#123;behavior: &#x27;eat&#x27;, person: &#x27;xiaoming&#x27;, what: &#x27;rice&#x27;&#125;</span><br><br><span class="hljs-comment">// 对象展开仅包含对象自身的可枚举属性。 大体上是说当你展开一个对象实例时，你会丢失其方法：</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CL</span> &#123;<br>  p = <span class="hljs-number">12</span>;<br>  <span class="hljs-title function_">m</span>(<span class="hljs-params"></span>) &#123;&#125;<br>&#125;<br><span class="hljs-keyword">let</span> c = <span class="hljs-keyword">new</span> <span class="hljs-title function_">CL</span>();<br><span class="hljs-keyword">let</span> clone = &#123; ...c &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`output-&gt;clone.p`</span>, clone.<span class="hljs-property">p</span>); <span class="hljs-comment">// 12</span><br><span class="hljs-comment">// console.log(`output-&gt;clone.m`, clone.m); // error undefind</span><br></code></pre></td></tr></table></figure><h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>TypeScript的核心原则之一是对值所具有的结构进行类型检查。 它有时被称做“鸭式辨型法”或“结构性子类型化”。 在TypeScript里，接口的作用就是为这些类型命名和为你的代码或第三方代码定义契约。</p><h2 id="接口初探"><a href="#接口初探" class="headerlink" title="接口初探"></a>接口初探</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// 类型检查器不会去检查属性的顺序，只要相应的属性存在并且类型也是对的就可以</span><br><span class="hljs-keyword">interface</span> <span class="hljs-title">getDataParams</span> &#123;<br>  keyWords: <span class="hljs-built_in">string</span>;<br>&#125;<br><br><span class="hljs-function">function <span class="hljs-title">getData</span>(<span class="hljs-params"><span class="hljs-keyword">params</span>: getDataParams</span>)</span> &#123;<br>  console.log(`output-&gt;<span class="hljs-keyword">params</span>`, <span class="hljs-keyword">params</span>);<br>&#125;<br><br><span class="hljs-keyword">let</span> <span class="hljs-keyword">params</span> = &#123; keyWords: <span class="hljs-string">&quot;111&quot;</span>, limit: <span class="hljs-number">10</span> &#125;;<br>getData(<span class="hljs-keyword">params</span>);<br></code></pre></td></tr></table></figure><h2 id="可选属性"><a href="#可选属性" class="headerlink" title="可选属性"></a>可选属性</h2><p>带有可选属性的接口与普通的接口定义差不多，只是在可选属性名字定义的后面加一个?符号。</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">interface</span> <span class="hljs-symbol">getDataParams</span> &#123;<br>  keyWords: <span class="hljs-built_in">string</span>;<br>  limit?: number;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="只读属性"><a href="#只读属性" class="headerlink" title="只读属性"></a>只读属性</h2><p>一些对象属性只能在对象刚刚创建的时候修改其值。 你可以在属性名前用 readonly来指定只读属性:</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Point</span> &#123;<br>  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;<br>  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><br><span class="hljs-keyword">let</span> <span class="hljs-attr">p1</span>: <span class="hljs-title class_">Point</span> = &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">2</span> &#125;;<br><span class="hljs-comment">// p1.x = 5; error 无法为“x”赋值，因为它是只读属性</span><br><br><span class="hljs-comment">// TypeScript具有ReadonlyArray&lt;T&gt;类型，它与Array&lt;T&gt;相似，</span><br><span class="hljs-comment">// 只是把所有可变方法去掉了，因此可以确保数组创建后再也不能被修改：</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">radonAry</span>: <span class="hljs-title class_">ReadonlyArray</span>&lt;<span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-comment">// radonAry[0] = 2; error 类型“readonly number[]”中的索引签名仅允许读取。</span><br></code></pre></td></tr></table></figure><p><strong>readonly</strong> vs <strong>const</strong><br>最简单判断该用readonly还是const的方法是看要把它做为变量使用还是做为一个属性。 做为变量使用的话用 const，若做为属性则使用readonly。</p><h2 id="额外的属性检查"><a href="#额外的属性检查" class="headerlink" title="额外的属性检查"></a>额外的属性检查</h2><p>如果 SquareConfig带有上面定义的类型的color和width属性，并且还会带有任意数量的其它属性，那么我们可以这样定义它</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css">interface SquareConfig &#123;<br>    <span class="hljs-attribute">color</span>?: string;<br>    <span class="hljs-attribute">width</span>?: number;<br>    <span class="hljs-selector-attr">[propName: string]</span>: any;<br>&#125;<br></code></pre></td></tr></table></figure><p>跳过这些检查的方式,将这个对象赋值给一个另一个变量:因为 squareOptions不会经过额外属性检查，所以编译器不会报错。</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">let squareOptions</span> = &#123; colour: <span class="hljs-string">&quot;red&quot;</span>, width: 100 &#125;;<br><span class="hljs-attribute">let mySquare</span> = createSquare(squareOptions);<br></code></pre></td></tr></table></figure><h2 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h2><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs perl">interface SearchFunc &#123;<br>  (source: string, subString: string): boolean;<br>&#125;<br><br>let mySearch: SearchFunc;<br>mySearch = function(src: string, <span class="hljs-function"><span class="hljs-keyword">sub</span>: <span class="hljs-title">string</span>): <span class="hljs-title">boolean</span> </span>&#123;<br>  let result = src.search(<span class="hljs-function"><span class="hljs-keyword">sub</span>)</span>;<br>  <span class="hljs-keyword">return</span> result &gt; -<span class="hljs-number">1</span>;<br>&#125;<br><br>// 简写 TypeScript的类型系统会推断出参数类型<br>let mySearch: SearchFunc;<br>mySearch = function (src, <span class="hljs-function"><span class="hljs-keyword">sub</span>) </span>&#123;<br>  let result = src.search(<span class="hljs-function"><span class="hljs-keyword">sub</span>)</span>;<br>  <span class="hljs-keyword">return</span> result &gt; -<span class="hljs-number">1</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="可索引的类型"><a href="#可索引的类型" class="headerlink" title="可索引的类型"></a>可索引的类型</h2><h2 id="类类型"><a href="#类类型" class="headerlink" title="类类型"></a>类类型</h2><h2 id="继承接口"><a href="#继承接口" class="headerlink" title="继承接口"></a>继承接口</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-comment">// 单</span><br><span class="hljs-keyword">interface</span> <span class="hljs-symbol">Shape</span> &#123;<br>    color: <span class="hljs-built_in">string</span>;<br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-symbol">Square</span> <span class="hljs-symbol">extends</span> <span class="hljs-symbol">Shape</span> &#123;<br>    sideLength: number;<br>&#125;<br><br>let square = &lt;Square&gt;&#123;&#125;;<br>square.color = <span class="hljs-string">&quot;blue&quot;</span>;<br>square.sideLength = <span class="hljs-number">10</span>;<br><br><span class="hljs-comment">// 多</span><br><span class="hljs-keyword">interface</span> <span class="hljs-symbol">Shape</span> &#123;<br>    color: <span class="hljs-built_in">string</span>;<br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-symbol">PenStroke</span> &#123;<br>    penWidth: number;<br>&#125;<br><br><span class="hljs-keyword">interface</span> <span class="hljs-symbol">Square</span> <span class="hljs-symbol">extends</span> <span class="hljs-symbol">Shape</span>, <span class="hljs-symbol">PenStroke</span> &#123;<br>    sideLength: number;<br>&#125;<br><br>let square = &lt;Square&gt;&#123;&#125;;<br>square.color = <span class="hljs-string">&quot;blue&quot;</span>;<br>square.sideLength = <span class="hljs-number">10</span>;<br>square.penWidth = <span class="hljs-number">5.0</span>;<br></code></pre></td></tr></table></figure><h2 id="混合类型"><a href="#混合类型" class="headerlink" title="混合类型"></a>混合类型</h2><p>在使用JavaScript第三方库的时候</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">interface Counter &#123;<br>    (<span class="hljs-keyword">start</span>: number): string;<br>    <span class="hljs-type">interval</span>: number;<br>    <span class="hljs-keyword">reset</span>(): <span class="hljs-type">void</span>;<br>&#125;<br><br><span class="hljs-keyword">function</span> getCounter(): Counter &#123;<br>    let counter = &lt;Counter&gt;<span class="hljs-keyword">function</span> (<span class="hljs-keyword">start</span>: number) &#123; &#125;;<br>    counter.interval = <span class="hljs-number">123</span>;<br>    counter.<span class="hljs-keyword">reset</span> = <span class="hljs-keyword">function</span> () &#123; &#125;;<br>    <span class="hljs-keyword">return</span> counter;<br>&#125;<br><br>let c = getCounter();<br>c(<span class="hljs-number">10</span>);<br>c.<span class="hljs-keyword">reset</span>();<br>c.interval = <span class="hljs-number">5.0</span>;<br></code></pre></td></tr></table></figure><!--## 接口继承类--><!--# 类--><h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h2><p>软件工程中，我们不仅要创建一致的定义良好的API，同时也要考虑可重用性。 组件不仅能够支持当前的数据类型，同时也能支持未来的数据类型。</p><h2 id="初步使用"><a href="#初步使用" class="headerlink" title="初步使用"></a>初步使用</h2><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">identity</span><span class="hljs-params">(arg: number)</span></span>: number &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">arg</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">identity</span>&lt;<span class="hljs-title">T</span>&gt;<span class="hljs-params">(arg: T)</span></span>: T &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">arg</span>;<br>&#125;<br><br>// 使用<br>// 第一种是，传入所有的参数，包含类型参数<br>let <span class="hljs-built_in">output</span> = identity&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&quot;myString&quot;</span>);  // <span class="hljs-built_in">type</span> of <span class="hljs-built_in">output</span> will be <span class="hljs-string">&#x27;string&#x27;</span><br>// 第二种方法更普遍。利用了类型推论 <br>let <span class="hljs-built_in">output</span> = identity(<span class="hljs-string">&quot;myString&quot;</span>);  // <span class="hljs-built_in">type</span> of <span class="hljs-built_in">output</span> will be <span class="hljs-string">&#x27;string&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="使用泛型变量"><a href="#使用泛型变量" class="headerlink" title="使用泛型变量"></a>使用泛型变量</h2><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-keyword">function</span> <span class="hljs-title function_">loggingIdentity</span>&lt;<span class="hljs-title function_">T</span>&gt;(<span class="hljs-params">arg: Array&lt;T&gt;</span>): <span class="hljs-title function_">Array</span>&lt;<span class="hljs-title function_">T</span>&gt; &#123;<br>    <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arg.<span class="hljs-built_in">length</span>);  <span class="hljs-comment">// Array has a .length, so no more error</span><br>    <span class="hljs-keyword">return</span> arg;<br>&#125;<br></code></pre></td></tr></table></figure><!--## 泛型类型--><p class="note note-info">预知后事如何 请看下回分解</p>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>typeScript</tag>
      
      <tag>ts</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>React官方文档初解</title>
    <link href="/2023/11/23/Front-end/React/React/"/>
    <url>/2023/11/23/Front-end/React/React/</url>
    
    <content type="html"><![CDATA[<p><a href="https://react.docschina.org/">官方中文文档</a></p><h3 id="1、不安装体验"><a href="#1、不安装体验" class="headerlink" title="1、不安装体验"></a>1、不安装体验</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-comment">&lt;!-- This setup is not suitable for production. --&gt;</span><br><span class="hljs-comment">&lt;!-- Only use it in development! --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/@babel/standalone/babel.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">async</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://ga.jspm.io/npm:es-module-shims@1.7.0/dist/es-module-shims.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;importmap&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    &#123;</span><br><span class="language-javascript">  <span class="hljs-string">&quot;imports&quot;</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-string">&quot;react&quot;</span>: <span class="hljs-string">&quot;https://esm.sh/react?dev&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-string">&quot;react-dom/client&quot;</span>: <span class="hljs-string">&quot;https://esm.sh/react-dom/client?dev&quot;</span></span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/babel&quot;</span> <span class="hljs-attr">data-type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">StrictMode</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; createRoot &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Greeting</span>(<span class="hljs-params">&#123; name &#125;</span>) &#123;</span><br><span class="language-javascript">  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, &#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;</span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">let</span> <span class="hljs-title class_">App</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Greeting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;world&quot;</span> /&gt;</span></span></span><br><span class="language-javascript">&#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> root = <span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>));</span><br><span class="language-javascript">root.<span class="hljs-title function_">render</span>(</span><br><span class="language-javascript">  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-javascript">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span></span><br><span class="language-xml"><span class="language-javascript">  <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span></span><br><span class="language-javascript">);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">    <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">font-family</span>: sans-serif;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2、编辑器设置"><a href="#2、编辑器设置" class="headerlink" title="2、编辑器设置"></a>2、编辑器设置</h3><ol><li>主流编辑器<ol><li><strong>VS Code</strong>(下面配置基于此编辑器)<ol><li>现如今最流行的编辑器之一。它拥有庞大的扩展市场，同时可以与 GitHub 等流行服务完美集成。</li></ol></li><li>WebStorm<ol><li>专为 JavaScript 设计的集成开发环境。</li></ol></li><li>Sublime Text<ol><li>支持 JSX 和 TypeScript，内置语法高亮和代码自动补全功能。</li></ol></li><li>Vim<ol><li>高度可配置的文本编辑器，可以非常高效地创建和更改任何类型的文本。它作为 “vi” 包含在大多数 UNIX 系统和 Apple OS X 中。</li></ol></li></ol></li><li><h4 id="代码检查"><a href="#代码检查" class="headerlink" title="代码检查"></a>代码检查</h4><ol><li><h5 id="ESLint"><a href="#ESLint" class="headerlink" title="ESLint"></a>ESLint</h5></li><li>官方文档中建议：<strong>请确保你已经为你的项目启用了 <code>eslint-plugin-react-hooks</code> 规则</strong>。这在 React 项目中是必备的，同时能帮助你及早的捕获较为严重的 bug。我们推荐的 <code>eslint-config-react-app</code> preset 中已经集成了该规则。</li></ol></li><li><h4 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h4><ol><li><h5 id="Prettier"><a href="#Prettier" class="headerlink" title="Prettier"></a>Prettier</h5><ol><li>安装步骤<ol><li>启动vscode</li><li>使用快速打开（使用快捷键 Ctrl&#x2F;Cmd + P）</li><li>粘贴 <code>ext install esbenp.prettier-vscode</code></li><li>按回车键</li></ol></li></ol></li><li><h5 id="保存并自动格式化"><a href="#保存并自动格式化" class="headerlink" title="保存并自动格式化"></a>保存并自动格式化</h5><ol><li>在 VS Code, 按快捷键 <code>Ctrl/Cmd + Shift + P</code>.</li><li>输入 “settings”</li><li>按回车键</li><li>在搜索栏, 输入 “format on save”</li><li>确保勾选 “format on save” 选项！</li></ol></li></ol></li></ol><h3 id="3、react开发者工具"><a href="#3、react开发者工具" class="headerlink" title="3、react开发者工具"></a>3、react开发者工具</h3><ol><li>浏览器扩展<ol><li><a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi?hl=en">chrome扩展</a></li><li><a href="https://addons.mozilla.org/zh-CN/firefox/addon/react-devtools/">firefox</a></li><li><a href="https://microsoftedge.microsoft.com/addons/detail/react-developer-tools/gpphkfbcpidddadnkolkpfckpihlkkil">edge</a></li><li>现在，如果你访问一个用 React 构建 的网站，你将看到 Components 和 Profiler 面板。<ol><li><img src="/img/content/react-1.webp"></li></ol></li></ol></li></ol><h3 id="4、初始组件体验"><a href="#4、初始组件体验" class="headerlink" title="4、初始组件体验"></a>4、<a id="useZJ">初始组件体验</a></h3><ol><li>React 应用是由被称为 组件 的独立 UI 片段构建而成。React 组件本质上是可以任意添加标签的 JavaScript 函数。组件可以小到一个按钮，也可以大到是整个页面。这是一个 Gallery 组件，用于渲染三个 Profile 组件：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">StrictMode</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; createRoot &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/client&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://i.imgur.com/MK3eW3As.jpg&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Katherine Johnson&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    /&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">App</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Amazing scientists<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">const</span> root = <span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>));<br>root.<span class="hljs-title function_">render</span>(<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span><br>);<br></code></pre></td></tr></table></figure></li><li><h4 id="定义组件"><a href="#定义组件" class="headerlink" title="定义组件"></a>定义组件</h4><ol><li>React 组件是一段可以 使用标签进行扩展 的 JavaScript 函数 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://i.imgur.com/MK3eW3Am.jpg&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Katherine Johnson&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    /&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h5 id="第一步：导出组件"><a href="#第一步：导出组件" class="headerlink" title="第一步：导出组件"></a>第一步：导出组件</h5><ol><li>export default 前缀是一种 JavaScript 标准语法（非 React 的特性）。它允许你标签一个文件中的主要函数以便你以后可以从其他文件引入它。</li></ol></li><li><h5 id="第二步：定义函数"><a href="#第二步：定义函数" class="headerlink" title="第二步：定义函数"></a>第二步：定义函数</h5><ol><li>使用 function Profile() { } 定义名为 Profile 的 JavaScript 函数。</li><li>React 组件是常规的 JavaScript 函数，但 <strong>组件的名称必须以大写字母开头</strong>，否则它们将无法运行！</li></ol></li><li><h5 id="第三步：添加标签"><a href="#第三步：添加标签" class="headerlink" title="第三步：添加标签"></a>第三步：添加标签</h5><ol><li>这个组件返回一个带有 src 和 alt 属性的 <img /> 标签。<img /> 写得像 HTML，但实际上是 JavaScript！这种语法被称为 <strong>JSX</strong>，它允许你在 JavaScript 中嵌入使用标签。</li><li>返回语句可以全写在一行上，如下面组件中所示：  <figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">return &lt;img src<span class="hljs-operator">=</span><span class="hljs-string">&quot;https://i.imgur.com/MK3eW3As.jpg&quot;</span> alt<span class="hljs-operator">=</span><span class="hljs-string">&quot;Katherine Johnson&quot;</span> /&gt;<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure></li><li>但是，如果你的标签和 return 关键字不在同一行，则<strong>必须把它包裹在一对括号中</strong>，如下所示： <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://i.imgur.com/MK3eW3As.jpg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Katherine Johnson&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br></code></pre></td></tr></table></figure><ol><li><strong>没有括号包裹的话，任何在 return 下一行的代码都 将被忽略！</strong></li></ol></li></ol></li><li><h4 id="使用组件"><a href="#使用组件" class="headerlink" title="使用组件"></a>使用组件</h4><ol><li>定义了 Profile 组件，你可以在其他组件中使用它。例如，你可以导出一个内部使用了多个 Profile 组件的 Gallery 组件：<a href="#useZJ">LINK</a> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://i.imgur.com/MK3eW3As.jpg&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Katherine Johnson&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    /&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>了不起的科学家<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li><li>注意：<ol><li><section> 是小写的，所以 React 知道我们指的是 HTML 标签。</li><li><Profile /> 以大写 P 开头，所以 React 知道我们想要使用名为 Profile 的组件。</li></ol></li><li>嵌套和组织组件 <ol><li><p>组件是常规的 JavaScript 函数，所以你可以将多个组件保存在同一份文件中。当组件相对较小或彼此紧密相关时，这是一种省事的处理方式。如果这个文件变得臃肿，你也可以随时将 Profile 移动到单独的文件中</p></li><li><p>因为 Profile 组件在 Gallery 组件中渲染——甚至好几次！——我们可以认为 Gallery 是一个 父组件，将每个 Profile 渲染为一个“孩子”。这是 React 的神奇之处：你可以只定义组件一次，然后按需多处和多次使用。</p></li><li><p><strong>组件可以渲染其他组件，但是 请不要嵌套他们的定义</strong>：</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// 🔴 永远不要在组件中定义组件</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>  &#125;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p> 上面这段代码 非常慢，并且会导致 bug 产生。因此，你应该在顶层定义每个组件：</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br><br><span class="hljs-comment">// ✅ 在顶层声明组件</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p> 当子组件需要使用父组件的数据时，你需要 通过 props 的形式进行传递，而不是嵌套定义。</p></li></ol></li></ol></li></ol></li></ol><h3 id="5、组件的导入与导出"><a href="#5、组件的导入与导出" class="headerlink" title="5、组件的导入与导出"></a>5、组件的导入与导出</h3><ol><li><h4 id="根组件文件"><a href="#根组件文件" class="headerlink" title="根组件文件"></a>根组件文件</h4></li></ol><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ada">app.js<br> <span class="hljs-keyword">function</span> <span class="hljs-title">···</span><br></code></pre></td></tr></table></figure><p>在此示例中，所有组件目前都定义在 根组件 App.js 文件中。具体还需根据项目配置决定，有些根组件可能会声明在其他文件中。如果你使用的框架基于文件进行路由，如 Next.js，那你每个页面的根组件都会不一样</p><ol><li><h4 id="导出和导入一个组件"><a href="#导出和导入一个组件" class="headerlink" title="导出和导入一个组件"></a>导出和导入一个组件</h4><ol><li>创建 一个新的 JS 文件来存放该组件。</li><li>导出 该文件中的函数组件（可以使用 默认导出 或 具名导出） <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">[filename]<span class="hljs-title class_">Gallery</span>.<span class="hljs-property">js</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://i.imgur.com/QIrZWGIs.jpg&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Alan L. Hart&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    /&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>了不起的科学家们<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Profile</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li><li>在需要使用该组件的文件中 导入（可以根据相应的导出方式使用 默认导入 或 具名导入）。 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript">[filename]<span class="hljs-title class_">App</span>.<span class="hljs-property">js</span><br><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Gallery</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Gallery.js&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Gallery</span> /&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h5 id="默认-具名-导出导入"><a href="#默认-具名-导出导入" class="headerlink" title="默认&#x2F;具名 导出导入"></a>默认&#x2F;具名 导出导入</h5></li></ol><table><thead><tr><th>语法</th><th>导出语句</th><th>导入语句</th></tr></thead><tbody><tr><td>默认</td><td><code>export default function Button() &#123;&#125;</code></td><td><code>import Button from &#39;./Button.js&#39;;</code></td></tr><tr><td>具名</td><td><code>export function Button() &#123;&#125;</code></td><td><code>import &#123; Button &#125; from &#39;./Button.js&#39;;</code></td></tr></tbody></table></li></ol><h3 id="6、JSX"><a href="#6、JSX" class="headerlink" title="6、JSX"></a>6、JSX</h3><ol><li>JSX 是 JavaScript 语法扩展，可以让你在 JavaScript 文件中书写类似 HTML 的标签。</li><li>JSX规则<ol><li><h5 id="只能返回一个根元素"><a href="#只能返回一个根元素" class="headerlink" title="只能返回一个根元素"></a>只能返回一个根元素</h5></li><li><h5 id="标签必须闭合"><a href="#标签必须闭合" class="headerlink" title="标签必须闭合"></a>标签必须闭合</h5><ol><li><img> 这样的自闭合标签必须书写成 <img /> </li><li><li>oranges 这样只有开始标签的元素必须带有闭合标签，需要改为 <li>oranges</li>。</li></ol></li><li><h5 id="驼峰式命名法"><a href="#驼峰式命名法" class="headerlink" title="驼峰式命名法"></a>驼峰式命名法</h5><ol><li>变量名称不能包含 - 符号或者像 class 这样的保留字。</li><li>使用名称className而不是class作为属性名，是因为”class” 在 JavaScript 中是个保留字。</li><li>由于历史原因，aria-* 和 data-* 属性是以带 - 符号的 HTML 格式书写的。</li></ol></li><li>高级提示：使用 JSX 转化器 </li><li><h5 id="大括号使用"><a href="#大括号使用" class="headerlink" title="大括号使用"></a>大括号使用</h5><ol><li>JSX 允许你在 JavaScript 中编写类似 HTML 的标签，从而使渲染的逻辑和内容可以写在一起。有时候，你可能想要在标签中添加一些 JavaScript 逻辑或者引用动态的属性。这种情况下，你可以在 JSX 的大括号内来编写 JavaScript。</li><li>用 { 和 } 替代 “ 和 “ 以使用 JavaScript 变量 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Avatar</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> avatar = <span class="hljs-string">&#x27;https://i.imgur.com/7vQD0fPs.jpg&#x27;</span>;<br>  <span class="hljs-keyword">const</span> description = <span class="hljs-string">&#x27;Gregorio Y. Zara&#x27;</span>;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;avatar&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;avatar&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">alt</span>=<span class="hljs-string">&#123;description&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    /&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li><li>使用大括号<ol><li><h6 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h6> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TodoList</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;Gregorio Y. Zara&#x27;</span>;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>&#123;name&#125;&#x27;s To Do List<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h6 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h6> <figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">person=</span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">name:</span> <span class="hljs-string">&quot;Hedy Lamarr&quot;</span>, inventions: <span class="hljs-number">5</span> &#125;&#125;</span><br></code></pre></td></tr></table></figure></li><li><h6 id="css"><a href="#css" class="headerlink" title="css"></a>css</h6> <figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">style</span>=</span></span><span class="hljs-template-variable">&#123;&#123;</span><br><span class="hljs-template-variable">  <span class="hljs-name">backgroundColor:</span> <span class="hljs-string">&#x27;black&#x27;</span>,</span><br><span class="hljs-template-variable">  color: <span class="hljs-string">&#x27;pink&#x27;</span></span><br><span class="hljs-template-variable">&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&gt;</span></span><br></code></pre></td></tr></table></figure> 1.<strong>内联 style 属性 使用驼峰命名法编写</strong>。例如，HTML <code>&lt;ul style=&quot;background-color: black&quot;&gt;</code> 在你的组件里应该写成 <code>&lt;ul style=&#123;&#123; backgroundColor: 'black' &#125;&#125;&gt;</code>。</li><li><h6 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h6> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> today = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>        <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">formatDate</span>(<span class="hljs-params">date</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intl</span>.<span class="hljs-title class_">DateTimeFormat</span>(<br>    <span class="hljs-string">&#x27;zh-CN&#x27;</span>,<br>    &#123; <span class="hljs-attr">weekday</span>: <span class="hljs-string">&#x27;long&#x27;</span> &#125;<br>  ).<span class="hljs-title function_">format</span>(date);<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TodoList</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>To Do List for &#123;formatDate(today)&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li></ol></li></ol></li></ol></li></ol><h3 id="7、将-Props-传递给组件"><a href="#7、将-Props-传递给组件" class="headerlink" title="7、将 Props 传递给组件"></a>7、将 Props 传递给组件</h3><ol><li>React 组件使用 props 来互相通信。每个父组件都可以提供 props 给它的子组件，从而将一些信息传递给它。Props 可能会让你想起 HTML 属性，但你可以通过它们传递任何 JavaScript 值，包括对象、数组和函数。</li><li>向组件传递 props<ol><li><h4 id="将-props-传递给子组件"><a href="#将-props-传递给子组件" class="headerlink" title="将 props 传递给子组件"></a>将 props 传递给子组件</h4></li></ol> <figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="language-xml">export default function Profile() &#123;</span><br><span class="language-xml">  return (</span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">person</span>=</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">name:</span> <span class="hljs-string">&#x27;Lin Lanying&#x27;</span>, imageId: <span class="hljs-string">&#x27;1bX5QH6&#x27;</span> &#125;&#125;</span><span class="language-xml"><span class="hljs-tag"></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">size</span>=<span class="hljs-string">&#123;100&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    /&gt;</span></span><br><span class="language-xml">  );</span><br><span class="language-xml">&#125;</span><br></code></pre></td></tr></table></figure><ol start="2"><li><h4 id="在子组件中读取-props"><a href="#在子组件中读取-props" class="headerlink" title="在子组件中读取 props"></a>在子组件中读取 props</h4><ol><li>在声明 props 时， 不要忘记 ( 和 ) 之间的一对花括号 { 和 } ; 这种语法被称为 “解构”，等价于于从函数参数中读取属性： <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Avatar</span>(<span class="hljs-params">&#123; person, size &#125;</span>) &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br><br>等价于<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Avatar</span>(<span class="hljs-params">props</span>) &#123;<br>  <span class="hljs-keyword">let</span> person = props.<span class="hljs-property">person</span>;<br>  <span class="hljs-keyword">let</span> size = props.<span class="hljs-property">size</span>;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure></li></ol></li><li><h4 id="给-prop-指定一个默认值"><a href="#给-prop-指定一个默认值" class="headerlink" title="给 prop 指定一个默认值"></a>给 prop 指定一个默认值</h4> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Avatar</span>(<span class="hljs-params">&#123; person, size = <span class="hljs-number">100</span> &#125;</span>) &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><h4 id="使用-JSX-展开语法传递-props"><a href="#使用-JSX-展开语法传递-props" class="headerlink" title="使用 JSX 展开语法传递 props"></a>使用 JSX 展开语法传递 props</h4> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params">&#123; person, size, isSepia, thickBorder &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">person</span>=<span class="hljs-string">&#123;person&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">size</span>=<span class="hljs-string">&#123;size&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">isSepia</span>=<span class="hljs-string">&#123;isSepia&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">thickBorder</span>=<span class="hljs-string">&#123;thickBorder&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;<br><br>简化：<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params">props</span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span> &#123;<span class="hljs-attr">...props</span>&#125; /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h4 id="将-JSX-作为子组件传递"><a href="#将-JSX-作为子组件传递" class="headerlink" title="将 JSX 作为子组件传递"></a>将 JSX 作为子组件传递</h4> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Avatar</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Avatar.js&#x27;</span>;<br>    <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Card</span>(<span class="hljs-params">&#123; children &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span></span><br><span class="language-xml">      &#123;children&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Profile</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">size</span>=<span class="hljs-string">&#123;100&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">person</span>=<span class="hljs-string">&#123;&#123;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">name:</span> &#x27;<span class="hljs-attr">Katsuko</span> <span class="hljs-attr">Saruhashi</span>&#x27;,</span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">imageId:</span> &#x27;<span class="hljs-attr">YfeOqp2</span>&#x27;</span></span><br><span class="hljs-tag"><span class="language-xml">        &#125;&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span></span><br>  );<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><h4 id="Props-如何随时间变化"><a href="#Props-如何随时间变化" class="headerlink" title="Props 如何随时间变化"></a>Props 如何随时间变化</h4><ol><li><a href="">State: 一个组件的内存;hook</a></li></ol></li></ol></li></ol><h3 id="8、条件渲染"><a href="#8、条件渲染" class="headerlink" title="8、条件渲染"></a>8、条件渲染</h3><ol><li>在 React 中，你可以通过使用 JavaScript 的 if 语句、&amp;&amp; 和 ? : 运算符来选择性地渲染 JSX。</li><li><h4 id="if-条件返回-JSX"><a href="#if-条件返回-JSX" class="headerlink" title="(if)条件返回 JSX"></a>(if)条件返回 JSX</h4></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Item</span>(<span class="hljs-params">&#123; name, isPacked &#125;</span>) &#123;<br>  <span class="hljs-keyword">if</span> (isPacked) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>&#123;name&#125; ✔<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">PackingList</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Sally Ride 的行李清单<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> </span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">isPacked</span>=<span class="hljs-string">&#123;true&#125;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;宇航服&quot;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> </span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">isPacked</span>=<span class="hljs-string">&#123;true&#125;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;带金箔的头盔&quot;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Item</span> </span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">isPacked</span>=<span class="hljs-string">&#123;false&#125;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Tam 的照片&quot;</span> </span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure><ol><li><h4 id="null"><a href="#null" class="headerlink" title="null"></a>null</h4></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Item</span>(<span class="hljs-params">&#123; name, isPacked &#125;</span>) &#123;<br>  <span class="hljs-keyword">if</span> (isPacked) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="三目运算符（-）"><a href="#三目运算符（-）" class="headerlink" title="三目运算符（? :）"></a>三目运算符（? :）</h4><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-keyword">function</span> Item(&#123;<span class="hljs-built_in"> name</span>, isPacked &#125;) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span></span><br><span class="language-xml">      </span><span class="language-xquery">&#123;isPacked ? (</span><br><span class="language-xquery">        <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">del</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-xquery">          </span><span class="language-xquery"><span class="hljs-built_in">&#123;name</span> + <span class="hljs-string">&#x27; ✔&#x27;</span>&#125;</span></span><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">del</span>&gt;</span></span><br>      ) : (<br>       <span class="hljs-built_in"> name</span><br>      )&#125;<br>    &lt;/li&gt;<br>  );<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="与运算符（-）"><a href="#与运算符（-）" class="headerlink" title="与运算符（&amp;&amp;）"></a>与运算符（&amp;&amp;）</h4><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-keyword">function</span> Item(&#123;<span class="hljs-built_in"> name</span>, isPacked &#125;) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span></span><br><span class="language-xml">      </span><span class="language-xquery"><span class="hljs-built_in">&#123;name</span>&#125;</span><span class="language-xml"> </span><span class="language-xquery">&#123;isPacked &amp;&amp; <span class="hljs-string">&#x27;✔&#x27;</span>&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure><ol><li><strong>切勿将数字放在 &amp;&amp; 左侧</strong><ol><li>JavaScript 会自动将左侧的值转换成布尔类型以判断条件成立与否。然而，<strong>如果左侧是 0，整个表达式将变成左侧的值（0），React 此时则会渲染 0 而不是不进行渲染</strong>。</li><li>例如，一个常见的错误是 <code>messageCount &amp;&amp; &lt;p&gt;New messages&lt;/p&gt;</code>。其原本是想当 messageCount 为 0 的时候不进行渲染，但实际上却渲染了 0。</li><li>为了更正，可以将左侧的值改成布尔类型：<code>messageCount &gt; 0 &amp;&amp; &lt;p&gt;New messages&lt;/p&gt;</code>。</li></ol></li></ol><h4 id="选择性地将-JSX-赋值给变量"><a href="#选择性地将-JSX-赋值给变量" class="headerlink" title="选择性地将 JSX 赋值给变量"></a>选择性地将 JSX 赋值给变量</h4><ol><li>当这些快捷方式妨碍写普通代码时，可以考虑使用 if 语句和变量。因为你可以使用 let 进行重复赋值，所以一开始你可以将你想展示的（这里指的是物品的名字）作为默认值赋予给该变量。<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xquery"><span class="hljs-keyword">function</span> Item(&#123;<span class="hljs-built_in"> name</span>, isPacked &#125;) &#123;<br>  <span class="hljs-keyword">let</span> itemContent =<span class="hljs-built_in"> name</span>;<br>  <span class="hljs-keyword">if</span> (isPacked) &#123;<br>    itemContent =<span class="hljs-built_in"> name</span> + <span class="hljs-string">&quot; ✔&quot;</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span></span><br><span class="language-xml">      </span><span class="language-xquery">&#123;itemContent&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">function</span> Item(&#123;<span class="hljs-built_in"> name</span>, isPacked &#125;) &#123;<br>  <span class="hljs-keyword">let</span> itemContent =<span class="hljs-built_in"> name</span>;<br>  <span class="hljs-keyword">if</span> (isPacked) &#123;<br>    itemContent = (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">del</span>&gt;</span></span><br><span class="language-xml">        </span><span class="language-xquery"><span class="hljs-built_in">&#123;name</span> + <span class="hljs-string">&quot; ✔&quot;</span>&#125;</span><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">del</span>&gt;</span></span><br>    );<br>  &#125;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span></span><br><span class="language-xml">      </span><span class="language-xquery">&#123;itemContent&#125;</span><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="9、渲染列表"><a href="#9、渲染列表" class="headerlink" title="9、渲染列表"></a>9、渲染列表</h3><ol><li>React 中使用 <strong>filter()</strong> 筛选需要渲染的组件和使用 <strong>map()</strong> 把数组转换成组件数组。</li><li>demo<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; people &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./data.js&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; getImageUrl &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./utils.js&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">List</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> listItems = people.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">person</span> =&gt;</span><br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;person.id&#125;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;getImageUrl(person)&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">alt</span>=<span class="hljs-string">&#123;person.name&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>&#123;person.name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span></span><br><span class="language-xml">          &#123;&#x27; &#x27; + person.profession + &#x27; &#x27;&#125;</span><br><span class="language-xml">          因&#123;person.accomplishment&#125;而闻名世界</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>  );<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>&#123;listItems&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><h4 id="key"><a href="#key" class="headerlink" title="key"></a>key</h4><ol><li>直接放在 map() 方法里的 JSX 元素一般都需要指定 key 值！</li><li>如何设定 key 值 <ol><li>来自数据库的数据： 如果你的数据是从数据库中获取的，那你可以直接使用数据表中的主键，因为它们天然具有唯一性。</li><li>本地产生数据： 如果你数据的产生和保存都在本地（例如笔记软件里的笔记），那么你可以使用一个自增计数器或者一个类似 uuid 的库来生成 key。</li></ol></li><li>key 需要满足的条件<ol><li>key 值在兄弟节点之间必须是唯一的。 不过不要求全局唯一，在不同的数组中可以使用相同的 key。</li><li>key 值不能改变，否则就失去了使用 key 的意义！所以千万不要在渲染时动态地生成 key。</li></ol></li><li>React 中为什么需要 key？<ol><li>设想一下，假如你桌面上的文件都没有文件名，取而代之的是，你需要通过文件的位置顺序来区分它们———第一个文件，第二个文件，以此类推。也许你也不是不能接受这种方式，可是一旦你删除了其中的一个文件，这种组织方式就会变得混乱无比。原来的第二个文件可能会变成第一个文件，第三个文件会成为第二个文件……</li><li>React 里需要 key 和文件夹里的文件需要有文件名的道理是类似的。它们（key 和文件名）都让我们可以从众多的兄弟元素中唯一标识出某一项（JSX 节点或文件）。而一个精心选择的 key 值所能提供的信息远远不止于这个元素在数组中的位置。即使元素的位置在渲染的过程中发生了改变，它提供的 key 值也能让 React 在整个生命周期中一直认得它。</li></ol></li></ol></li></ol><h3 id="10、保持组件纯粹-纯函数）"><a href="#10、保持组件纯粹-纯函数）" class="headerlink" title="10、保持组件纯粹(纯函数）"></a>10、保持组件纯粹(纯函数）</h3><ol><li><h4 id="纯函数：组件作为公式"><a href="#纯函数：组件作为公式" class="headerlink" title="纯函数：组件作为公式"></a>纯函数：组件作为公式</h4></li><li><p>纯函数特征</p><ol><li>只负责自己的任务。它不会更改在该函数调用前就已存在的对象或变量。</li><li>输入相同，则输出相同。给定相同的输入，纯函数应总是返回相同的结果。 <figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs llvm">举个你非常熟悉的纯函数示例：数学中的公式。<br><br>考虑如下数学公式：y <span class="hljs-operator">=</span> <span class="hljs-number">2</span><span class="hljs-keyword">x</span>。<br><br>若 <span class="hljs-keyword">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span> 则 y <span class="hljs-operator">=</span> <span class="hljs-number">4</span>。永远如此。<br><br>若 <span class="hljs-keyword">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span> 则 y <span class="hljs-operator">=</span> <span class="hljs-number">6</span>。永远如此。<br><br>若 <span class="hljs-keyword">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>，那么 y 并不会因为时间或股市的影响，而有时等于 <span class="hljs-number">9</span> 、 –<span class="hljs-number">1</span> 或 <span class="hljs-number">2.5</span>。<br><br>若 y <span class="hljs-operator">=</span> <span class="hljs-number">2</span><span class="hljs-keyword">x</span> 且 <span class="hljs-keyword">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span> 那么 y 永远 等于 <span class="hljs-number">6</span>.<br><br>我们使用 JavaScript 的函数实现，看起来将会是这样：<br><br>function <span class="hljs-keyword">double</span>(number) &#123;<br>  return <span class="hljs-number">2</span> * number<span class="hljs-comment">;</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li>React 便围绕着这个概念进行设计。<strong>React 假设你编写的所有组件都是纯函数</strong>。也就是说，对于相同的输入，你所编写的 React 组件必须总是返回相同的 JSX。</li></ol></li><li><h4 id="副作用-不符合-预期的后果"><a href="#副作用-不符合-预期的后果" class="headerlink" title="副作用:(不符合)预期的后果"></a>副作用:(不符合)预期的后果</h4><ol><li>React 的渲染过程必须自始至终是纯粹的。组件应该只 返回 它们的 JSX，而不 改变 在渲染前，就已存在的任何对象或变量 — 这将会使它们变得不纯粹！</li><li>错误示例:该组件正在读写其外部声明的 guest 变量。这意味着 <strong>多次调用这个组件会产生不同的 JSX</strong>！并且，如果 其他 组件读取 guest ，它们也会产生不同的 JSX，其结果取决于它们何时被渲染！这是无法预测的。 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> guest = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cup</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// Bad: changing a preexisting variable!</span><br>  guest = guest + <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Tea cup for guest #&#123;guest&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TeaSet</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Cup</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Cup</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Cup</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br><br>修复：<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cup</span>(<span class="hljs-params">&#123; guest &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Tea cup for guest #&#123;guest&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TeaSet</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Cup</span> <span class="hljs-attr">guest</span>=<span class="hljs-string">&#123;1&#125;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Cup</span> <span class="hljs-attr">guest</span>=<span class="hljs-string">&#123;2&#125;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Cup</span> <span class="hljs-attr">guest</span>=<span class="hljs-string">&#123;3&#125;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li></ol></li></ol><h4 id="局部mutation：组件的小秘密"><a href="#局部mutation：组件的小秘密" class="headerlink" title="局部mutation：组件的小秘密"></a>局部mutation：组件的小秘密</h4><ol><li>上述示例的问题出在渲染过程中，组件改变了 预先存在的 变量的值。为了让它听起来更可怕一点，我们将这种现象称为 <strong>突变（mutation）</strong> 。纯函数不会改变函数作用域外的变量、或在函数调用前创建的对象——这会使函数变得不纯粹！</li><li>但是，<strong>你完全可以在渲染时更改你 刚刚 创建的变量和对象</strong>。在本示例中，你创建一个 [] 数组，将其分配给一个 cups 变量，然后 push 一打 cup 进去：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cup</span>(<span class="hljs-params">&#123; guest &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Tea cup for guest #&#123;guest&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TeaGathering</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> cups = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">12</span>; i++) &#123;<br>    cups.<span class="hljs-title function_">push</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Cup</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;i&#125;</span> <span class="hljs-attr">guest</span>=<span class="hljs-string">&#123;i&#125;</span> /&gt;</span></span>);<br>  &#125;<br>  <span class="hljs-keyword">return</span> cups;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>解析：<ol><li>如果 cups 变量或 [] 数组是在 TeaGathering 函数之外创建的，这将是一个很大的问题！因为如果那样的话，当你调用数组的 push 方法时，就会更改 <strong>预先存在的</strong> 对象。</li><li>但是，这里不会有影响，因为每次渲染时，你都是在 TeaGathering 函数内部创建的它们。TeaGathering 之外的代码并不会知道发生了什么。这就被称为 <strong>“局部 mutation”</strong> — 如同藏在组件里的小秘密。</li></ol></li></ol><h4 id="哪些地方可能引发副作用"><a href="#哪些地方可能引发副作用" class="headerlink" title="哪些地方可能引发副作用"></a>哪些地方可能引发副作用</h4><p>函数式编程在很大程度上依赖于纯函数，但 某些事物 在特定情况下不得不发生改变。这是编程的要义！这些变动包括更新屏幕、启动动画、更改数据等，它们被称为 副作用。它们是 “额外” 发生的事情，与渲染过程无关。</p><p>在 React 中，<strong>副作用通常属于 事件处理程序</strong>。事件处理程序是 React 在你执行某些操作（如单击按钮）时运行的函数。即使事件处理程序是在你的组件 内部 定义的，它们也不会在渲染期间运行！ 因此事件处理程序无需是纯函数。</p><p>如果你用尽一切办法，仍无法为副作用找到合适的事件处理程序，你还可以调用组件中的 <strong><code>useEffect</code></strong> 方法将其附加到返回的 JSX 中。这会告诉 React 在渲染结束后执行它。然而，<strong>这种方法应该是你最后的手段</strong>。</p><h3 id="11、将-UI-视为树"><a href="#11、将-UI-视为树" class="headerlink" title="11、将 UI 视为树"></a>11、将 UI 视为树</h3><ol><li>树是表示实体之间关系的常见方式，它们经常用于建模 UI。</li><li>渲染树表示单次渲染中 React 组件之间的嵌套关系。</li><li>使用条件渲染，渲染树可能会在不同的渲染过程中发生变化。使用不同的属性值，组件可能会渲染不同的子组件。</li><li>渲染树有助于识别顶级组件和叶子组件。顶级组件会影响其下所有组件的渲染性能，而叶子组件通常会频繁重新渲染。识别它们有助于理解和调试渲染性能问题。</li><li>依赖树表示 React 应用程序中的模块依赖关系。</li><li>构建工具使用依赖树来捆绑必要的代码以部署应用程序。</li><li>依赖树有助于调试大型捆绑包带来的渲染速度过慢的问题，以及发现哪些捆绑代码可以被优化。</li></ol><h3 id="12、响应事件"><a href="#12、响应事件" class="headerlink" title="12、响应事件"></a>12、响应事件</h3><ol><li>React 允许你向 JSX 中添加事件处理程序。事件处理程序是你自己的函数，它将在用户交互时被触发，如点击、悬停、焦点在表单输入框上等等。</li><li><code>&lt;button&gt;</code> 等内置组件只支持内置浏览器事件，如 <code>onClick</code>。但是，你也可以创建你自己的组件，并给它们的事件处理程序 <code>props</code> 指定你喜欢的任何特定于应用的名称。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Toolbar</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">onPlayMovie</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> alert(&#x27;Playing!&#x27;)&#125;</span><br><span class="language-xml">      onUploadImage=&#123;() =&gt; alert(&#x27;Uploading!&#x27;)&#125;</span><br><span class="language-xml">    /&gt;</span><br>  );<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Toolbar</span>(<span class="hljs-params">&#123; onPlayMovie, onUploadImage &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;onPlayMovie&#125;</span>&gt;</span></span><br><span class="language-xml">        Play Movie</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;onUploadImage&#125;</span>&gt;</span></span><br><span class="language-xml">        Upload Image</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Button</span>(<span class="hljs-params">&#123; onClick, children &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;onClick&#125;</span>&gt;</span></span><br><span class="language-xml">      &#123;children&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  );<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="13、State-组件的记忆"><a href="#13、State-组件的记忆" class="headerlink" title="13、State: 组件的记忆"></a>13、State: 组件的记忆</h3><p>组件通常需要根据交互改变屏幕上的内容。在表单中键入更新输入栏，在轮播图上点击“下一个”改变显示的图片，点击“购买”将产品放入购物车。组件需要“记住”一些东西：当前的输入值、当前的图片、购物车。在 React 中，这种特定于组件的记忆被称为状态。</p><p>你可以用 useState Hook 为组件添加状态。Hook 是能让你的组件使用 React 功能的特殊函数（状态是这些功能之一）。useState Hook 让你声明一个状态变量。它接收初始状态并返回一对值：当前状态，以及一个让你更新状态的设置函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; sculptureList &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./data.js&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gallery</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [index, setIndex] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-keyword">const</span> [showMore, setShowMore] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);<br>  <span class="hljs-keyword">const</span> hasNext = index &lt; sculptureList.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleNextClick</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (hasNext) &#123;<br>      <span class="hljs-title function_">setIndex</span>(index + <span class="hljs-number">1</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-title function_">setIndex</span>(<span class="hljs-number">0</span>);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleMoreClick</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">setShowMore</span>(!showMore);<br>  &#125;<br><br>  <span class="hljs-keyword">let</span> sculpture = sculptureList[index];<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleNextClick&#125;</span>&gt;</span></span><br><span class="language-xml">        Next</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>&#123;sculpture.name&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">        by &#123;sculpture.artist&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">        (&#123;index + 1&#125; of &#123;sculptureList.length&#125;)</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleMoreClick&#125;</span>&gt;</span></span><br><span class="language-xml">        &#123;showMore ? &#x27;Hide&#x27; : &#x27;Show&#x27;&#125; details</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      &#123;showMore &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;sculpture.description&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;sculpture.url&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">alt</span>=<span class="hljs-string">&#123;sculpture.alt&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="14、渲染和提交"><a href="#14、渲染和提交" class="headerlink" title="14、渲染和提交"></a>14、渲染和提交</h3><p>在你的组件显示在屏幕上之前，它们必须由 React 进行渲染。理解这个过程中的步骤有助于你思考你的代码如何执行并解释其行为。</p><ol><li><strong>触发</strong>渲染（将食客的订单送到厨房）</li><li><strong>渲染</strong>组件（在厨房准备订单）</li><li><strong>提交</strong>到 DOM（将订单送到桌前）</li></ol><h3 id="15、作为快照的状态"><a href="#15、作为快照的状态" class="headerlink" title="15、作为快照的状态"></a>15、作为快照的状态</h3><p>与普通 JavaScript 变量不同，React 状态的行为更像一个快照。设置它并不改变你已有的状态变量，而是触发一次重新渲染。</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">count</span>);  <span class="hljs-comment">// 0</span><br>setCount(<span class="hljs-built_in">count</span> + <span class="hljs-number">1</span>); <span class="hljs-comment">// 请求用 1 重新渲染</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">count</span>);  <span class="hljs-comment">// 仍然是 0！</span><br></code></pre></td></tr></table></figure><h3 id="16、把一系列-state-更新加入队列"><a href="#16、把一系列-state-更新加入队列" class="headerlink" title="16、把一系列 state 更新加入队列"></a>16、把一系列 state 更新加入队列</h3><ol><li>如下有问题的组件，点击“+3”只能增加一次分数。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [score, setScore] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">setScore</span>(score + <span class="hljs-number">1</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> increment()&#125;&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;</span><br><span class="language-xml">        increment();</span><br><span class="language-xml">        increment();</span><br><span class="language-xml">        increment();</span><br><span class="language-xml">      &#125;&#125;&gt;+3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Score: &#123;score&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure>作为快照的状态 解释了为什么会出现这种情况。设置状态会请求一个新的重新渲染，但不会在已运行的代码中更改它。所以在你调用 setScore(score + 1) 后，score 仍然是 0。<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stata">console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">score</span>);  <span class="hljs-comment">// 0</span><br>setScore(<span class="hljs-keyword">score</span> + 1); <span class="hljs-comment">// setScore(0 + 1);</span><br>console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">score</span>);  <span class="hljs-comment">// 0</span><br>setScore(<span class="hljs-keyword">score</span> + 1); <span class="hljs-comment">// setScore(0 + 1);</span><br>console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">score</span>);  <span class="hljs-comment">// 0</span><br>setScore(<span class="hljs-keyword">score</span> + 1); <span class="hljs-comment">// setScore(0 + 1);</span><br>console.<span class="hljs-built_in">log</span>(<span class="hljs-keyword">score</span>);  <span class="hljs-comment">// 0</span><br></code></pre></td></tr></table></figure>你可以通过在设置状态时传递一个 更新器函数 来解决这个问题。注意用 setScore(s &#x3D;&gt; s + 1) 替换 setScore(score + 1) 是如何修复“+3”按钮的。如果你需要排队进行多次状态更新，那么这非常方便。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [score, setScore] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">setScore</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s + <span class="hljs-number">1</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> increment()&#125;&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> &#123;</span><br><span class="language-xml">        increment();</span><br><span class="language-xml">        increment();</span><br><span class="language-xml">        increment();</span><br><span class="language-xml">      &#125;&#125;&gt;+3<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Score: &#123;score&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  )<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="17、更新状态中的对象"><a href="#17、更新状态中的对象" class="headerlink" title="17、更新状态中的对象"></a>17、更新状态中的对象</h3><p>状态可以持有任何类型的 JavaScript 值，包括对象。但你不应该直接改变你在 React 状态中持有的对象和数组。相反，当你想更新一个对象和数组时，你需要创建一个新的对象（或复制现有的对象），然后用这个副本来更新状态。</p><p>通常情况下，你会使用 … 展开语法来复制你想改变的对象和数组。例如，更新一个嵌套对象可以是这样的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [person, setPerson] = <span class="hljs-title function_">useState</span>(&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Niki de Saint Phalle&#x27;</span>,<br>    <span class="hljs-attr">artwork</span>: &#123;<br>      <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Blue Nana&#x27;</span>,<br>      <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;Hamburg&#x27;</span>,<br>      <span class="hljs-attr">image</span>: <span class="hljs-string">&#x27;https://i.imgur.com/Sd1AgUOm.jpg&#x27;</span>,<br>    &#125;<br>  &#125;);<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleNameChange</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-title function_">setPerson</span>(&#123;<br>      ...person,<br>      <span class="hljs-attr">name</span>: e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span><br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleTitleChange</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-title function_">setPerson</span>(&#123;<br>      ...person,<br>      <span class="hljs-attr">artwork</span>: &#123;<br>        ...person.<span class="hljs-property">artwork</span>,<br>        <span class="hljs-attr">title</span>: e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span><br>      &#125;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleCityChange</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-title function_">setPerson</span>(&#123;<br>      ...person,<br>      <span class="hljs-attr">artwork</span>: &#123;<br>        ...person.<span class="hljs-property">artwork</span>,<br>        <span class="hljs-attr">city</span>: e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span><br>      &#125;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleImageChange</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-title function_">setPerson</span>(&#123;<br>      ...person,<br>      <span class="hljs-attr">artwork</span>: &#123;<br>        ...person.<span class="hljs-property">artwork</span>,<br>        <span class="hljs-attr">image</span>: e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span><br>      &#125;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        Name:</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;person.name&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleNameChange&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        Title:</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;person.artwork.title&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleTitleChange&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        City:</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;person.artwork.city&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleCityChange&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        Image:</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;person.artwork.image&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleImageChange&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>&#123;person.artwork.title&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">        &#123;&#x27; by &#x27;&#125;</span><br><span class="language-xml">        &#123;person.name&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        (located in &#123;person.artwork.city&#125;)</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;person.artwork.image&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">alt</span>=<span class="hljs-string">&#123;person.artwork.title&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure><p>如果在代码中复制对象感觉乏味，可以使用 Immer 之类的库来减少重复代码：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;dependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;immer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.7.3&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;react&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;latest&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;react-dom&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;latest&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;react-scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;latest&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;use-immer&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0.5.1&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;start&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react-scripts start&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react-scripts build&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;test&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react-scripts test --env=jsdom&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eject&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react-scripts eject&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;devDependencies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="18、更新状态中的数组"><a href="#18、更新状态中的数组" class="headerlink" title="18、更新状态中的数组"></a>18、更新状态中的数组</h3><p>数组是另一种可以存在状态中的可变 JavaScript 对象，应将其视为只读。就像对象一样，当你想更新存在状态中的数组时，你需要创建一个新数组（或者复制现有数组），然后用新数组来更新状态。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">let</span> nextId = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">const</span> initialList = [<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Big Bellies&#x27;</span>, <span class="hljs-attr">seen</span>: <span class="hljs-literal">false</span> &#125;,<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Lunar Landscape&#x27;</span>, <span class="hljs-attr">seen</span>: <span class="hljs-literal">false</span> &#125;,<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Terracotta Army&#x27;</span>, <span class="hljs-attr">seen</span>: <span class="hljs-literal">true</span> &#125;,<br>];<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">BucketList</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [list, setList] = <span class="hljs-title function_">useState</span>(<br>    initialList<br>  );<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleToggle</span>(<span class="hljs-params">artworkId, nextSeen</span>) &#123;<br>    <span class="hljs-title function_">setList</span>(list.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">artwork</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (artwork.<span class="hljs-property">id</span> === artworkId) &#123;<br>        <span class="hljs-keyword">return</span> &#123; ...artwork, <span class="hljs-attr">seen</span>: nextSeen &#125;;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> artwork;<br>      &#125;<br>    &#125;));<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Art Bucket List<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>My list of art to see:<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">ItemList</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">artworks</span>=<span class="hljs-string">&#123;list&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onToggle</span>=<span class="hljs-string">&#123;handleToggle&#125;</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">ItemList</span>(<span class="hljs-params">&#123; artworks, onToggle &#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      &#123;artworks.map(artwork =&gt; (</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;artwork.id&#125;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">checked</span>=<span class="hljs-string">&#123;artwork.seen&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">              <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;e</span> =&gt;</span> &#123;</span><br><span class="language-xml">                onToggle(</span><br><span class="language-xml">                  artwork.id,</span><br><span class="language-xml">                  e.target.checked</span><br><span class="language-xml">                );</span><br><span class="language-xml">              &#125;&#125;</span><br><span class="language-xml">            /&gt;</span><br><span class="language-xml">            &#123;artwork.title&#125;</span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">      ))&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="19、使用状态响应输入"><a href="#19、使用状态响应输入" class="headerlink" title="19、使用状态响应输入"></a>19、使用状态响应输入</h3><p>使用 React，你不用直接从代码层面修改 UI。例如，不用编写诸如“禁用按钮”、“启用按钮”、“显示成功消息”等命令。相反，你只需要描述组件在不同状态（“初始状态”、“输入状态”、“成功状态”）下希望展现的 UI，然后根据用户输入触发状态更改。这和设计师对 UI 的理解很相似。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [answer, setAnswer] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>  <span class="hljs-keyword">const</span> [error, setError] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);<br>  <span class="hljs-keyword">const</span> [status, setStatus] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;typing&#x27;</span>);<br><br>  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">&#x27;success&#x27;</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>答对了！<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br>  &#125;<br><br>  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleSubmit</span>(<span class="hljs-params">e</span>) &#123;<br>    e.<span class="hljs-title function_">preventDefault</span>();<br>    <span class="hljs-title function_">setStatus</span>(<span class="hljs-string">&#x27;submitting&#x27;</span>);<br>    <span class="hljs-keyword">try</span> &#123;<br>      <span class="hljs-keyword">await</span> <span class="hljs-title function_">submitForm</span>(answer);<br>      <span class="hljs-title function_">setStatus</span>(<span class="hljs-string">&#x27;success&#x27;</span>);<br>    &#125; <span class="hljs-keyword">catch</span> (err) &#123;<br>      <span class="hljs-title function_">setStatus</span>(<span class="hljs-string">&#x27;typing&#x27;</span>);<br>      <span class="hljs-title function_">setError</span>(err);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleTextareaChange</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-title function_">setAnswer</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>城市测验<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        哪个城市有把空气变成饮用水的广告牌？</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">&#123;handleSubmit&#125;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;answer&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleTextareaChange&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">disabled</span>=<span class="hljs-string">&#123;status</span> === <span class="hljs-string">&#x27;submitting&#x27;</span>&#125;</span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">&#123;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">answer.length</span> === <span class="hljs-string">0</span> ||</span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">status</span> === <span class="hljs-string">&#x27;submitting&#x27;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        &#125;&gt;</span></span><br><span class="language-xml">          提交</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">        &#123;error !== null &amp;&amp;</span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;Error&quot;</span>&gt;</span></span><br><span class="language-xml">            &#123;error.message&#125;</span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        &#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">submitForm</span>(<span class="hljs-params">answer</span>) &#123;<br>  <span class="hljs-comment">// 模拟接口请求</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-keyword">let</span> shouldError = answer.<span class="hljs-title function_">toLowerCase</span>() !== <span class="hljs-string">&#x27;lima&#x27;</span><br>      <span class="hljs-keyword">if</span> (shouldError) &#123;<br>        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;猜的不错，但答案不对。再试试看吧！&#x27;</span>));<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">resolve</span>();<br>      &#125;<br>    &#125;, <span class="hljs-number">1500</span>);<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="20、选择状态结构"><a href="#20、选择状态结构" class="headerlink" title="20、选择状态结构"></a>20、选择状态结构</h3><p>状态不应包含冗余或重复的信息。如果包含一些多余的状态，我们会很容易忘记去更新它，从而导致问题产生！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [firstName, setFirstName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>  <span class="hljs-keyword">const</span> [lastName, setLastName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br><br>  <span class="hljs-keyword">const</span> fullName = firstName + <span class="hljs-string">&#x27; &#x27;</span> + lastName;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleFirstNameChange</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-title function_">setFirstName</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleLastNameChange</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-title function_">setLastName</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>让我们帮你登记<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        名：&#123;&#x27; &#x27;&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;firstName&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleFirstNameChange&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">        姓：&#123;&#x27; &#x27;&#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">value</span>=<span class="hljs-string">&#123;lastName&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">onChange</span>=<span class="hljs-string">&#123;handleLastNameChange&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">        你的票将发给：<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>&#123;fullName&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="21、在组件间共享状态"><a href="#21、在组件间共享状态" class="headerlink" title="21、在组件间共享状态"></a>21、在组件间共享状态</h3><ol><li>有时候你希望两个组件的状态始终同步更改。要实现这一点，可以将相关状态从这两个组件上移除，并把这些状态移到最近的父级组件，然后通过 props 将状态传递给这两个组件。这被称为“状态提升”，这是编写 React 代码时常做的事。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Accordion</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [activeIndex, setActiveIndex] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Almaty, Kazakhstan<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;关于&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">isActive</span>=<span class="hljs-string">&#123;activeIndex</span> === <span class="hljs-string">0&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onShow</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setActiveIndex(0)&#125;</span><br><span class="language-xml">      &gt;</span><br><span class="language-xml">        阿拉木图人口约200万，是哈萨克斯坦最大的城市。在1929年至1997年之间，它是该国首都。</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;词源&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">isActive</span>=<span class="hljs-string">&#123;activeIndex</span> === <span class="hljs-string">1&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onShow</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setActiveIndex(1)&#125;</span><br><span class="language-xml">      &gt;</span><br><span class="language-xml">        这个名字源于哈萨克语 <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;kk-KZ&quot;</span>&gt;</span>алма<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>，是“苹果”的意思，通常被翻译成“满是苹果”。事实上，阿拉木图周围的地区被认为是苹果的祖籍，<span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;la&quot;</span>&gt;</span>Malus sieversii<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> 被认为是目前本土苹果的祖先。</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Panel</span>(<span class="hljs-params">&#123;</span><br><span class="hljs-params">  title,</span><br><span class="hljs-params">  children,</span><br><span class="hljs-params">  isActive,</span><br><span class="hljs-params">  onShow</span><br><span class="hljs-params">&#125;</span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;panel&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>&#123;title&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="language-xml">      &#123;isActive ? (</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;children&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      ) : (</span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;onShow&#125;</span>&gt;</span></span><br><span class="language-xml">          显示</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      )&#125;</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="22、保留和重置状态"><a href="#22、保留和重置状态" class="headerlink" title="22、保留和重置状态"></a>22、保留和重置状态</h3><ol><li>你重新渲染一个组件时， React 需要决定组件树中的哪些部分要保留和更新，以及丢弃或重新创建。在大多数情况下， React 的自动处理机制已经做得足够好了。默认情况下，React 会保留树中与先前渲染的组件树“匹配”的部分。</li><li>React 允许你覆盖默认行为，可通过向组件传递一个唯一 key（如 <Chat key={email}/> 来 强制 重置其状态。这会告诉 React ，如果收件人不同，应将其作为一个 不同的 Chat 组件，需要使用新数据和 UI（比如输入框）来重新创建它。现在，在接收者之间切换时就会重置输入框——即使渲染的是同一个组件。</li></ol><h3 id="23、提取状态逻辑到-reducer-中"><a href="#23、提取状态逻辑到-reducer-中" class="headerlink" title="23、提取状态逻辑到 reducer 中"></a>23、提取状态逻辑到 reducer 中</h3><ol><li>对于那些需要更新多个状态的组件来说，过于分散的事件处理程序可能会令人不知所措。对于这种情况，你可以在组件外部将所有状态更新逻辑合并到一个称为 “reducer” 的函数中。这样，事件处理程序就会变得简洁，因为它们只需要指定用户的 “actions”。在文件的底部，reducer 函数指定状态应该如何更新以响应每个 action！<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useReducer &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">AddTask</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./AddTask.js&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">TaskList</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./TaskList.js&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TaskApp</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [tasks, dispatch] = <span class="hljs-title function_">useReducer</span>(<br>    tasksReducer,<br>    initialTasks<br>  );<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleAddTask</span>(<span class="hljs-params">text</span>) &#123;<br>    <span class="hljs-title function_">dispatch</span>(&#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;added&#x27;</span>,<br>      <span class="hljs-attr">id</span>: nextId++,<br>      <span class="hljs-attr">text</span>: text,<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleChangeTask</span>(<span class="hljs-params">task</span>) &#123;<br>    <span class="hljs-title function_">dispatch</span>(&#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;changed&#x27;</span>,<br>      <span class="hljs-attr">task</span>: task<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleDeleteTask</span>(<span class="hljs-params">taskId</span>) &#123;<br>    <span class="hljs-title function_">dispatch</span>(&#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;deleted&#x27;</span>,<br>      <span class="hljs-attr">id</span>: taskId<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>布拉格行程<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">AddTask</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onAddTask</span>=<span class="hljs-string">&#123;handleAddTask&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">TaskList</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">tasks</span>=<span class="hljs-string">&#123;tasks&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onChangeTask</span>=<span class="hljs-string">&#123;handleChangeTask&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">onDeleteTask</span>=<span class="hljs-string">&#123;handleDeleteTask&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">tasksReducer</span>(<span class="hljs-params">tasks, action</span>) &#123;<br>  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;added&#x27;</span>: &#123;<br>      <span class="hljs-keyword">return</span> [...tasks, &#123;<br>        <span class="hljs-attr">id</span>: action.<span class="hljs-property">id</span>,<br>        <span class="hljs-attr">text</span>: action.<span class="hljs-property">text</span>,<br>        <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span><br>      &#125;];<br>    &#125;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;changed&#x27;</span>: &#123;<br>      <span class="hljs-keyword">return</span> tasks.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (t.<span class="hljs-property">id</span> === action.<span class="hljs-property">task</span>.<span class="hljs-property">id</span>) &#123;<br>          <span class="hljs-keyword">return</span> action.<span class="hljs-property">task</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>          <span class="hljs-keyword">return</span> t;<br>        &#125;<br>      &#125;);<br>    &#125;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;deleted&#x27;</span>: &#123;<br>      <span class="hljs-keyword">return</span> tasks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">id</span> !== action.<span class="hljs-property">id</span>);<br>    &#125;<br>    <span class="hljs-attr">default</span>: &#123;<br>      <span class="hljs-keyword">throw</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;未知操作：&#x27;</span> + action.<span class="hljs-property">type</span>);<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> nextId = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">const</span> initialTasks = [<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;参观卡夫卡博物馆&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> &#125;,<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;看木偶戏&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;,<br>  &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;列侬墙图片&#x27;</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> &#125;<br>];<br><br></code></pre></td></tr></table></figure></li></ol><h3 id="24、使用-Context-进行深层数据传递"><a href="#24、使用-Context-进行深层数据传递" class="headerlink" title="24、使用 Context 进行深层数据传递"></a>24、使用 Context 进行深层数据传递</h3><ol><li>通常，你会通过 props 将信息从父组件传递给子组件。但是，如果要在组件树中深入传递一些 prop，或者树里的许多组件需要使用相同的 prop，那么传递 prop 可能会变得很麻烦。Context 允许父组件将一些信息提供给它下层的任何组件，不管该组件多深层也无需通过 props 逐层透传。<!--2. 这里的 Heading 组件通过“询问”最近的 Section 来确定其标题级别。每个 Section 的级别是通过给父 Section 添加的级别来确定的。每个 Section 都向它下层的所有组件提供信息，不需要逐层传递 props，而是通过 Context 来实现。--></li></ol><h3 id="25、使用-Reducer-和-Context-进行状态扩展"><a href="#25、使用-Reducer-和-Context-进行状态扩展" class="headerlink" title="25、使用 Reducer 和 Context 进行状态扩展"></a>25、使用 Reducer 和 Context 进行状态扩展</h3><ol><li>Reducer 帮助你合并组件的状态更新逻辑。Context 帮助你将信息深入传递给其他组件。你可以将 reducers 和 context 组合在一起使用，以管理复杂应用的状态。</li><li>基于这种想法，使用 reducer 来管理一个具有复杂状态的父组件。组件树中任何深度的其他组件都可以通过 context 读取其状态。还可以 dispatch 一些 action 来更新状态。</li></ol><h3 id="26、使用-ref-引用值"><a href="#26、使用-ref-引用值" class="headerlink" title="26、使用 ref 引用值"></a>26、使用 ref 引用值</h3><ol><li>当你希望组件“记住”某些信息，但又不想让这些信息 触发新的渲染 时，你可以使用 ref：<code>const ref = useRef(0);</code></li><li>与 state 一样，ref 在重新渲染之间由 React 保留。但是，设置 state 会重新渲染组件，而更改 ref 不会！你可以通过 <code>ref.current</code> 属性访问该 ref 的当前值。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useRef &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> ref = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>) &#123;<br>    ref.<span class="hljs-property">current</span> = ref.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;你点击了 &#x27;</span> + ref.<span class="hljs-property">current</span> + <span class="hljs-string">&#x27; 次!&#x27;</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleClick&#125;</span>&gt;</span></span><br><span class="language-xml">      点我！</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li><li>ref 就像组件的一个不被 React 追踪的秘密口袋。例如，可以使用 ref 来存储 timeout ID、DOM 元素 和其他不影响组件渲染输出的对象。</li></ol><h3 id="27、使用-ref-操作-DOM"><a href="#27、使用-ref-操作-DOM" class="headerlink" title="27、使用 ref 操作 DOM"></a>27、使用 ref 操作 DOM</h3><ol><li>由于 React 会自动更新 DOM 以匹配渲染输出，因此组件通常不需要操作 DOM。但是，有时可能需要访问由 React 管理的 DOM 元素——例如聚焦节点、滚动到此节点，以及测量它的尺寸和位置。React 没有内置的方法来执行此类操作，所以需要一个指向 DOM 节点的 ref 来实现。例如，点击按钮将使用 ref 聚焦输入框：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useRef &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"></span>) &#123;<br>    inputRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>();<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;inputRef&#125;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;handleClick&#125;</span>&gt;</span></span><br><span class="language-xml">        聚焦输入框</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="28、使用-Effect-实现同步"><a href="#28、使用-Effect-实现同步" class="headerlink" title="28、使用 Effect 实现同步"></a>28、使用 Effect 实现同步</h3><ol><li>有些组件需要与外部系统同步。例如，可能需要根据 React 状态控制非 React 组件、设置服务器连接或在组件出现在屏幕上时发送分析日志。与处理特定事件的事件处理程序不同，Effect 在渲染后运行一些代码。使用它将组件与 React 之外的系统同步。</li><li>多按几次播放&#x2F;暂停，观察视频播放器如何与 isPlaying 属性值保持同步：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> &#123; useState, useRef, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">VideoPlayer</span>(<span class="hljs-params">&#123; src, isPlaying &#125;</span>) &#123;<br>  <span class="hljs-keyword">const</span> ref = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);<br><br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (isPlaying) &#123;<br>      ref.<span class="hljs-property">current</span>.<span class="hljs-title function_">play</span>();<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      ref.<span class="hljs-property">current</span>.<span class="hljs-title function_">pause</span>();<br>    &#125;<br>  &#125;, [isPlaying]);<br><br>  <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#123;ref&#125;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;src&#125;</span> <span class="hljs-attr">loop</span> <span class="hljs-attr">playsInline</span> /&gt;</span></span>;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [isPlaying, setIsPlaying] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> setIsPlaying(!isPlaying)&#125;&gt;</span><br><span class="language-xml">        &#123;isPlaying ? &#x27;暂停&#x27; : &#x27;播放&#x27;&#125;</span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">VideoPlayer</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">isPlaying</span>=<span class="hljs-string">&#123;isPlaying&#125;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/&gt;</span></span><br>  );<br>&#125;<br><br></code></pre></td></tr></table></figure><!--许多 Effect 也会自行“清理”。例如，与聊天服务器建立连接的 Effect 应该返回一个 cleanup 函数，告诉 React 如何断开组件与该服务器的连接：--></li></ol><h3 id="29、你可能不需要-Effect"><a href="#29、你可能不需要-Effect" class="headerlink" title="29、你可能不需要 Effect"></a>29、你可能不需要 Effect</h3><ol><li>Effect 是 React 范式中的一个逃脱方案。它们可以“逃出” React 并使组件和一些外部系统同步。如果没有涉及到外部系统（例如，需要根据一些 props 或 state 的变化来更新一个组件的 state），不应该使用 Effect。移除不必要的 Effect 可以让代码更容易理解，运行得更快，并且更少出错。</li><li>有两种常见的不必使用 Effect 的情况：<ol><li>不必为了渲染而使用 Effect 来转换数据。</li><li>不必使用 Effect 来处理用户事件。</li></ol></li><li>例如，不需要 Effect 来根据其他状态调整某些状态：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [firstName, setFirstName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;泰勒&#x27;</span>);<br>  <span class="hljs-keyword">const</span> [lastName, setLastName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;斯威夫特&#x27;</span>);<br><br>  <span class="hljs-comment">// 🔴 避免：多余的 state 和不必要的 Effect</span><br>  <span class="hljs-keyword">const</span> [fullName, setFullName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">setFullName</span>(firstName + <span class="hljs-string">&#x27; &#x27;</span> + lastName);<br>  &#125;, [firstName, lastName]);<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>相反，在渲染时进行尽可能多地计算：<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span><span class="hljs-params">()</span> &#123;<br>  <span class="hljs-keyword">const</span> [firstName, setFirstName] = useState(<span class="hljs-string">&#x27;泰勒&#x27;</span>);<br>  <span class="hljs-keyword">const</span> [lastName, setLastName] = useState(<span class="hljs-string">&#x27;斯威夫特&#x27;</span>);<br>  <span class="hljs-comment">// ✅ 非常好：在渲染期间进行计算</span><br>  <span class="hljs-keyword">const</span> fullName = firstName + <span class="hljs-string">&#x27; &#x27;</span> + lastName;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="30、响应式-Effect-的生命周期"><a href="#30、响应式-Effect-的生命周期" class="headerlink" title="30、响应式 Effect 的生命周期"></a>30、响应式 Effect 的生命周期</h3><ol><li>Effect 的生命周期不同于组件。组件可以挂载、更新或卸载。Effect 只能做两件事：开始同步某些东西，然后停止同步它。如果 Effect 依赖于随时间变化的 props 和 state，这个循环可能会发生多次。</li></ol><h3 id="使用自定义-Hook-复用逻辑"><a href="#使用自定义-Hook-复用逻辑" class="headerlink" title="使用自定义 Hook 复用逻辑"></a>使用自定义 Hook 复用逻辑</h3><ol><li>React 有一些内置 Hook，例如 useState，useContext 和 useEffect。有时需要用途更特殊的 Hook：例如获取数据，记录用户是否在线或者连接聊天室。为了实现效果，可以根据应用需求创建自己的 Hook。</li><li>你可以创建自定义 Hooks，将它们组合在一起，在它们之间传递数据，并在组件之间重用它们。随着应用不断变大，你将减少手动编写的 Effect，因为你将能够重用已经编写的自定义 Hooks。React 社区也维护了许多优秀的自定义 Hooks。</li></ol>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>react</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>macOS 终端操作：高频快捷键及命令速查</title>
    <link href="/2023/11/22/Resources/macCommandUsed/"/>
    <url>/2023/11/22/Resources/macCommandUsed/</url>
    
    <content type="html"><![CDATA[<h3 id="1、修改文件权限"><a href="#1、修改文件权限" class="headerlink" title="1、修改文件权限"></a>1、修改文件权限</h3><p><code>sudo chmod -R 777 文件名称</code></p><h3 id="2、修改hosts"><a href="#2、修改hosts" class="headerlink" title="2、修改hosts"></a>2、修改hosts</h3><ol><li>终端打开hosts文件命令：<br> <code>sudo vim /private/etc/hosts</code><br> <code>sudo vi /etc/hosts</code><ol><li>sudo vi &#x2F;etc&#x2F;hosts</li><li>提示输入个人电脑密码</li><li>此时输入E，点击enter</li><li>看到hosts，此时输入i，看到命令行下面显示insert，输入自己需要修改的host</li><li>点击esc退出编辑</li><li>按住shift 和 :，输入wq保存退出</li></ol></li><li>访达中修改hosts<ol><li>访达中打开通过<code>command+shift+g</code>找到<code>/etc/hosts</code> </li><li>右键选择打开方式，选择文本编辑&#x2F;其他编辑器</li></ol></li></ol><h3 id="3、显示“隐藏文件”"><a href="#3、显示“隐藏文件”" class="headerlink" title="3、显示“隐藏文件”"></a>3、显示“隐藏文件”</h3><ol><li>局部：<br>操作快捷键 <code>command+shift+.</code></li><li>全局：<br><code>defaults write com.apple.finder AppleShowAllFiles -bool true</code><br> Mac关闭“显示隐藏文件”命令：<br><code>defaults write com.apple.finder AppleShowAllFiles -bool false</code></li></ol><h3 id="4、查看8080端口占用情况"><a href="#4、查看8080端口占用情况" class="headerlink" title="4、查看8080端口占用情况"></a>4、查看8080端口占用情况</h3><p><code>sudo lsof -i tcp:8080 </code></p><h3 id="5、80端口转向8080"><a href="#5、80端口转向8080" class="headerlink" title="5、80端口转向8080"></a>5、80端口转向8080</h3><p><strong>（以下34配置在mac重启后需重新加载）</strong></p><ol><li><code>sudo vim /etc/pf.conf</code></li><li>在<code>rdr-anchor “com.apple/* </code>后面加上如下这一行（代表将发到80端口的数据转发到8080上,8080可以更改成自己的端口）<br><code>rdr on lo0 inet proto tcp from any to 127.0.0.1 port 80 -&gt; 127.0.0.1 port 8080</code></li><li>重新加载配置<br><code>sudo pfctl -f /etc/pf.conf</code></li><li>启动<br><code>sudo pfctl -e</code></li></ol><h3 id="6、查看运行状态"><a href="#6、查看运行状态" class="headerlink" title="6、查看运行状态"></a>6、查看运行状态</h3><p><code>ps -ef | grep nginx</code> 查看nginx运行状态<br><code>ps -ef|grep java</code> 查看java占用</p><h3 id="7、终止进程"><a href="#7、终止进程" class="headerlink" title="7、终止进程"></a>7、终止进程</h3><p><code>kill -9 pid</code> 例如：<code>kill -9 1234</code></p><ol><li>查看进程号：<code>ps -ef|grep java</code></li><li>杀死进程：<code>kill -9 pid</code></li></ol><h3 id="8、访达中访问具体目录"><a href="#8、访达中访问具体目录" class="headerlink" title="8、访达中访问具体目录"></a>8、访达中访问具体目录</h3><p><code>command+shift+g</code> 输入路径即可访问</p><h3 id="9、打开强制退出程序窗口"><a href="#9、打开强制退出程序窗口" class="headerlink" title="9、打开强制退出程序窗口"></a>9、打开强制退出程序窗口</h3><p><code>Command+Option+Esc</code></p><h3 id="10、终端基础命令"><a href="#10、终端基础命令" class="headerlink" title="10、终端基础命令"></a>10、终端基础命令</h3><ol><li><code>pwd</code>显示当前所在目录</li><li><code>ls</code> 文件内部列表展示</li><li><code>cd</code> 进入内部某个对象 可按tab健自动补全</li><li><code>Control + U</code> 删除光标前所有内容</li><li><code>Control + K</code>    删除光标后所有内容</li><li><code>Command + K</code>    清空终端显示 不会影响当前输入</li><li><code>Control + Y</code>    粘贴最后一次删除的内容&#x2F;撤销删除</li><li><code>Control + A</code>    光标移动到行首</li><li><code>cd ..</code> 返回上一级目录</li><li><code>cd ~</code> 回到用户目录</li><li><code>cd -</code> 回到上一个目录</li><li><code>touch 文件名</code> 创建文件</li><li><code>rm 文件名</code> 删除文件</li><li><code>rm -rf 目录名</code> 删除文件夹</li><li><code>mkdir 目录名</code> 新建文件夹</li><li><code>mv 原文件名 新文件名</code> 重命名</li><li><code>cp 原文件名 新文件名</code> 复制文件</li><li><code>cat 文件名</code> 查看文件内容</li><li><code>open 文件名</code> 打开文件</li><li><code>open .</code> 打开当前目录</li><li><code>open -a 文件名</code> 打开指定文件</li></ol>]]></content>
    
    
    <categories>
      
      <category>mac</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mac</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>快速查询-数组常用函数</title>
    <link href="/2023/11/20/Front-end/JavaScript/JsArray/"/>
    <url>/2023/11/20/Front-end/JavaScript/JsArray/</url>
    
    <content type="html"><![CDATA[<h2 id="1、创建"><a href="#1、创建" class="headerlink" title="1、创建"></a>1、创建</h2><table><thead><tr><th>函数</th><th>锚点</th></tr></thead><tbody><tr><td><code>var arr = new Array()</code></td><td><a href="#create">LINK</a></td></tr><tr><td><code>var arr = new Array(10)</code></td><td><a href="#create">LINK</a></td></tr><tr><td><code>var arr = Array(7)</code></td><td><a href="#create">LINK</a></td></tr><tr><td><code>var arr = Array.of(7)</code></td><td><a href="#create">LINK</a></td></tr></tbody></table><h2 id="2、增加"><a href="#2、增加" class="headerlink" title="2、增加"></a>2、增加</h2><table><thead><tr><th>函数</th><th>简述</th><th>锚点</th></tr></thead><tbody><tr><td><code>concat()</code></td><td>合并</td><td><a href="#concat">LINK</a></td></tr><tr><td><code>unshift()</code></td><td>向开头添加</td><td><a href="#unshift">LINK</a></td></tr><tr><td><code>push()</code></td><td>向末尾添加</td><td><a href="#push">LINK</a></td></tr><tr><td><code>splice()</code></td><td>可选参数用于添加</td><td><a href="#splice">LINK</a></td></tr><tr><td><code>...</code></td><td>扩展运算符合并</td><td><a href="#spreadOperator">LINK</a></td></tr></tbody></table><h2 id="3、分割"><a href="#3、分割" class="headerlink" title="3、分割"></a>3、分割</h2><table><thead><tr><th>函数</th><th>简述</th><th>锚点</th></tr></thead><tbody><tr><td><code>slice()</code></td><td>返回数组的一个浅拷贝,切割</td><td><a href="#slice">LINK</a></td></tr><tr><td><code>splice()</code></td><td>通过删除元素，可以分割数组</td><td><a href="#splice">LINK</a></td></tr></tbody></table><h2 id="4、删除"><a href="#4、删除" class="headerlink" title="4、删除"></a>4、删除</h2><table><thead><tr><th>函数</th><th>简述</th><th>锚点</th></tr></thead><tbody><tr><td><code>splice()</code></td><td>删除指定位置的元素，并修改原数组</td><td><a href="#splice">LINK</a></td></tr><tr><td><code>pop()</code></td><td>删除数组的最后一个元素，并返回被删除的元素</td><td><a href="#pop">LINK</a></td></tr><tr><td><code>shift()</code></td><td>删除数组的第一个元素，并返回该元素</td><td><a href="#shift">LINK</a></td></tr><tr><td><code>filter()</code></td><td>不会直接修改原数组，而是返回一个新的数组，包含满足条件的元素</td><td><a href="#filter">LINK</a></td></tr><tr><td><code>delete</code></td><td>删除数组中的元素，但不会改变数组的长度，被删除的位置会变为 undefined <strong>(不建议使用)</strong></td><td><a href="#delete">LINK</a></td></tr><tr><td><code>length</code></td><td>修改数组的 length 属性来删除数组末尾的元素</td><td><a href="#lengthDelete">LINK</a></td></tr></tbody></table><h2 id="5、修改"><a href="#5、修改" class="headerlink" title="5、修改"></a>5、修改</h2><table><thead><tr><th>函数</th><th>简述</th><th>锚点</th></tr></thead><tbody><tr><td><code>constructor</code></td><td></td><td><a href="#constructor">LINK</a></td></tr><tr><td><code>prototype</code></td><td></td><td><a href="#prototype">LINK</a></td></tr><tr><td><code>length</code></td><td></td><td><a href="#length">LINK</a></td></tr><tr><td><code>valueOf()</code></td><td></td><td><a href="#valueOf">LINK</a></td></tr><tr><td><code>toString()</code></td><td></td><td><a href="#toString">LINK</a></td></tr></tbody></table><h2 id="6、查询"><a href="#6、查询" class="headerlink" title="6、查询"></a>6、查询</h2><table><thead><tr><th>函数</th><th>简述</th><th>锚点</th></tr></thead><tbody><tr><td><code>indexOf()</code></td><td>查找指定元素在数组中的索引，返回该元素的第一个匹配项的索引。如果找不到，返回 -1</td><td><a href="#indexOf">LINK</a></td></tr><tr><td><code>lastIndexOf()</code></td><td>从数组的末尾开始查找元素，返回最后一个匹配项的索引</td><td><a href="#lastIndexOf">LINK</a></td></tr><tr><td><code>find()</code></td><td>查找数组中第一个满足条件的元素，返回该元素。如果没有找到满足条件的元素，返回 undefined。</td><td><a href="#find">LINK</a></td></tr><tr><td><code>findIndex()</code></td><td>查找数组中第一个满足条件的元素的索引。如果没有找到满足条件的元素，返回 -1。</td><td><a href="#findIndex">LINK</a></td></tr><tr><td><code>includes()</code></td><td>检查数组中是否包含某个元素，返回 true 或 false。</td><td><a href="#includes">LINK</a></td></tr><tr><td><code>some()</code></td><td>检查数组中是否至少有一个元素满足条件，返回 true 或 false。</td><td><a href="#some">LINK</a></td></tr><tr><td><code>every()</code></td><td>检查数组中的所有元素是否都满足指定条件，返回 true 或 false。</td><td><a href="#every">LINK</a></td></tr><tr><td><code>filter()</code></td><td>不会直接修改原数组，而是返回一个新的数组，包含满足条件的元素</td><td><a href="#filter">LINK</a></td></tr><tr><td><code>reduce()</code></td><td>遍历数组并进行累积计算，可以根据需要进行自定义查询逻辑</td><td><a href="#reduce">LINK</a></td></tr></tbody></table><h2 id="7、循环"><a href="#7、循环" class="headerlink" title="7、循环"></a>7、循环</h2><table><thead><tr><th>函数</th><th>简述</th><th>锚点</th></tr></thead><tbody><tr><td><code>for</code></td><td>最基础的循环方式</td><td><a href="#for">LINK</a></td></tr><tr><td><code>for...of</code></td><td>ES6 引入的循环方式，它可以直接遍历数组的元素</td><td><a href="#forOf">LINK</a></td></tr><tr><td><code>while</code></td><td>while 循环是一个常规的循环结构，当需要手动控制循环终止条件时可以使用</td><td><a href="#while">LINK</a></td></tr><tr><td><code>do...while</code></td><td>do…while 与 while 类似，但它会先执行循环体再检查条件</td><td><a href="#doWhile">LINK</a></td></tr><tr><td><code>forEach()</code></td><td>对数组的每个元素执行一次提供的回调函数,不能中途跳出循环</td><td><a href="#forEach">LINK</a></td></tr><tr><td><code>map()</code></td><td>会遍历数组的每个元素，并返回一个新的数组，其中每个元素都是通过回调函数处理后的结果</td><td><a href="#map">LINK</a></td></tr><tr><td><code>filter()</code></td><td>遍历数组的每个元素，返回一个新的数组，包含所有满足条件的元素</td><td><a href="#filter">LINK</a></td></tr><tr><td><code>every()</code></td><td>检查数组中的所有元素是否都满足指定条件，返回 true 或 false。</td><td><a href="#every">LINK</a></td></tr><tr><td><code>some()</code></td><td>检查数组中是否至少有一个元素满足条件，返回 true 或 false。</td><td><a href="#some">LINK</a></td></tr><tr><td><code>reduce()</code></td><td>遍历数组并进行累积计算，可以根据需要进行自定义查询逻辑</td><td><a href="#reduce">LINK</a></td></tr><tr><td><code>reduceRight()</code></td><td>从数组的末尾向前将数组中的数组项做累加</td><td><a href="#reduceRight">LINK</a></td></tr></tbody></table><h2 id="8、排序"><a href="#8、排序" class="headerlink" title="8、排序"></a>8、排序</h2><table><thead><tr><th>函数</th><th>简述</th><th>锚点</th></tr></thead><tbody><tr><td><code>sort()</code></td><td></td><td><a href="#sort">LINK</a></td></tr></tbody></table><h2 id="9、去重"><a href="#9、去重" class="headerlink" title="9、去重"></a>9、去重</h2><ol><li><h3 id="使用-Set"><a href="#使用-Set" class="headerlink" title="使用 Set"></a>使用 Set</h3><ol><li>Set 是 JavaScript 中的一个数据结构，它只允许存储唯一的值。因此，使用 Set 可以轻松去除数组中的重复项。</li><li>示例 <figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs smali">const<span class="hljs-built_in"> array </span>= [1, 2, 3, 4, 4, 3, 5];<span class="hljs-built_in"></span><br><span class="hljs-built_in">const </span>uniqueArray = [...new Set(array)];<br><br>console.log(uniqueArray); // [1, 2, 3, 4, 5]<br></code></pre></td></tr></table></figure></li></ol></li><li><h3 id="filter-indexOf"><a href="#filter-indexOf" class="headerlink" title="filter() + indexOf()"></a>filter() + indexOf()</h3><ol><li>通过 filter() 方法配合 indexOf() 来判断元素的首次出现位置，去除后续重复的元素。</li><li>示例 <figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs smali">const<span class="hljs-built_in"> array </span>= [1, 2, 3, 4, 4, 3, 5];<span class="hljs-built_in"></span><br><span class="hljs-built_in">const </span>uniqueArray = array.filter((item, index) =&gt; array.indexOf(item) === index);<br><br>console.log(uniqueArray); // [1, 2, 3, 4, 5]<br></code></pre></td></tr></table></figure></li></ol></li><li><h3 id="使用-reduce"><a href="#使用-reduce" class="headerlink" title="使用 reduce()"></a>使用 reduce()</h3><ol><li>reduce() 方法可以通过累加器来逐步构建一个新的数组，并通过判断是否已经存在元素来实现去重。</li><li>示例 <figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs smali">const<span class="hljs-built_in"> array </span>= [1, 2, 3, 4, 4, 3, 5];<span class="hljs-built_in"></span><br><span class="hljs-built_in">const </span>uniqueArray = array.reduce((acc, item) =&gt; &#123;<br> <span class="hljs-built_in"> if </span>(!acc.includes(item)) &#123;<br>    acc.push(item);<br>  &#125;<br> <span class="hljs-built_in"> return </span>acc;<br>&#125;, []);<br><br>console.log(uniqueArray); // [1, 2, 3, 4, 5]<br></code></pre></td></tr></table></figure></li></ol></li><li><h3 id="forEach-和-includes"><a href="#forEach-和-includes" class="headerlink" title="forEach() 和 includes()"></a>forEach() 和 includes()</h3><ol><li>可以手动遍历数组，并将不重复的元素添加到新的数组中。</li><li>示例 <figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs smali">const<span class="hljs-built_in"> array </span>= [1, 2, 3, 4, 4, 3, 5];<span class="hljs-built_in"></span><br><span class="hljs-built_in">const </span>uniqueArray = [];<br>array.forEach(item =&gt; &#123;<br> <span class="hljs-built_in"> if </span>(!uniqueArray.includes(item)) &#123;<br>    uniqueArray.push(item);<br>  &#125;<br>&#125;);<br><br>console.log(uniqueArray); // [1, 2, 3, 4, 5]<br></code></pre></td></tr></table></figure></li></ol></li><li><h3 id="使用-Map"><a href="#使用-Map" class="headerlink" title="使用 Map"></a>使用 Map</h3><ol><li>可以使用 Map 数据结构来检测每个元素是否已存在，从而实现数组去重。</li><li>示例 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arcade">const <span class="hljs-built_in">array</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>];<br>const <span class="hljs-built_in">map</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();<br>const uniqueArray = <span class="hljs-built_in">array</span>.<span class="hljs-built_in">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> !<span class="hljs-built_in">map</span>.has(item) &amp;&amp; <span class="hljs-built_in">map</span>.set(item, <span class="hljs-number">1</span>));<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(uniqueArray); <span class="hljs-comment">// [1, 2, 3, 4, 5]</span><br></code></pre></td></tr></table></figure></li></ol></li><li><h3 id="支持深度去重的方案（针对对象数组）"><a href="#支持深度去重的方案（针对对象数组）" class="headerlink" title="支持深度去重的方案（针对对象数组）"></a>支持深度去重的方案（针对对象数组）</h3><ol><li>如果数组元素是对象类型，通过比较对象的特性进行深度去重。</li><li>示例 <figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xquery">const <span class="hljs-keyword">array</span> = [&#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">1</span> &#125;, &#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">2</span> &#125;, &#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">1</span> &#125;];<br>const uniqueArray = <span class="hljs-keyword">array</span><span class="hljs-built_in">.filter</span>((<span class="hljs-type">item</span>, index, self) =&gt;<br>  index === self.findIndex((t) =&gt; t<span class="hljs-built_in">.id</span> === <span class="hljs-type">item</span><span class="hljs-built_in">.id</span>)<br>);<br><br>console.log(uniqueArray); // [&#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">1</span> &#125;, &#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">2</span> &#125;]<br></code></pre></td></tr></table></figure></li></ol></li></ol><h2 id="具体内容"><a href="#具体内容" class="headerlink" title="具体内容"></a>具体内容</h2><ol><li><h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a><a id="create">创建数组</a></h3><ol><li><h4 id="var-arr-new-Array"><a href="#var-arr-new-Array" class="headerlink" title="var arr &#x3D; new Array()"></a>var arr &#x3D; new Array()</h4><ol><li>创建一个空数组</li></ol></li><li><h4 id="var-arr-new-Array-10"><a href="#var-arr-new-Array-10" class="headerlink" title="var arr &#x3D; new Array(10)"></a>var arr &#x3D; new Array(10)</h4><ol><li>创建一个包含10项的数组</li></ol></li><li><h4 id="var-arr-Array-7"><a href="#var-arr-Array-7" class="headerlink" title="var arr &#x3D; Array(7)"></a>var arr &#x3D; Array(7)</h4><ol><li>创建一个长度为7的空数组（注意：这是指一个有7个空位(empty)的数组，而不是由7个undefined组成的数组）</li></ol></li><li><h4 id="var-arr-Array-of-7"><a href="#var-arr-Array-of-7" class="headerlink" title="var arr &#x3D; Array.of(7)"></a>var arr &#x3D; Array.of(7)</h4><ol><li>创建一个包含1个字符串7的数组</li></ol></li></ol></li><li><h3 id="length"><a href="#length" class="headerlink" title="length"></a>length</h3><ol><li>语法： <code>array.length</code></li><li>作用： 设置或返回数组中元素的数目</li></ol></li><li><h3 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h3><ol><li><ol><li>向对象添加属性和方法</li></ol></li></ol></li><li><h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><ol><li>返回对创建此对象的数组函数的引用</li></ol></li><li><h3 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf()"></a>valueOf()</h3><ol><li>语法：<code>array.valueOf()</code></li><li>解析：返回 Array 对象的原始值。该原始值由 Array 对象派生的所有对象继承。valueOf() 方法通常由 JavaScript 在后台自动调用，并不显式地出现在代码中。</li><li>是否改变原数组：N</li></ol></li><li><h3 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h3><ol><li>语法：<code>arrayObject.concat(arrayX,arrayX,......,arrayX)</code> <figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haxe">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>let <span class="hljs-keyword">new</span><span class="hljs-type">Arr</span> = arr.concat([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]); <span class="hljs-comment">// 合并数组</span><br>console.log(<span class="hljs-keyword">new</span><span class="hljs-type">Arr</span>); <span class="hljs-comment">// 输出: [1, 2, 3, 4, 5]</span><br></code></pre></td></tr></table></figure></li><li>解析：连接两个或多个数组</li><li>是否改变原数组: N</li></ol></li><li><h3 id="join"><a href="#join" class="headerlink" title="join()"></a>join()</h3><ol><li>语法：<code>arrayObject.join(separator) /*separator-分隔符*/</code></li><li>解析：把数组中的所有元素放入一个字符串</li><li>是否改变原数组: N</li></ol></li><li><h3 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a>reverse()</h3><ol><li>语法：<code>arrayObject.reverse()</code></li><li>解析：颠倒数组中元素的顺序</li><li>是否改变原数组: Y</li></ol></li><li><h3 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h3><ol><li><p>语法：<code>arrayObject.sort(sortby) sortby 可选。规定排序顺序。必须是函数。</code></p></li><li><p>解析：sort() 方法用于对数组的元素进行排序,并返回数组。默认排序顺序是根据字符串Unicode码点。</p></li><li><p>是否改变原数组: Y</p></li><li><p>不传参数，将不会按照数值大小排序，按照字符编码的顺序进行排序；</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> arr = [<span class="hljs-string">&#x27;General&#x27;</span>,<span class="hljs-string">&#x27;Tom&#x27;</span>,<span class="hljs-string">&#x27;Bob&#x27;</span>,<span class="hljs-string">&#x27;John&#x27;</span>,<span class="hljs-string">&#x27;Army&#x27;</span>];<br><span class="hljs-keyword">var</span> resArr = arr.<span class="hljs-title function_">sort</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(resArr);<span class="hljs-comment">//输出   [&quot;Army&quot;, &quot;Bob&quot;, &quot;General&quot;, &quot;John&quot;,&quot;Tom&quot;]</span><br><br><span class="hljs-keyword">var</span> arr2 = [<span class="hljs-number">30</span>,<span class="hljs-number">10</span>,<span class="hljs-number">111</span>,<span class="hljs-number">35</span>,<span class="hljs-number">1899</span>,<span class="hljs-number">50</span>,<span class="hljs-number">45</span>];<br><span class="hljs-keyword">var</span> resArr2 = arr2.<span class="hljs-title function_">sort</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(resArr2);<span class="hljs-comment">//输出   [10, 111, 1899, 30, 35, 45, 50]</span><br></code></pre></td></tr></table></figure></li><li><p>传入参数，实现升序，降序；</p> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs arcade">  <span class="hljs-keyword">var</span> arr3 = [<span class="hljs-number">30</span>,<span class="hljs-number">10</span>,<span class="hljs-number">111</span>,<span class="hljs-number">35</span>,<span class="hljs-number">1899</span>,<span class="hljs-number">50</span>,<span class="hljs-number">45</span>];<br>arr3.<span class="hljs-built_in">sort</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br><span class="hljs-keyword">return</span> a - b;<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr3);<span class="hljs-comment">//输出  [10, 30, 35, 45, 50, 111, 1899]</span><br><br><span class="hljs-keyword">var</span> arr4 = [<span class="hljs-number">30</span>,<span class="hljs-number">10</span>,<span class="hljs-number">111</span>,<span class="hljs-number">35</span>,<span class="hljs-number">1899</span>,<span class="hljs-number">50</span>,<span class="hljs-number">45</span>];<br>arr4.<span class="hljs-built_in">sort</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)&#123;<br><span class="hljs-keyword">return</span> b - a;<br>&#125;)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr4);<span class="hljs-comment">//输出 [1899, 111, 50, 45, 35, 30, 10]</span><br><br></code></pre></td></tr></table></figure></li><li><p>根据数组中的对象的某个属性值排序；</p> <figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs qml">  <span class="hljs-keyword">var</span> arr5 = [&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">10&#125;,&#123;id</span>:<span class="hljs-number">5</span>&#125;,&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">6&#125;,&#123;id</span>:<span class="hljs-number">9</span>&#125;,&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">2&#125;,&#123;id</span>:<span class="hljs-number">3</span>&#125;];<br>arr5.sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)</span>&#123;<br><span class="hljs-keyword">return</span> a.id - b.id<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr5);<br><span class="hljs-comment">//输出新的排序</span><br><span class="hljs-comment">//&#123;id: 2&#125;</span><br><span class="hljs-comment">//&#123;id: 3&#125;</span><br><span class="hljs-comment">//&#123;id: 5&#125;</span><br><span class="hljs-comment">//&#123;id: 6&#125;</span><br><span class="hljs-comment">//&#123;id: 9&#125;</span><br><span class="hljs-comment">//&#123;id: 10&#125;</span><br><br></code></pre></td></tr></table></figure></li><li><p>根据数组中的对象的多个属性值排序，多条件排序；</p> <figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs qml">      <span class="hljs-keyword">var</span> arr6 = [&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">10,age</span>:<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">5,age</span>:<span class="hljs-number">4</span>&#125;,&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">6,age</span>:<span class="hljs-number">10</span>&#125;,&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">9,age</span>:<span class="hljs-number">6</span>&#125;,&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">2,age</span>:<span class="hljs-number">8</span>&#125;,&#123;<span class="hljs-attribute">id:</span><span class="hljs-string">10,age</span>:<span class="hljs-number">9</span>&#125;];<br>arr6.sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a,b</span>)</span>&#123;<br><span class="hljs-keyword">if</span>(a.id === b.id)&#123;<span class="hljs-comment">//如果id相同，按照age的降序</span><br><span class="hljs-keyword">return</span> b.age - a.age<br>&#125;<span class="hljs-title">else</span>&#123;<br><span class="hljs-keyword">return</span> a.id - b.id<br>&#125;<br>&#125;)<br><span class="hljs-built_in">console</span>.log(arr6);<br><span class="hljs-comment">//输出新的排序</span><br><span class="hljs-comment">//&#123;id: 2, age: 8&#125;</span><br><span class="hljs-comment">//&#123;id: 5, age: 4&#125;</span><br><span class="hljs-comment">//&#123;id: 6, age: 10&#125;</span><br><span class="hljs-comment">//&#123;id: 9, age: 6&#125;</span><br><span class="hljs-comment">//&#123;id: 10, age: 9&#125;</span><br><span class="hljs-comment">//&#123;id: 10, age: 2&#125;</span><br><br></code></pre></td></tr></table></figure></li></ol></li><li><h3 id="pop"><a href="#pop" class="headerlink" title="pop()"></a>pop()</h3><ol><li>语法：<code>arrayObject.pop()</code></li><li>解析：删除并返回数组的最后一个元素。删除 arrayObject 的最后一个元素，把数组长度减 1，并且返回它删除的元素的值。如果数组已经为空，则 pop() 不改变数组，并返回 undefined 值</li><li>是否改变原数组: Y</li></ol></li><li><h3 id="shift"><a href="#shift" class="headerlink" title="shift()"></a>shift()</h3><ol><li>语法：<code>arrayObject.shift()</code></li><li>解析：把数组的第一个元素从其中删除，并返回第一个元素的值。如果数组是空的，那么 shift() 方法将不进行任何操作，返回 undefined 值。请注意，该方法不创建新数组，而是直接修改原有的 arrayObject。</li><li>是否改变原数组: Y</li></ol></li><li><h3 id="unshift"><a href="#unshift" class="headerlink" title="unshift()"></a>unshift()</h3><ol><li>语法：<code>arrayObject.unshift(newelement1,newelement2,....,newelementX)</code> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.unshift(<span class="hljs-number">0</span>); <span class="hljs-comment">// 在数组开头添加元素</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr); <span class="hljs-comment">// 输出: [0, 1, 2, 3]</span><br></code></pre></td></tr></table></figure></li><li>解析：向数组的开头添加一个或更多元素，并返回新的长度</li><li>返回值：arrayObject 的新长度。</li><li>是否改变原数组:</li></ol></li><li><h3 id="push"><a href="#push" class="headerlink" title="push()"></a>push()</h3><ol><li>语法：<code>arrayObject.push(newelement1,newelement2,....,newelementX)</code> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-built_in">push</span>(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// 添加多个元素</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr); <span class="hljs-comment">// 输出: [1, 2, 3, 4, 5]</span><br></code></pre></td></tr></table></figure></li><li>解析：向数组的末尾添加一个或多个元素，并返回新的长度。</li><li>是否改变原数组: Y</li></ol></li><li><h3 id="slice"><a href="#slice" class="headerlink" title="slice()"></a>slice()</h3><ol><li>语法：<code>arrayObject.slice(start,end)   /*-1 指最后一个元素*/</code> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let subArray = arr.<span class="hljs-built_in">slice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>); <span class="hljs-comment">// 从索引 1 开始，到索引 4 结束（不包括 4）</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(subArray); <span class="hljs-comment">// 输出: [2, 3, 4]</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr); <span class="hljs-comment">// 原数组未变，输出: [1, 2, 3, 4, 5]</span><br></code></pre></td></tr></table></figure></li><li>解析：从已有的数组中返回选定的元素。返回一个新的数组，包含从 start 到 end （不包括该元素）的 arrayObject 中的元素</li><li>是否改变原数组: N</li></ol></li><li><h3 id="splice"><a href="#splice" class="headerlink" title="splice()"></a>splice()</h3><ol><li>语法：<code>arrayObject.splice(index,howmany,item1,.....,itemX)/* ary.splice(下标，删除数量，可选参数用于添加新项目)</code><ol><li>添加 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>arr.<span class="hljs-built_in">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1.5</span>); <span class="hljs-comment">// 在索引1处插入1.5</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr); <span class="hljs-comment">// 输出: [1, 1.5, 2, 3]</span><br></code></pre></td></tr></table></figure></li><li>删除 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let removedElements = arr.<span class="hljs-built_in">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// 从索引 1 开始删除 3 个元素</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(removedElements); <span class="hljs-comment">// 输出: [2, 3, 4]</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr); <span class="hljs-comment">// 原数组被修改，输出: [1, 5]</span><br></code></pre></td></tr></table></figure></li></ol></li><li>解析：向&#x2F;从数组中添加&#x2F;删除项目，然后返回被删除的项目。</li><li>是否改变原数组: Y</li></ol></li><li><h3 id="spreadOperator"><a href="#spreadOperator" class="headerlink" title="spreadOperator"></a>spreadOperator</h3><ol><li>语法 <figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haxe">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>let <span class="hljs-keyword">new</span><span class="hljs-type">Arr</span> = [...arr, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]; <span class="hljs-comment">// 在末尾添加</span><br>console.log(<span class="hljs-keyword">new</span><span class="hljs-type">Arr</span>); <span class="hljs-comment">// 输出: [1, 2, 3, 4, 5]</span><br></code></pre></td></tr></table></figure></li><li>解析: 扩展运算符 … 可以用于合并数组，创建新数组。</li><li>是否改变原数组: N</li></ol></li><li><h3 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h3><ol><li>语法 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let filteredArr = arr.<span class="hljs-built_in">filter</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> element !== <span class="hljs-number">3</span>); <span class="hljs-comment">// 删除等于3的元素</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(filteredArr); <span class="hljs-comment">// 输出: [1, 2, 4, 5]</span><br></code></pre></td></tr></table></figure></li><li>解析: filter() 方法不会直接修改原数组，而是返回一个新的数组，包含满足条件的元素。可以利用它来排除某些元素。不会对空数组进行检测,没有符合条件的元素则返回空数组.</li><li>是否改变原数组: N</li></ol></li><li><h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><ol><li>语法 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">delete</span> arr[<span class="hljs-number">2</span>]; <span class="hljs-comment">// 删除索引为2的元素</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr); <span class="hljs-comment">// 输出: [1, 2, undefined, 4, 5]</span><br></code></pre></td></tr></table></figure></li><li>解析: 使用 delete 只是将元素从数组中删除，但并不会改变数组长度，因此可能会出现空洞。</li></ol></li><li><h3 id="lengthDelete"><a href="#lengthDelete" class="headerlink" title="lengthDelete"></a>lengthDelete</h3><ol><li>语法 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>arr.<span class="hljs-built_in">length</span> = <span class="hljs-number">3</span>; <span class="hljs-comment">// 将数组长度设置为3</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr); <span class="hljs-comment">// 输出: [1, 2, 3]</span><br></code></pre></td></tr></table></figure></li><li>解析: 可以通过修改数组的 length 属性来删除数组末尾的元素。</li><li>是否改变原数组: Y</li></ol></li><li><h3 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h3><ol><li>语法：<code>array.indexOf(item,start)/* indexOf(查找的元素，可选参数规定开始检索得位置取值范围 [0-stringObject.length -1 ] )</code></li><li>解析：返回数组中某个指定的元素位置 从头到尾地检索数组</li><li>返回值：元素在数组中的位置，如果没有搜索到则返回-1</li><li>是否改变原数组: N</li></ol></li><li><h3 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf()"></a>lastIndexOf()</h3><ol><li>语法：<code>stringObject.lastIndexOf(searchvalue,fromindex)</code></li><li>解析：返回一个指定的字符串值最后出现的位置，在一个字符串中的指定位置从后向前搜索</li><li>返回值：如果要检索的字符串值没有出现，则该方法返回 -1</li><li>是否改变原数组: N</li></ol></li><li><h3 id="find"><a href="#find" class="headerlink" title="find()"></a>find()</h3><ol><li>语法： <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let found = arr.<span class="hljs-built_in">find</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> element &gt; <span class="hljs-number">3</span>); <span class="hljs-comment">// 查找第一个大于3的元素</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(found); <span class="hljs-comment">// 输出: 4</span><br></code></pre></td></tr></table></figure></li><li>解析：find() 方法用于查找数组中第一个满足条件的元素，返回该元素。如果没有找到满足条件的元素，返回 undefined。</li><li>是否改变原数组: N</li></ol></li><li><h3 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex()"></a>findIndex()</h3><ol><li>语法： <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let index = arr.findIndex(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> element &gt; <span class="hljs-number">3</span>); <span class="hljs-comment">// 查找第一个大于3的元素的索引</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(index); <span class="hljs-comment">// 输出: 3</span><br></code></pre></td></tr></table></figure></li><li>解析：findIndex() 方法用于查找数组中第一个满足条件的元素的索引。如果没有找到满足条件的元素，返回 -1。</li><li>是否改变原数组: N</li></ol></li><li><h3 id="includes"><a href="#includes" class="headerlink" title="includes()"></a>includes()</h3><ol><li>语法： <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let hasElement = arr.<span class="hljs-built_in">includes</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// 检查是否包含元素3</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(hasElement); <span class="hljs-comment">// 输出: true</span><br></code></pre></td></tr></table></figure></li><li>解析：includes() 方法检查数组中是否包含某个元素，返回 true 或 false。</li><li>是否改变原数组: N</li></ol></li><li><h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><ol><li>语法：<code>array.toString()</code></li><li>解析：直接转为字符串，并返回</li><li>是否改变原数组:</li></ol></li><li><h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a>forEach()</h3><ol><li>语法：<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">array</span>.<span class="hljs-keyword">forEach</span>(<span class="hljs-keyword">function</span>(currentValue, <span class="hljs-keyword">index</span>, arr), thisValue)<br>currentValue 当前元素<br><span class="hljs-keyword">index</span> 当前元素的索引值<br>arr 当前元素所属的数组对象<br>thisValue 可选。传递给函数的值一般用 &quot;this&quot; 值。<br>如果这个参数为空， &quot;undefined&quot; 会传递给 &quot;this&quot; 值<br></code></pre></td></tr></table></figure></li><li>解析：调用数组的每个元素，并将元素传递给回调函数。对于空数组是不会执行回调函数的。</li><li>是否改变原数组: N</li></ol></li><li><h3 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h3><ol><li>语法：<code>array.map(function(currentValue,index,arr), thisValue)同上</code></li><li>解析：返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。按照原始数组元素顺序依次处理元素。不会对空数组进行检测。</li><li>是否改变原数组: N</li></ol></li><li><h3 id="every"><a href="#every" class="headerlink" title="every()"></a>every()</h3><ol><li>语法：<code>array.every(function(currentValue,index,arr), thisValue)</code> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let allLessThanSix = arr.every(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> element &lt; <span class="hljs-number">6</span>); <span class="hljs-comment">// 检查所有元素是否都小于6</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(allLessThanSix); <span class="hljs-comment">// 输出: true</span><br></code></pre></td></tr></table></figure></li><li>解析：用于检测数组所有元素是否都符合指定条件。如果数组中检测到有一个元素不满足，则整个表达式返回 false ，且剩余的元素不会再进行检测。如果所有元素都满足条件，则返回 true。不会对空数组进行检测</li><li>是否改变原数组: N</li></ol></li><li><h3 id="some"><a href="#some" class="headerlink" title="some()"></a>some()</h3><ol><li>语法：<code>array.some(function(currentValue,index,arr),thisValue)</code> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let hasLargeNumber = arr.some(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> element &gt; <span class="hljs-number">4</span>); <span class="hljs-comment">// 检查是否有大于4的元素</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(hasLargeNumber); <span class="hljs-comment">// 输出: true</span><br></code></pre></td></tr></table></figure></li><li>解析：用于检测数组中的元素是否满足指定条件；会依次执行数组的每个元素；如果有一个元素满足条件，则表达式返回true , 剩余的元素不会再执行检测；如果没有满足条件的元素，则返回false；不会对空数组进行检测</li><li>是否改变原数组: N</li></ol></li><li><h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><ol><li>语法 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-built_in">length</span>; i++) &#123;<br>  <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr[i]); <span class="hljs-comment">// 输出每个元素</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li>解析: for 循环是最基础的循环方式，可以手动控制索引，适用于任何循环场景。</li></ol></li><li><h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><ol><li>语法 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (i &lt; arr.<span class="hljs-built_in">length</span>) &#123;<br>  <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr[i]); <span class="hljs-comment">// 输出每个元素</span><br>  i++;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>解析: while 循环是一个常规的循环结构，当需要手动控制循环终止条件时可以使用。</li></ol></li><li><h3 id="doWhile"><a href="#doWhile" class="headerlink" title="doWhile"></a>doWhile</h3><ol><li>语法 <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">do</span> &#123;<br>  <span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(arr[i]); <span class="hljs-comment">// 输出每个元素</span><br>  i++;<br>&#125; <span class="hljs-keyword">while</span> (i &lt; arr.<span class="hljs-built_in">length</span>);<br></code></pre></td></tr></table></figure></li><li>解析: do…while 与 while 类似，但它会先执行循环体再检查条件。</li></ol></li><li><h3 id="forOf"><a href="#forOf" class="headerlink" title="forOf"></a>forOf</h3><ol><li>语法<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> element <span class="hljs-keyword">of</span> arr) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(element); <span class="hljs-comment">// 输出每个元素</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li>解析: for…of 是 ES6 引入的循环方式，它可以直接遍历数组的元素，语法简洁且适合大多数遍历场景。</li></ol></li><li><h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h3><ol><li>语法：<code>array.reduce(function(total, currentValue, currentIndex, arr), initialValue) /initialValue 可选，传递给函数的初始值</code> <figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arcade">let arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>let <span class="hljs-built_in">sum</span> = arr.<span class="hljs-built_in">reduce</span>(<span class="hljs-function">(<span class="hljs-params">accumulator, currentValue</span>) =&gt;</span> accumulator + currentValue, <span class="hljs-number">0</span>); <span class="hljs-comment">// 计算数组元素之和</span><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">sum</span>); <span class="hljs-comment">// 输出: 15</span><br></code></pre></td></tr></table></figure></li><li>解析：接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。可以作为一个高阶函数，用于函数的 compose。对于空数组是不会执行回调函数。</li><li>是否改变原数组:</li></ol></li><li><h3 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight()"></a>reduceRight()</h3><ol><li>语法：<code>array.reduceRight(function(total, currentValue, currentIndex, arr), initialValue)</code></li><li>解析：功能和 reduce() 功能是一样的，不同的是 reduceRight() 从数组的末尾向前将数组中的数组项做累加</li><li>是否改变原数组:</li></ol></li></ol>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>javaScript</tag>
      
      <tag>array</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>快速复用-CSS常用样式模版</title>
    <link href="/2023/11/20/Front-end/CSS/CSSofCommonlyUsed/"/>
    <url>/2023/11/20/Front-end/CSS/CSSofCommonlyUsed/</url>
    
    <content type="html"><![CDATA[<h3 id="文字超出隐藏并显示省略号"><a href="#文字超出隐藏并显示省略号" class="headerlink" title="文字超出隐藏并显示省略号"></a>文字超出隐藏并显示省略号</h3><ol><li>单行实现文本溢出显示省略号：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">span</span>&#123;<br><span class="hljs-attribute">white-space</span>: nowrap;      <span class="hljs-comment">/*超出的空白区域不换行*/</span><br><span class="hljs-attribute">overflow</span>: hidden;         <span class="hljs-comment">/*超出隐藏*/</span><br><span class="hljs-attribute">text-overflow</span>: ellipsis;  <span class="hljs-comment">/*文本超出显示省略号*/</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li>两行实现文本溢出显示省略号：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">span</span>&#123;<br>    <span class="hljs-attribute">display</span>: -webkit-box;             <span class="hljs-comment">/*将对象转为弹性盒模型展示*/</span><br>    -webkit-box-orient: vertical;     <span class="hljs-comment">/*设置弹性盒模型子元素的排列方式*/</span><br>    -webkit-line-clamp: <span class="hljs-number">2</span>;            <span class="hljs-comment">/*限制文本行数*/</span><br>    <span class="hljs-attribute">overflow</span>: hidden;                 <span class="hljs-comment">/*超出隐藏*/</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li>多行实现文本溢出显示省略号：<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">span</span>&#123;<br>    <span class="hljs-attribute">position</span>: relative;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.4em</span>;        <span class="hljs-comment">/*行高和height成倍数，这里以三行文本超出隐藏举例*/</span><br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">4.2em</span>;<br>    <span class="hljs-attribute">overflow</span>: hidden;<br>&#125;<br><span class="hljs-selector-tag">span</span><span class="hljs-selector-pseudo">::after</span>&#123;         <span class="hljs-comment">/*若要兼容IE8需用:after*/</span><br>    <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;...&quot;</span>;          <span class="hljs-comment">/*替换内容比较灵活*/</span><br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">2px</span>;<br>    <span class="hljs-attribute">right</span>:<span class="hljs-number">5px</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">3px</span>;<br>    <span class="hljs-attribute">background</span>:<span class="hljs-number">#fff</span>;         <span class="hljs-comment">/*颜色和文字背景保持一致*/</span><br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">#fff</span>;  <span class="hljs-comment">/*边缘处理*/</span><br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="滚动条样式设置"><a href="#滚动条样式设置" class="headerlink" title="滚动条样式设置"></a>滚动条样式设置</h3><ol><li>属性<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css">::-webkit-scrollbar    //滚动条整体部分<br>::-webkit-scrollbar-button   //滚动条两端的按钮<br>::-webkit-scrollbar-track   // 外层轨道<br>::-webkit-scrollbar-track-piece    //内层轨道，滚动条中间部分（除去）<br>::-webkit-scrollbar-thumb //滚动条里面可以拖动的那个<br>::-webkit-scrollbar-corner   //边角<br>::-webkit-resizer   ///定义右下角拖动块的样式<br></code></pre></td></tr></table></figure></li><li>示例<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs css">//  定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸<br>&amp;::-webkit-scrollbar &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">0.16rem</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">0.16rem</span>;<br>    // <span class="hljs-attribute">background-color</span>: green;<br>&#125;<br><br>// 定义滚动条轨道 内阴影+圆角<br>&amp;::-webkit-scrollbar-track &#123;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#011822</span>;<br>&#125;<br><br>// 定义滑块  内阴影+圆角<br>&amp;::-webkit-scrollbar-thumb &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">0.16rem</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">0.08rem</span>;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#023548</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="文字向两侧对齐"><a href="#文字向两侧对齐" class="headerlink" title="文字向两侧对齐"></a>文字向两侧对齐</h3><p><code>text-align: justify;</code></p><table><thead><tr><th>text-align</th><th>属性值</th><th>作用</th></tr></thead><tbody><tr><td></td><td>start</td><td>如果内容方向是左至右，则等于 left，反之则为 right。</td></tr><tr><td></td><td>end</td><td>如果内容方向是左至右，则等于 right，反之则为 left。</td></tr><tr><td></td><td>left</td><td>行内内容向左侧边对齐。</td></tr><tr><td></td><td>right</td><td>行内内容向右侧边对齐。</td></tr><tr><td></td><td>center</td><td>行内内容居中。</td></tr><tr><td></td><td>justify</td><td>文字向两侧对齐，对最后一行无效。</td></tr><tr><td></td><td>justify-all</td><td>和 justify 一致，但是强制使最后一行两端对齐。</td></tr><tr><td></td><td>match-parent</td><td>和 inherit 类似，区别在于 start 和 end 的值根据父元素的 direction 确定，并被替换为恰当的 left 或 right 值。</td></tr></tbody></table><!--|   | <string> | 应用在单元格时，指定单元格内容相对于哪个字符对齐。|--><h3 id="样式初始化"><a href="#样式初始化" class="headerlink" title="样式初始化"></a>样式初始化</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span>,<br><span class="hljs-selector-tag">h1</span>,<br><span class="hljs-selector-tag">h2</span>,<br><span class="hljs-selector-tag">h3</span>,<br><span class="hljs-selector-tag">h4</span>,<br><span class="hljs-selector-tag">h5</span>,<br><span class="hljs-selector-tag">h6</span>,<br>hr,<br><span class="hljs-selector-tag">p</span>,<br><span class="hljs-selector-tag">blockquote</span>,<br><span class="hljs-selector-tag">dl</span>,<br><span class="hljs-selector-tag">dt</span>,<br><span class="hljs-selector-tag">dd</span>,<br><span class="hljs-selector-tag">ul</span>,<br><span class="hljs-selector-tag">ol</span>,<br><span class="hljs-selector-tag">li</span>,<br>pre,<br><span class="hljs-selector-tag">form</span>,<br><span class="hljs-selector-tag">fieldset</span>,<br><span class="hljs-selector-tag">legend</span>,<br><span class="hljs-selector-tag">button</span>,<br><span class="hljs-selector-tag">input</span>,<br><span class="hljs-selector-tag">textarea</span>,<br><span class="hljs-selector-tag">section</span>,<br><span class="hljs-selector-tag">th</span>,<br><span class="hljs-selector-tag">td</span> &#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br><br>//   移动端点击高亮，根据情况适配<br>//   * &#123;<br>//       <span class="hljs-attribute">box-sizing</span>: border-box;<br>//       -webkit-tap-highlight-<span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>//       -webkit-tap-highlight-<span class="hljs-attribute">color</span>: transparent;<br>//   &#125;<br><br><span class="hljs-selector-tag">html</span>,<br><span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<br>&#125;<br><br><span class="hljs-selector-tag">address</span>,<br><span class="hljs-selector-tag">cite</span>,<br><span class="hljs-selector-tag">dfn</span>,<br><span class="hljs-selector-tag">em</span>,<br><span class="hljs-selector-tag">var</span> &#123;<br>    <span class="hljs-attribute">font-style</span>: normal;<br>&#125;<br><br><span class="hljs-selector-tag">code</span>,<br><span class="hljs-selector-tag">kbd</span>,<br>pre,<br><span class="hljs-selector-tag">samp</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: couriernew, courier, monospace;<br>&#125;<br><br>// small&#123; <span class="hljs-attribute">font-size</span>:<span class="hljs-number">12px</span>; &#125; <br><span class="hljs-selector-tag">ul</span>,<br><span class="hljs-selector-tag">ol</span> &#123;<br>    <span class="hljs-attribute">list-style</span>: none;<br>&#125;<br><br><span class="hljs-selector-tag">a</span> &#123;<br>    <span class="hljs-attribute">text-decoration</span>: none;<br>&#125;<br><br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">text-decoration</span>: underline;<br>&#125;<br><br><span class="hljs-selector-tag">sup</span> &#123;<br>    <span class="hljs-attribute">vertical-align</span>: text-top;<br>&#125;<br><br>sub &#123;<br>    <span class="hljs-attribute">vertical-align</span>: text-bottom;<br>&#125;<br><br><span class="hljs-selector-tag">legend</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>;<br>&#125;<br><br><span class="hljs-selector-tag">fieldset</span>,<br><span class="hljs-selector-tag">img</span> &#123;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/* button, input, select, textarea &#123; font-size:100%; &#125;  */</span><br><span class="hljs-selector-tag">table</span> &#123;<br>    <span class="hljs-attribute">border-collapse</span>: collapse;<br>    <span class="hljs-attribute">border-spacing</span>: <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>css</category>
      
    </categories>
    
    
    <tags>
      
      <tag>css</tag>
      
      <tag>css3</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript 简写神技</title>
    <link href="/2023/11/20/Front-end/JavaScript/JsAbbreviation/"/>
    <url>/2023/11/20/Front-end/JavaScript/JsAbbreviation/</url>
    
    <content type="html"><![CDATA[<h3 id="1-解构赋值"><a href="#1-解构赋值" class="headerlink" title="1. 解构赋值"></a>1. 解构赋值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">let</span> y = <span class="hljs-number">2</span>;<br><br><span class="hljs-comment">// 简写（解构赋值）</span><br><span class="hljs-keyword">let</span> [x, y] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> first = arr[<span class="hljs-number">0</span>];<br><span class="hljs-keyword">const</span> second = arr[<span class="hljs-number">1</span>];<br><br><span class="hljs-comment">// 简写方式</span><br><span class="hljs-keyword">const</span> [first, second] = arr;<br></code></pre></td></tr></table></figure><h3 id="2-三元运算符"><a href="#2-三元运算符" class="headerlink" title="2. 三元运算符 ? :"></a>2. 三元运算符 ? :</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">let</span> result;<br><span class="hljs-keyword">if</span> (someCondition) &#123;<br>    result = <span class="hljs-string">&#x27;yes&#x27;</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    result = <span class="hljs-string">&#x27;no&#x27;</span>;<br>&#125;<br><br><span class="hljs-comment">// 简写方式</span><br><span class="hljs-keyword">const</span> result = someCondition ? <span class="hljs-string">&#x27;yes&#x27;</span> : <span class="hljs-string">&#x27;no&#x27;</span>;<br></code></pre></td></tr></table></figure><h3 id="3-空值合并运算符"><a href="#3-空值合并运算符" class="headerlink" title="3. 空值合并运算符 ??"></a>3. 空值合并运算符 ??</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> value = input !== <span class="hljs-literal">null</span> &amp;&amp; input !== <span class="hljs-literal">undefined</span> ? input : <span class="hljs-string">&#x27;default&#x27;</span>;<br><br><span class="hljs-comment">// 简写</span><br><span class="hljs-keyword">const</span> value = input ?? <span class="hljs-string">&#x27;default&#x27;</span>;<br></code></pre></td></tr></table></figure><h3 id="4-可选链操作符"><a href="#4-可选链操作符" class="headerlink" title="4. 可选链操作符 ?."></a>4. 可选链操作符 ?.</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> street = user &amp;&amp; user.<span class="hljs-property">address</span> &amp;&amp; user.<span class="hljs-property">address</span>.<span class="hljs-property">street</span>;<br><br><span class="hljs-comment">// 简写方式</span><br><span class="hljs-keyword">const</span> street = user?.<span class="hljs-property">address</span>?.<span class="hljs-property">street</span>;<br></code></pre></td></tr></table></figure><h3 id="5-箭头函数"><a href="#5-箭头函数" class="headerlink" title="5. 箭头函数"></a>5. 箭头函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) &#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-comment">// 简写方式</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;<br></code></pre></td></tr></table></figure><h3 id="6-模板字符串"><a href="#6-模板字符串" class="headerlink" title="6. 模板字符串"></a>6. 模板字符串</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;Bob&#x27;</span>;<br><br><span class="hljs-comment">// 传统写法</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Hello &#x27;</span> + name + <span class="hljs-string">&#x27;!&#x27;</span>);<br><br><span class="hljs-comment">// 简写（模板字符串）</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hello <span class="hljs-subst">$&#123;name&#125;</span>!`</span>);<br></code></pre></td></tr></table></figure><h3 id="7-对象属性简写"><a href="#7-对象属性简写" class="headerlink" title="7. 对象属性简写"></a>7. 对象属性简写</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> name = <span class="hljs-string">&#x27;Alice&#x27;</span>;<br><span class="hljs-keyword">const</span> age = <span class="hljs-number">25</span>;<br><br><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> user = &#123;<br>  <span class="hljs-attr">name</span>: name,<br>  <span class="hljs-attr">age</span>: age<br>&#125;;<br><br><span class="hljs-comment">// 简写（属性名省略）</span><br><span class="hljs-keyword">const</span> user = &#123; name, age &#125;;<br></code></pre></td></tr></table></figure><h3 id="8-数组-对象合并-展开运算符-…"><a href="#8-数组-对象合并-展开运算符-…" class="headerlink" title="8. 数组&#x2F;对象合并 展开运算符 …"></a>8. 数组&#x2F;对象合并 展开运算符 …</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 数组合并</span><br><span class="hljs-keyword">const</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>];<br><span class="hljs-keyword">const</span> arr2 = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> combined = arr1.<span class="hljs-title function_">concat</span>(arr2);<br><span class="hljs-comment">// 简写（展开运算符）</span><br><span class="hljs-keyword">const</span> combined = [...arr1, ...arr2];<br><br><span class="hljs-comment">// 对象合并</span><br><span class="hljs-keyword">const</span> obj1 = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> &#125;;<br><span class="hljs-keyword">const</span> obj2 = &#123; <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;;<br><span class="hljs-comment">// 简写（对象展开）</span><br><span class="hljs-keyword">const</span> merged = &#123; ...obj1, ...obj2 &#125;;<br></code></pre></td></tr></table></figure><h3 id="9-默认参数值"><a href="#9-默认参数值" class="headerlink" title="9. 默认参数值"></a>9. 默认参数值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name</span>) &#123;<br>  name = name || <span class="hljs-string">&#x27;Guest&#x27;</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br>&#125;<br><br><span class="hljs-comment">// 简写（默认参数）</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">greet</span> = (<span class="hljs-params">name = <span class="hljs-string">&#x27;Guest&#x27;</span></span>) =&gt; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br></code></pre></td></tr></table></figure><h3 id="10-快速取整"><a href="#10-快速取整" class="headerlink" title="10. 快速取整 ~~"></a>10. 快速取整 ~~</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> num = <span class="hljs-number">123.456</span>;<br><span class="hljs-keyword">let</span> intNum = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(num); <span class="hljs-comment">// 123</span><br><br><span class="hljs-comment">// 简写（取整）</span><br><span class="hljs-keyword">const</span> intNum = ~~num; <span class="hljs-comment">// 或者使用 Math.trunc() 方法</span><br></code></pre></td></tr></table></figure><h3 id="11-短路求值"><a href="#11-短路求值" class="headerlink" title="11. 短路求值 &amp;&amp;"></a>11. 短路求值 &amp;&amp;</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">if</span> (condition) &#123;<br>    <span class="hljs-title function_">doSomething</span>();<br>&#125;<br><br><span class="hljs-comment">// 简写方式</span><br>condition &amp;&amp; <span class="hljs-title function_">doSomething</span>();<br></code></pre></td></tr></table></figure><h3 id="12-数组去重-Set"><a href="#12-数组去重-Set" class="headerlink" title="12. 数组去重 Set"></a>12. 数组去重 Set</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> unique = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)];<br><br><span class="hljs-comment">// 简写（Set 去重）</span><br><span class="hljs-keyword">const</span> unique = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr));<br></code></pre></td></tr></table></figure><h3 id="13-对象属性动态键名-key-value"><a href="#13-对象属性动态键名-key-value" class="headerlink" title="13. 对象属性动态键名 [key] &#x3D; value"></a>13. 对象属性动态键名 [key] &#x3D; value</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> key = <span class="hljs-string">&#x27;name&#x27;</span>;<br><span class="hljs-keyword">let</span> obj = &#123;&#125;;<br>obj[key] = value;<br><br><span class="hljs-comment">// 简写（动态键名）</span><br><span class="hljs-keyword">const</span> obj = &#123; [key]: value &#125;;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> obj = &#123;&#125;;<br>obj[dynamic + <span class="hljs-string">&#x27;name&#x27;</span>] = value;<br><br><span class="hljs-comment">// 简写方式</span><br><span class="hljs-keyword">const</span> obj = &#123;<br>    [<span class="hljs-string">`<span class="hljs-subst">$&#123;dynamic&#125;</span>name`</span>]: value<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="14-循环简写"><a href="#14-循环简写" class="headerlink" title="14. 循环简写"></a>14. 循环简写</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">const</span> doubled = arr.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123; <span class="hljs-keyword">return</span> item * <span class="hljs-number">2</span>; &#125;);<br><br><span class="hljs-comment">// 简写方式</span><br><span class="hljs-keyword">const</span> doubled = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item * <span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><br><span class="hljs-comment">// 传统for循环</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr[i]);<br>&#125;<br><br><span class="hljs-comment">// 简写（forEach）</span><br>arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item));<br></code></pre></td></tr></table></figure><h3 id="15-快速幂运算"><a href="#15-快速幂运算" class="headerlink" title="15. 快速幂运算 **"></a>15. 快速幂运算 **</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// 8</span><br><br><span class="hljs-comment">// 简写</span><br><span class="hljs-number">2</span> ** <span class="hljs-number">3</span>; <span class="hljs-comment">// 8</span><br></code></pre></td></tr></table></figure><h3 id="16-动态导入模块"><a href="#16-动态导入模块" class="headerlink" title="16. 动态导入模块"></a>16. 动态导入模块</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./module&#x27;</span>);<br><br><span class="hljs-comment">// 简写（动态导入）</span><br><span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./module&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">module</span> =&gt;</span> &#123; <span class="hljs-comment">/* 使用模块 */</span> &#125;);<br></code></pre></td></tr></table></figure><h3 id="17-多重条件判断"><a href="#17-多重条件判断" class="headerlink" title="17. 多重条件判断"></a>17. 多重条件判断</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">if</span> (value === <span class="hljs-number">1</span> || value === <span class="hljs-number">2</span> || value === <span class="hljs-number">3</span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;<br><br><span class="hljs-comment">// 简写方式</span><br><span class="hljs-keyword">if</span> ([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">includes</span>(value)) &#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="18-交换变量值"><a href="#18-交换变量值" class="headerlink" title="18. 交换变量值"></a>18. 交换变量值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 传统写法</span><br><span class="hljs-keyword">let</span> temp = a;<br>a = b;<br>b = temp;<br><br><span class="hljs-comment">// 简写方式</span><br>[a, b] = [b, a];<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>错/难题本</title>
    <link href="/2023/11/20/Resources/errorRecord/"/>
    <url>/2023/11/20/Resources/errorRecord/</url>
    
    <content type="html"><![CDATA[<h3 id="字体文件较大解决方案"><a href="#字体文件较大解决方案" class="headerlink" title="字体文件较大解决方案"></a>字体文件较大解决方案</h3><p>字体过大的话，会导致页面加载的时候，文字显示不出来，不过可以试试CSS的这个属性：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">font-display</span>: swap;<br></code></pre></td></tr></table></figure><p>放的方式是：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css">// OPPOSans<br><span class="hljs-keyword">@font-face</span> &#123;<br>    <span class="hljs-attribute">font-family</span>:<span class="hljs-string">&#x27;OPPOSans&#x27;</span>;<br>    <span class="hljs-attribute">font-style</span>: normal;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">300</span>;<br>    <span class="hljs-attribute">font-display</span>: swap;<br>    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">&#x27;OPPOSans&#x27;</span>),<br>            <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;https://************/fonts/OPPOSans-L.woff&#x27;</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27;woff&#x27;</span>),<br>            <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;https://************/fonts/OPPOSans-L.ttf&#x27;</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27;ttf&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>设置字体顺序的地方需要把新字体放在第一位：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&#x27;OPPOSans&#x27;</span>,Helvetica Neue, Helvetica, PingFang SC, Hiragino Sans GB, Microsoft YaHei, Arial, sans-serif;<br>&#125;<br></code></pre></td></tr></table></figure><p>它的加载方式是，页面加载中的时候，用默认字体进行显示，等字体加载完成后，页面字体会自动更新，并且不会阻塞页面渲染和操作，所以第二位的字体尽量找比较接近的系统字体做替代显示</p><h3 id="微信分享无图无文字情况"><a href="#微信分享无图无文字情况" class="headerlink" title="微信分享无图无文字情况"></a>微信分享无图无文字情况</h3><ol><li>已遇到情况最终问题解决方案：微信白名单ip限制 需手动配置</li></ol><h3 id="html-body设置宽高100-间距0仍有底部留白"><a href="#html-body设置宽高100-间距0仍有底部留白" class="headerlink" title="html,body设置宽高100%间距0仍有底部留白"></a>html,body设置宽高100%间距0仍有底部留白</h3><ol><li>answer：img设置display:block;font-size:0;</li></ol><h3 id="git提交之后提交记录没有绿点处理"><a href="#git提交之后提交记录没有绿点处理" class="headerlink" title="git提交之后提交记录没有绿点处理"></a>git提交之后提交记录没有绿点处理</h3><ol><li>记录原因：本地git账号和邮箱与git上不一致导致</li><li>解决：设置一致 <ol><li>查询：<ol><li><code>git config user.name</code></li><li><code>git config user.email</code></li></ol></li><li>设置：<ol><li><code>git config --global user.name yourname</code></li><li><code>git config --global user.email youremail</code></li></ol></li></ol></li></ol><h3 id="certificate-has-expired"><a href="#certificate-has-expired" class="headerlink" title="certificate has expired"></a>certificate has expired</h3><ol><li>解决执行npm(或pnpm)时报：证书过期 certificate has expired问题<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-number">1</span>、取消ssl验证：<br> <br>npm config set strict-ssl <span class="hljs-literal">false</span><br> <br>这个方法一般就可以解决了。<br> <br><span class="hljs-number">2</span>、更换npm镜像源：<br> <br>npm config set registry http:<span class="hljs-comment">//registry.cnpmjs.org</span><br>npm config set registry http:<span class="hljs-comment">//registry.npm.taobao.org</span><br> <br></code></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>错题</tag>
      
      <tag>日常记录</tag>
      
      <tag>bug</tag>
      
      <tag>难题</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>markdown基础语法</title>
    <link href="/2023/11/16/Resources/markdownGrammar/"/>
    <url>/2023/11/16/Resources/markdownGrammar/</url>
    
    <content type="html"><![CDATA[<p><a href="https://markdown.com.cn/">Markdown 官方教程</a></p><!--* <a href="#preface">图片语法</a>--><ol><li><h3 id="1、标题"><a href="#1、标题" class="headerlink" title="1、标题"></a>1、标题</h3><ol><li>要创建标题，请在单词或短语前面添加井号 (<code>#</code>) 。<code>#</code> 的数量代表了标题的级别。例如，添加三个 <code>#</code> 表示创建一个三级标题 (<code>&lt;h3&gt;</code>)<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs clean"># h1<br>######  h6<br></code></pre></td></tr></table></figure></li></ol></li><li><h3 id="2、段落"><a href="#2、段落" class="headerlink" title="2、段落"></a>2、段落</h3><ol><li><h4 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h4><ol><li>段落的换行是使用两个以上空格加上回车。也可以在段落后面使用一个空行来表示重新开始一个段落。</li></ol></li><li><h4 id="加粗倾斜"><a href="#加粗倾斜" class="headerlink" title="加粗倾斜"></a>加粗倾斜</h4></li></ol> <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-strong">*斜体文本*</span><br><span class="hljs-emphasis">_斜体文本_</span><br><span class="hljs-strong">**粗体文本**</span><br><span class="hljs-emphasis">__粗体文本__</span><br><span class="hljs-strong">***粗斜体文本**</span>*<br><span class="hljs-emphasis">___粗斜体文本__</span>_<br></code></pre></td></tr></table></figure><p> <em>斜体文本</em><br> <em>斜体文本</em><br> <strong>粗体文本</strong><br> <strong>粗体文本</strong><br> <em><strong>粗斜体文本</strong></em><br> <em><strong>粗斜体文本</strong></em></p><ol start="3"><li><h4 id="分隔线"><a href="#分隔线" class="headerlink" title="分隔线"></a>分隔线</h4></li></ol> <figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-comment">***</span><br><span class="hljs-comment">* * *</span><br><span class="hljs-comment">*****</span><br>- - -<br>----------<br></code></pre></td></tr></table></figure><hr><hr><hr><hr><hr><ol start="4"><li><h4 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a>删除线</h4></li></ol> <figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haml">~~删除线~~<br></code></pre></td></tr></table></figure><p> <del>删除线</del></p><ol start="5"><li><h4 id="下划线"><a href="#下划线" class="headerlink" title="下划线"></a>下划线</h4></li></ol> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">u</span>&gt;</span>带下划线文本<span class="hljs-tag">&lt;/<span class="hljs-name">u</span>&gt;</span><br></code></pre></td></tr></table></figure><p> <u>带下划线文本</u></p></li></ol><!--    6. #### 脚注    生成一个脚注1[^footnote].            [^footnote]: 这里是 **脚注** 的 *内容*.        生成一个脚注2[^foot].            [^foot]:这里是**脚注2**的*内容*.--><ol><li><h3 id="3、换行"><a href="#3、换行" class="headerlink" title="3、换行"></a>3、换行</h3><ol><li>在一行的末尾添加两个或多个空格，然后按回车键,即可创建一个换行(<code>&lt;br&gt;</code>)</li></ol></li><li><h3 id="4、区块"><a href="#4、区块" class="headerlink" title="4、区块"></a>4、区块</h3><ol><li>Markdown 区块引用是在段落开头使用 &gt; 符号 ，然后后面紧跟一个空格符号： <figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">区块引用</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">同层引用</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">同层引用</span><br></code></pre></td></tr></table></figure><blockquote><p>区块引用<br>同层引用<br>同层引用</p></blockquote></li><li>区块是可以嵌套的，一个 &gt; 符号是最外层，两个 &gt; 符号是第一层嵌套，以此类推： <figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">最外层</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; 第一层嵌套</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">&gt; &gt; 第二层嵌套</span><br></code></pre></td></tr></table></figure><blockquote><p>最外层</p><blockquote><p>第一层嵌套</p><blockquote><p>第二层嵌套</p></blockquote></blockquote></blockquote></li><li>区块中使用列表 <figure class="highlight node-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs node-repl"><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">区块中使用列表</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-number">1.</span> 第一项</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript"><span class="hljs-number">2.</span> 第二项</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">+ 第一项</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">+ 第二项</span><br><span class="hljs-meta prompt_">&gt;</span> <span class="language-javascript">+ 第三项</span><br></code></pre></td></tr></table></figure><blockquote><p>区块中使用列表</p><ol><li>第一项</li><li>第二项</li></ol><ul><li>第一项</li><li>第二项</li><li>第三项</li></ul></blockquote></li><li>列表中使用区块 <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">*</span> 第一项<br><span class="hljs-quote">&gt; 学习</span><br><span class="hljs-quote">&gt; 学而时习之</span><br><span class="hljs-bullet">*</span> 第二项<br></code></pre></td></tr></table></figure></li></ol><ul><li>第一项<blockquote><p>学习<br>学而时习之</p></blockquote></li><li>第二项</li></ul></li><li><h3 id="5、列表"><a href="#5、列表" class="headerlink" title="5、列表"></a>5、列表</h3><ol><li><p>要创建有序列表，请在每个列表项前添加数字并紧跟一个英文句点。数字不必按数学顺序排列，但是列表应当以数字 1 起始。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">1.</span> 第一项<br><span class="hljs-bullet">2.</span> 第二项<br><span class="hljs-bullet">3.</span> 第三项<br></code></pre></td></tr></table></figure><ol><li>第一项</li><li>第二项</li><li>第三项</li></ol></li><li><p>要创建无序列表，请在每个列表项前面添加破折号 (-)、星号 (*) 或加号 (+) 。缩进一个或多个列表项可创建嵌套列表。</p> <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs markdown"><span class="hljs-bullet">*</span> 第一项<br><span class="hljs-bullet">*</span> 第二项<br><span class="hljs-bullet">*</span> 第三项<br><br><span class="hljs-bullet">+</span> 第一项<br><span class="hljs-bullet">+</span> 第二项<br><span class="hljs-bullet">+</span> 第三项<br><br><span class="hljs-bullet">-</span> 第一项<br><span class="hljs-bullet">-</span> 第二项<br><span class="hljs-bullet">-</span> 第三项<br></code></pre></td></tr></table></figure><ul><li>第一项</li><li>第二项</li><li>第三项</li></ul><ul><li>第一项</li><li>第二项</li><li>第三项</li></ul><ul><li>第一项</li><li>第二项</li><li>第三项</li></ul></li></ol></li><li><h3 id="6、代码"><a href="#6、代码" class="headerlink" title="6、代码"></a>6、代码</h3><ol><li>要将单词或短语表示为代码，请将其包裹在<strong>反引号 (&#96;&#96;)</strong> 中。<ol><li><code>code part</code></li></ol></li><li>转义反引号 <ol><li>如果你要表示为代码的单词或短语中包含一个或多个反引号，则可以通过将单词或短语包裹在 <strong>双反引号(&#96;&#96;)</strong> 中。<ol><li><code>Use `code` in your Markdown file.</code></li></ol></li></ol></li><li>代码块<ol><li><p>要创建代码块，请将代码块的每一行缩进至少四个空格或一个制表符(<strong>Tab键</strong>)。 也可以用 <code>```</code> 包裹一段代码，并指定一种语言（也可以不指定）</p></li><li><p><strong>(<code>```内容```</code>)</strong><br> <img src="/img/js/17004620062132.jpg"></p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;RUNOOB&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure></li><li><p>在使用该语法时开头之前必须要有一行空行，若要标记语言则在开头语法加一个空格然后声明语言类型(具体如图所示)，既然开头有要求自然结束也有要求的。结束时切忌不要在结束标签后加空格，否则该标签未关闭。<strong>关闭则直接回车换两行即可</strong>。</p></li></ol></li></ol></li><li><h3 id="7、分割线"><a href="#7、分割线" class="headerlink" title="7、分割线"></a>7、分割线</h3><ol><li>要创建分隔线，请在单独一行上使用三个或多个星号 (<code>***</code>)、破折号 (<code>---</code>) 或下划线 (<code>___</code>) ，并且不能包含其他内容。<ol><li><hr><ol><li><code>***</code></li></ol></li><li><hr><ol><li><code>---</code></li></ol></li><li><hr><ol><li><code>___</code></li></ol></li></ol></li></ol></li><li><h3 id="8、链接"><a href="#8、链接" class="headerlink" title="8、链接"></a>8、链接</h3><ol><li><strong>链接文本</strong>放在中括号内，链接地址放在后面的括号中，链接title可选。<ol><li><code> [Markdown语法](https://markdown.com.cn)。</code><br> <a href="https://markdown.com.cn/">Markdown语法</a>。</li></ol></li><li>链接title是当<strong>鼠标悬停在链接上时会出现的文字</strong>，这个title是可选的，它放在圆括号中链接地址后面，跟链接地址之间以空格分隔。<br> 1. <code>[Markdown语法](https://markdown.com.cn &quot;最好的markdown教程&quot;)。</code><br> <a href="https://markdown.com.cn/" title="最好的markdown教程">Markdown语法</a>。</li></ol></li><li><h3 id="9、图片"><a href="#9、图片" class="headerlink" title="9、图片"></a>9、<a id="preface">图片</a></h3><ol><li>要<strong>添加图像</strong>，请使用感叹号 (<code>!</code>), 然后在方括号增加替代文本，图片链接放在圆括号里，括号里的链接后可以增加一个可选的图片标题文本。 <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">![这是图片](https:<span class="hljs-regexp">//m</span>arkdown.com.cn<span class="hljs-regexp">/assets/img</span>/philly-magic-garden.<span class="hljs-number">9</span>c0b4415.jpg <span class="hljs-string">&quot;Magic Gardens&quot;</span>) <br></code></pre></td></tr></table></figure> <img src="https://markdown.com.cn/assets/img/philly-magic-garden.9c0b4415.jpg" alt="这是图片" title="Magic Gardens"></li><li>给<strong>图片增加链接</strong>，请将图像的Markdown 括在方括号中，然后将链接添加在圆括号中。 <figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">[![沙漠中的岩石图片]<span class="hljs-params">(https://tse3-mm.cn.bing.net/th/id/OIP-C.ECTYUcRzB9FMRqYOYvZnSQHaEK?<span class="hljs-attr">w</span>=308&amp;<span class="hljs-attr">h</span>=180&amp;<span class="hljs-attr">c</span>=7&amp;<span class="hljs-attr">r</span>=0&amp;<span class="hljs-attr">o</span>=5&amp;<span class="hljs-attr">dpr</span>=2&amp;<span class="hljs-attr">pid</span>=1.7 &quot;Shiprock&quot;)</span>]<span class="hljs-params">(https://markdown.com.cn)</span><br></code></pre></td></tr></table></figure> <a href="https://markdown.com.cn/"><img src="https://tse3-mm.cn.bing.net/th/id/OIP-C.ECTYUcRzB9FMRqYOYvZnSQHaEK?w=308&h=180&c=7&r=0&o=5&dpr=2&pid=1.7" alt="沙漠中的岩石图片" title="Shiprock"></a></li></ol></li><li><h3 id="10、表格"><a href="#10、表格" class="headerlink" title="10、表格"></a>10、表格</h3></li></ol><p>注： | 为英文状态下的 |</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string">  表头   </span>|<span class="hljs-string"> 表头  </span>|<br>|<span class="hljs-string">  ----  </span>|<span class="hljs-string"> ----  </span>|<br>|<span class="hljs-string"> 单元格  </span>|<span class="hljs-string"> 单元格 </span>|<br>|<span class="hljs-string"> 单元格  </span>|<span class="hljs-string"> 单元格 </span>|<br></code></pre></td></tr></table></figure><table><thead><tr><th>表头</th><th>表头</th></tr></thead><tbody><tr><td>单元格</td><td>单元格</td></tr><tr><td>单元格</td><td>单元格</td></tr></tbody></table><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">|<span class="hljs-string"> 左对齐 </span>|<span class="hljs-string"> 右对齐 </span>|<span class="hljs-string"> 居中对齐 </span>|<br>|<span class="hljs-string"> :-----</span>|<span class="hljs-string"> ----: </span>|<span class="hljs-string"> :----: </span>|<br>|<span class="hljs-string"> 单元格 </span>|<span class="hljs-string"> 单元格 </span>|<span class="hljs-string"> 单元格 </span>|<br>|<span class="hljs-string"> 单元格 </span>|<span class="hljs-string"> 单元格 </span>|<span class="hljs-string"> 单元格 </span>|<br></code></pre></td></tr></table></figure><table><thead><tr><th align="left">左对齐示例</th><th align="right">右对齐示例</th><th align="center">居中对齐示例</th></tr></thead><tbody><tr><td align="left">单元格</td><td align="right">单元格</td><td align="center">单元格</td></tr><tr><td align="left">单元格</td><td align="right">单元格</td><td align="center">单元格</td></tr></tbody></table><h4 id="合并单元格"><a href="#合并单元格" class="headerlink" title="合并单元格"></a>合并单元格</h4><pre><code class="hljs">用html代码处理    &lt;tr&gt;    &lt;th&gt;属性&lt;/th&gt;    &lt;th&gt;属性值&lt;/th&gt;    &lt;th&gt;描述&lt;/th&gt;  &lt;/tr &gt;&lt;tr &gt;    &lt;td rowspan=&quot;9&quot;&gt;type&lt;/td&gt;    &lt;td&gt;text&lt;/td&gt;    &lt;td&gt;单行文本输入框&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td&gt;password&lt;/td&gt;    &lt;td&gt;密码输入框&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td&gt;radio&lt;/td&gt;    &lt;td&gt;单选按钮&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td&gt;CheckBox&lt;/td&gt;    &lt;td&gt;复选按钮&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;button&lt;/td&gt;    &lt;td&gt;普通按钮&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td&gt;submit&lt;/td&gt;    &lt;td&gt;提交按钮&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td&gt;reset&lt;/td&gt;    &lt;td&gt;重置按钮&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td&gt;image&lt;/td&gt;    &lt;td&gt;图像形式的提交按钮&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td &gt;file&lt;/td&gt;    &lt;td&gt;文件域&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td &gt;name&lt;/td&gt;    &lt;td&gt;用户自定义&lt;/td&gt;    &lt;td&gt;控件名称&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td &gt;value&lt;/td&gt;    &lt;td &gt;用户自定义&lt;/td&gt;    &lt;td &gt;默认文本值&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td &gt;size&lt;/td&gt;    &lt;td &gt;正整数&lt;/td&gt;    &lt;td &gt;控件在页面中的显示宽度&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td &gt;checked&lt;/td&gt;    &lt;td &gt;checked&lt;/td&gt;    &lt;td &gt;定义选择控件默认被选中项&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;    &lt;td &gt;maxlength&lt;/td&gt;    &lt;td &gt;正整数&lt;/td&gt;    &lt;td &gt;控件允许输入的最多字符&lt;/td&gt;&lt;/tr&gt;</code></pre></table><table>    <tr>        <th>属性</th>        <th>属性值</th>        <th>描述</th>      </tr >    <tr >        <td rowspan="9">type</td>        <td>text</td>        <td>单行文本输入框</td>    </tr>    <tr>        <td>password</td>        <td>密码输入框</td>    </tr>    <tr>        <td>radio</td>        <td>单选按钮</td>    </tr>    <tr>        <td>CheckBox</td>        <td>复选按钮</td>    </tr>    <tr><td>button</td>        <td>普通按钮</td>    </tr>    <tr>        <td>submit</td>        <td>提交按钮</td>    </tr>    <tr>        <td>reset</td>        <td>重置按钮</td>    </tr>    <tr>        <td>image</td>        <td>图像形式的提交按钮</td>    </tr>    <tr>        <td >file</td>        <td>文件域</td>    </tr>    <tr>        <td >name</td>        <td>用户自定义</td>        <td>控件名称</td>    </tr>    <tr>        <td >value</td>        <td >用户自定义</td>        <td >默认文本值</td>    </tr>    <tr>        <td >size</td>        <td >正整数</td>        <td >控件在页面中的显示宽度</td>    </tr>    <tr>        <td >checked</td>        <td >checked</td>        <td >定义选择控件默认被选中项</td>    </tr>    <tr>        <td >maxlength</td>        <td >正整数</td>        <td >控件允许输入的最多字符</td>    </tr></table><h3 id="11、锚点"><a href="#11、锚点" class="headerlink" title="11、锚点"></a>11、锚点</h3><ol><li>使用a标签 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">第一步：添加链接<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#preface&quot;</span>&gt;</span>前言<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>第二步：添加锚点<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;preface&quot;</span>&gt;</span>前言<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>使用md语法 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">第一步：添加链接[测试2](<span class="hljs-comment">#test2)</span><br>第二步：添加锚点&lt;a <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;test2&quot;</span>&gt;测试2&lt;/a&gt;<br></code></pre></td></tr></table></figure></li></ol><h3 id="12、更改字体大小、颜色、更改字体"><a href="#12、更改字体大小、颜色、更改字体" class="headerlink" title="12、更改字体大小、颜色、更改字体"></a>12、更改字体大小、颜色、更改字体</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;font <span class="hljs-attribute">face</span>=<span class="hljs-string">&quot;逐浪立楷&quot;</span> <span class="hljs-attribute">color</span>=green <span class="hljs-attribute">size</span>=10&gt;我是逐浪立楷，绿色，尺寸为5&lt;/font&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>markDown</category>
      
    </categories>
    
    
    <tags>
      
      <tag>markdown</tag>
      
      <tag>md</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo的安装及git部署</title>
    <link href="/2023/11/15/Front-end/Hexo/hexoStall/"/>
    <url>/2023/11/15/Front-end/Hexo/hexoStall/</url>
    
    <content type="html"><![CDATA[<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他标记语言）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。<br><a href="https://fluid-dev.github.io/hexo-fluid-docs/guide/">Hexo Fluid用户手册</a></p><h3 id="前置安装"><a href="#前置安装" class="headerlink" title="前置安装"></a>前置安装</h3><ol><li>node</li><li>git</li></ol><h3 id="初始化hexo"><a href="#初始化hexo" class="headerlink" title="初始化hexo"></a>初始化hexo</h3><ol><li>新建一个文件夹用来存放 Hexo 的程序文件</li><li><code>npm install -g hexo-cli</code><ol><li>mac需要管理员权限（sudo）</li></ol></li><li>初始化&amp;本地预览<ol><li><code>hexo init</code> #初始化</li><li><code>npm install</code> #安装组件</li><li><code>hexo g</code> #生成页面</li><li><code>hexo s</code> #启动预览</li></ol></li></ol><h3 id="部署至github"><a href="#部署至github" class="headerlink" title="部署至github"></a>部署至github</h3><ol><li><p>创建github page 仓库</p><ol><li>Repository name 中输入 用户名 <strong>.github.io</strong></li><li>勾选 “Initialize this repository with a README”</li><li>Description 选填</li><li>-创建后默认自动启用 HTTPS，博客地址为：https:&#x2F;&#x2F;用户名.github.io</li></ol></li><li><p>安装hexo-deployer-git</p><ol><li><code>npm install hexo-deployer-git --save</code></li></ol></li><li><p>修改 _config.yml 文件末尾的 Deployment 部分</p> <figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">  type:</span> git<br><span class="hljs-symbol">  repository:</span> git@github.com:用户名/用户名.github.io.git<br><span class="hljs-symbol">  branch:</span> master <br></code></pre></td></tr></table></figure><ol start="2"><li><p><strong>用户名一致，都为git账户名称</strong></p></li><li><p><strong>branch为上传分支，git新建项目时默认为main需切换分支或改为main</strong></p><ol><li><img src="/img/content/hexo-changeGitBranch.webp"></li></ol></li><li><p><strong>确认git发布分支是否为当前上传分支，不是则切换</strong></p><ol><li><img src="/img/content/hexo-sureGitBranch.webp"></li></ol></li></ol></li><li><p>完成后运行 <code>hexo d</code> 将网站上传部署到 GitHub Pages,访问 GitHub 域名 https:&#x2F;&#x2F;用户名.github.io</p></li></ol><h3 id="hexo基础"><a href="#hexo基础" class="headerlink" title="hexo基础"></a>hexo基础</h3><ol><li>hexo基础命令<ol><li><code>hexo init [folder]</code> <ol><li>#新建一个网站。如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站。</li></ol></li><li><strong><code>hexo new [layout] &lt;title&gt;</code></strong><ol><li>新建一篇文章。如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。如果标题包含空格的话，请使用引号括起来。</li><li><code>hexo new &quot;post title with &quot;whitespace&quot;</code></li></ol></li><li><code>hexo generate</code><ol><li>生成静态文件。</li><li>简写 <strong><code>hexo g</code></strong></li></ol></li><li><code>hexo publish [layout] &lt;filename&gt;</code> <ol><li>#发表草稿</li></ol></li><li><code>hexo server</code><ol><li>启动服务器。默认情况下，访问网址为： <a href="http://localhost:4000/">http://localhost:4000/</a></li><li><code>-p, --port</code>重设端口</li><li><code>-s, --static</code>只使用静态文件</li><li><code>-l, --log</code>启动日记记录，使用覆盖记录格式</li><li>简写 <strong><code>hexo s</code></strong></li></ol></li><li><code>hexo deploy</code>  <ol><li>部署网站。简写 <strong><code>hexo d</code></strong></li><li><strong><code>hexo g -d</code></strong> 部署之前预先生成静态文件</li></ol></li><li><strong><code>hexo clean</code></strong> <ol><li>清除缓存文件 (db.json) 和已生成的静态文件 (public)。</li></ol></li><li>hexo 更换网站小图标 <ol><li>配置文件中 <strong><code>favicon: /img/icons/bk.png </code></strong></li></ol></li><li>hexo 指定子文件夹下创建文章<ol><li><code>hexo n post -p folder/articles</code><br>  <code>hexo n post -p 目录名/生成文件名</code></li></ol></li><li>使用便签<ol><li><code>&lt;p class=&quot;note note-primary&quot;&gt;标签&lt;/p&gt;</code><ol><li>类型：<ol><li>primary</li><li>secondary</li><li>success</li><li>danger</li><li>warning</li><li>info</li><li>light</li></ol></li><li>预览<ol><li><p class="note note-primary">primary</p></li><li><p class="note note-secondary">secondary</p></li><li><p class="note note-success">success</p></li><li><p class="note note-danger">danger</p></li><li><p class="note note-warning">warning</p></li><li><p class="note note-info">info</p></li><li><p class="note note-light">light</p></li></ol></li></ol></li></ol></li></ol></li></ol><h3 id="补充问题-hexo-提交到GitHub"><a href="#补充问题-hexo-提交到GitHub" class="headerlink" title="补充问题 hexo 提交到GitHub"></a>补充问题 hexo 提交到GitHub</h3><ol><li>该项目提交到GitHub使用非全局用户名和邮箱<ol><li>场景：个人账号和公司帐号不一致，提交时用户名和邮箱不一致，导致提交记录混乱。</li><li>解决方法<ol><li>需要在Hexo博客目录下的 .deploy_git 文件夹内设置局部配置<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config user.name 你的Github用户名<br>git config user.email 你的Github邮箱<br></code></pre></td></tr></table></figure></li><li>或者找到 .deploy_git 文件夹下 config 文件，在里面添加<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[user]<br>name = 你的Github用户名<br>email = 你的Github邮箱<br></code></pre></td></tr></table></figure></li></ol></li><li>注意：若执行<code>hexo clean</code>命令，则会清除缓存文件 (db.json) 和已生成的静态文件 (public)，包括 .deploy_git 文件夹下的配置。<strong>需重新配置</strong>。</li></ol></li></ol><h3 id="hexo-打包提交到自己的服务器"><a href="#hexo-打包提交到自己的服务器" class="headerlink" title="hexo 打包提交到自己的服务器"></a>hexo 打包提交到自己的服务器</h3><ol><li>需要修改的配置文件是Hexo博客根目录下的_config.yml（<strong>不是主题目录下的</strong>）</li><li>修改url配置为部署服务器路径 例如：<code>https://yournet.com</code><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-comment"># URL</span><br><span class="hljs-comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span><br><span class="hljs-comment"># url: http://47.116.185.99/blog</span><br><span class="hljs-attr">url:</span> <span class="hljs-string">https://easywz.github.io</span><br><span class="hljs-attr">permalink:</span> <span class="hljs-string">:year/:month/:day/:title/</span><br><span class="hljs-attr">permalink_defaults:</span><br><span class="hljs-attr">pretty_urls:</span><br>  <span class="hljs-attr">trailing_index:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># Set to false to remove trailing &#x27;index.html&#x27; from permalinks</span><br>  <span class="hljs-attr">trailing_html:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># Set to false to remove trailing &#x27;.html&#x27; from permalinks</span><br></code></pre></td></tr></table></figure></li><li>执行 <code>hexo clean</code> 清除原public文件夹 后 再执行 <code>hexo g</code>打包后的public文件夹内的内容传输到自己的服务器上</li></ol>]]></content>
    
    
    <categories>
      
      <category>前端</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
